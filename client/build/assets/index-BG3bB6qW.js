(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var $d={exports:{}},Ol={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function aw(){if(W_)return Ol;W_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ol.Fragment=e,Ol.jsx=n,Ol.jsxs=n,Ol}var Z_;function ow(){return Z_||(Z_=1,$d.exports=aw()),$d.exports}var w=ow(),Yd={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function lw(){if(J_)return Re;J_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function R(x){return x===null||typeof x!="object"?null:(x=S&&x[S]||x["@@iterator"],typeof x=="function"?x:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,K={};function F(x,te,fe){this.props=x,this.context=te,this.refs=K,this.updater=fe||O}F.prototype.isReactComponent={},F.prototype.setState=function(x,te){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,te,"setState")},F.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Y(){}Y.prototype=F.prototype;function ne(x,te,fe){this.props=x,this.context=te,this.refs=K,this.updater=fe||O}var ee=ne.prototype=new Y;ee.constructor=ne,L(ee,F.prototype),ee.isPureReactComponent=!0;var ge=Array.isArray,ce={H:null,A:null,T:null,S:null},we=Object.prototype.hasOwnProperty;function V(x,te,fe,se,ae,Ce){return fe=Ce.ref,{$$typeof:r,type:x,key:te,ref:fe!==void 0?fe:null,props:Ce}}function C(x,te){return V(x.type,te,void 0,void 0,void 0,x.props)}function b(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function D(x){var te={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(fe){return te[fe]})}var P=/\/+/g;function z(x,te){return typeof x=="object"&&x!==null&&x.key!=null?D(""+x.key):te.toString(36)}function N(){}function vt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(N,N):(x.status="pending",x.then(function(te){x.status==="pending"&&(x.status="fulfilled",x.value=te)},function(te){x.status==="pending"&&(x.status="rejected",x.reason=te)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function ft(x,te,fe,se,ae){var Ce=typeof x;(Ce==="undefined"||Ce==="boolean")&&(x=null);var be=!1;if(x===null)be=!0;else switch(Ce){case"bigint":case"string":case"number":be=!0;break;case"object":switch(x.$$typeof){case r:case e:be=!0;break;case E:return be=x._init,ft(be(x._payload),te,fe,se,ae)}}if(be)return ae=ae(x),be=se===""?"."+z(x,0):se,ge(ae)?(fe="",be!=null&&(fe=be.replace(P,"$&/")+"/"),ft(ae,te,fe,"",function(rt){return rt})):ae!=null&&(b(ae)&&(ae=C(ae,fe+(ae.key==null||x&&x.key===ae.key?"":(""+ae.key).replace(P,"$&/")+"/")+be)),te.push(ae)),1;be=0;var dt=se===""?".":se+":";if(ge(x))for(var je=0;je<x.length;je++)se=x[je],Ce=dt+z(se,je),be+=ft(se,te,fe,Ce,ae);else if(je=R(x),typeof je=="function")for(x=je.call(x),je=0;!(se=x.next()).done;)se=se.value,Ce=dt+z(se,je++),be+=ft(se,te,fe,Ce,ae);else if(Ce==="object"){if(typeof x.then=="function")return ft(vt(x),te,fe,se,ae);throw te=String(x),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return be}function re(x,te,fe){if(x==null)return x;var se=[],ae=0;return ft(x,se,"","",function(Ce){return te.call(fe,Ce,ae++)}),se}function ve(x){if(x._status===-1){var te=x._result;te=te(),te.then(function(fe){(x._status===0||x._status===-1)&&(x._status=1,x._result=fe)},function(fe){(x._status===0||x._status===-1)&&(x._status=2,x._result=fe)}),x._status===-1&&(x._status=0,x._result=te)}if(x._status===1)return x._result.default;throw x._result}var me=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function He(){}return Re.Children={map:re,forEach:function(x,te,fe){re(x,function(){te.apply(this,arguments)},fe)},count:function(x){var te=0;return re(x,function(){te++}),te},toArray:function(x){return re(x,function(te){return te})||[]},only:function(x){if(!b(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Re.Component=F,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=ne,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,Re.act=function(){throw Error("act(...) is not supported in production builds of React.")},Re.cache=function(x){return function(){return x.apply(null,arguments)}},Re.cloneElement=function(x,te,fe){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var se=L({},x.props),ae=x.key,Ce=void 0;if(te!=null)for(be in te.ref!==void 0&&(Ce=void 0),te.key!==void 0&&(ae=""+te.key),te)!we.call(te,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&te.ref===void 0||(se[be]=te[be]);var be=arguments.length-2;if(be===1)se.children=fe;else if(1<be){for(var dt=Array(be),je=0;je<be;je++)dt[je]=arguments[je+2];se.children=dt}return V(x.type,ae,void 0,void 0,Ce,se)},Re.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Re.createElement=function(x,te,fe){var se,ae={},Ce=null;if(te!=null)for(se in te.key!==void 0&&(Ce=""+te.key),te)we.call(te,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ae[se]=te[se]);var be=arguments.length-2;if(be===1)ae.children=fe;else if(1<be){for(var dt=Array(be),je=0;je<be;je++)dt[je]=arguments[je+2];ae.children=dt}if(x&&x.defaultProps)for(se in be=x.defaultProps,be)ae[se]===void 0&&(ae[se]=be[se]);return V(x,Ce,void 0,void 0,null,ae)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(x){return{$$typeof:m,render:x}},Re.isValidElement=b,Re.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:ve}},Re.memo=function(x,te){return{$$typeof:g,type:x,compare:te===void 0?null:te}},Re.startTransition=function(x){var te=ce.T,fe={};ce.T=fe;try{var se=x(),ae=ce.S;ae!==null&&ae(fe,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(He,me)}catch(Ce){me(Ce)}finally{ce.T=te}},Re.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},Re.use=function(x){return ce.H.use(x)},Re.useActionState=function(x,te,fe){return ce.H.useActionState(x,te,fe)},Re.useCallback=function(x,te){return ce.H.useCallback(x,te)},Re.useContext=function(x){return ce.H.useContext(x)},Re.useDebugValue=function(){},Re.useDeferredValue=function(x,te){return ce.H.useDeferredValue(x,te)},Re.useEffect=function(x,te){return ce.H.useEffect(x,te)},Re.useId=function(){return ce.H.useId()},Re.useImperativeHandle=function(x,te,fe){return ce.H.useImperativeHandle(x,te,fe)},Re.useInsertionEffect=function(x,te){return ce.H.useInsertionEffect(x,te)},Re.useLayoutEffect=function(x,te){return ce.H.useLayoutEffect(x,te)},Re.useMemo=function(x,te){return ce.H.useMemo(x,te)},Re.useOptimistic=function(x,te){return ce.H.useOptimistic(x,te)},Re.useReducer=function(x,te,fe){return ce.H.useReducer(x,te,fe)},Re.useRef=function(x){return ce.H.useRef(x)},Re.useState=function(x){return ce.H.useState(x)},Re.useSyncExternalStore=function(x,te,fe){return ce.H.useSyncExternalStore(x,te,fe)},Re.useTransition=function(){return ce.H.useTransition()},Re.version="19.0.0",Re}var ev;function Bm(){return ev||(ev=1,Yd.exports=lw()),Yd.exports}var q=Bm(),Xd={exports:{}},xl={},Wd={exports:{}},Zd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv;function uw(){return tv||(tv=1,function(r){function e(re,ve){var me=re.length;re.push(ve);e:for(;0<me;){var He=me-1>>>1,x=re[He];if(0<o(x,ve))re[He]=ve,re[me]=x,me=He;else break e}}function n(re){return re.length===0?null:re[0]}function s(re){if(re.length===0)return null;var ve=re[0],me=re.pop();if(me!==ve){re[0]=me;e:for(var He=0,x=re.length,te=x>>>1;He<te;){var fe=2*(He+1)-1,se=re[fe],ae=fe+1,Ce=re[ae];if(0>o(se,me))ae<x&&0>o(Ce,se)?(re[He]=Ce,re[ae]=me,He=ae):(re[He]=se,re[fe]=me,He=fe);else if(ae<x&&0>o(Ce,me))re[He]=Ce,re[ae]=me,He=ae;else break e}}return ve}function o(re,ve){var me=re.sortIndex-ve.sortIndex;return me!==0?me:re.id-ve.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,S=null,R=3,O=!1,L=!1,K=!1,F=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function ee(re){for(var ve=n(g);ve!==null;){if(ve.callback===null)s(g);else if(ve.startTime<=re)s(g),ve.sortIndex=ve.expirationTime,e(p,ve);else break;ve=n(g)}}function ge(re){if(K=!1,ee(re),!L)if(n(p)!==null)L=!0,vt();else{var ve=n(g);ve!==null&&ft(ge,ve.startTime-re)}}var ce=!1,we=-1,V=5,C=-1;function b(){return!(r.unstable_now()-C<V)}function D(){if(ce){var re=r.unstable_now();C=re;var ve=!0;try{e:{L=!1,K&&(K=!1,Y(we),we=-1),O=!0;var me=R;try{t:{for(ee(re),S=n(p);S!==null&&!(S.expirationTime>re&&b());){var He=S.callback;if(typeof He=="function"){S.callback=null,R=S.priorityLevel;var x=He(S.expirationTime<=re);if(re=r.unstable_now(),typeof x=="function"){S.callback=x,ee(re),ve=!0;break t}S===n(p)&&s(p),ee(re)}else s(p);S=n(p)}if(S!==null)ve=!0;else{var te=n(g);te!==null&&ft(ge,te.startTime-re),ve=!1}}break e}finally{S=null,R=me,O=!1}ve=void 0}}finally{ve?P():ce=!1}}}var P;if(typeof ne=="function")P=function(){ne(D)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,N=z.port2;z.port1.onmessage=D,P=function(){N.postMessage(null)}}else P=function(){F(D,0)};function vt(){ce||(ce=!0,P())}function ft(re,ve){we=F(function(){re(r.unstable_now())},ve)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(re){re.callback=null},r.unstable_continueExecution=function(){L||O||(L=!0,vt())},r.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<re?Math.floor(1e3/re):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(re){switch(R){case 1:case 2:case 3:var ve=3;break;default:ve=R}var me=R;R=ve;try{return re()}finally{R=me}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(re,ve){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var me=R;R=re;try{return ve()}finally{R=me}},r.unstable_scheduleCallback=function(re,ve,me){var He=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?He+me:He):me=He,re){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=me+x,re={id:E++,callback:ve,priorityLevel:re,startTime:me,expirationTime:x,sortIndex:-1},me>He?(re.sortIndex=me,e(g,re),n(p)===null&&re===n(g)&&(K?(Y(we),we=-1):K=!0,ft(ge,me-He))):(re.sortIndex=x,e(p,re),L||O||(L=!0,vt())),re},r.unstable_shouldYield=b,r.unstable_wrapCallback=function(re){var ve=R;return function(){var me=R;R=ve;try{return re.apply(this,arguments)}finally{R=me}}}}(Zd)),Zd}var nv;function cw(){return nv||(nv=1,Wd.exports=uw()),Wd.exports}var Jd={exports:{}},Qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function hw(){if(iv)return Qt;iv=1;var r=Bm();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Qt.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Qt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Qt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Qt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:O}):E==="script"&&s.d.X(p,{crossOrigin:S,integrity:R,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Qt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Qt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Qt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Qt.requestFormReset=function(p){s.d.r(p)},Qt.unstable_batchedUpdates=function(p,g){return p(g)},Qt.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Qt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Qt.version="19.0.0",Qt}var rv;function fw(){if(rv)return Jd.exports;rv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Jd.exports=hw(),Jd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function dw(){if(sv)return xl;sv=1;var r=cw(),e=Bm(),n=fw();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),O=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),ge=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function we(t){return t===null||typeof t!="object"?null:(t=ce&&t[ce]||t["@@iterator"],typeof t=="function"?t:null)}var V=Symbol.for("react.client.reference");function C(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===V?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case m:return"Portal";case E:return"Profiler";case g:return"StrictMode";case K:return"Suspense";case F:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case O:return(t.displayName||"Context")+".Provider";case R:return(t._context.displayName||"Context")+".Consumer";case L:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y:return i=t.displayName||null,i!==null?i:C(t.type)||"Memo";case ne:i=t._payload,t=t._init;try{return C(t(i))}catch{}}return null}var b=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,P,z;function N(t){if(P===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);P=i&&i[1]||"",z=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+P+t+z}var vt=!1;function ft(t,i){if(!t||vt)return"";vt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(Q){var H=Q}Reflect.construct(t,[],J)}else{try{J.call()}catch(Q){H=Q}t.call(J.prototype)}}else{try{throw Error()}catch(Q){H=Q}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(Q){if(Q&&H&&typeof Q.stack=="string")return[Q.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),k=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===k.length)for(l=I.length-1,h=k.length-1;1<=l&&0<=h&&I[l]!==k[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==k[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==k[h]){var $=`
`+I[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{vt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?N(a):""}function re(t){switch(t.tag){case 26:case 27:case 5:return N(t.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return t=ft(t.type,!1),t;case 11:return t=ft(t.type.render,!1),t;case 1:return t=ft(t.type,!0),t;default:return""}}function ve(t){try{var i="";do i+=re(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function me(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function He(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function x(t){if(me(t)!==t)throw Error(s(188))}function te(t){var i=t.alternate;if(!i){if(i=me(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return x(h),t;if(d===l)return x(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function fe(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=fe(t),i!==null)return i;t=t.sibling}return null}var se=Array.isArray,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ce={pending:!1,data:null,method:null,action:null},be=[],dt=-1;function je(t){return{current:t}}function rt(t){0>dt||(t.current=be[dt],be[dt]=null,dt--)}function Ke(t,i){dt++,be[dt]=t.current,t.current=i}var Jt=je(null),wi=je(null),Tn=je(null),cr=je(null);function hr(t,i){switch(Ke(Tn,i),Ke(wi,t),Ke(Jt,null),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?R_(i):0;break;default:if(t=t===8?i.parentNode:i,i=t.tagName,t=t.namespaceURI)t=R_(t),i=C_(t,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}rt(Jt),Ke(Jt,i)}function bi(){rt(Jt),rt(wi),rt(Tn)}function Ro(t){t.memoizedState!==null&&Ke(cr,t);var i=Jt.current,a=C_(i,t.type);i!==a&&(Ke(wi,t),Ke(Jt,a))}function sa(t){wi.current===t&&(rt(Jt),rt(wi)),cr.current===t&&(rt(cr),Rl._currentValue=Ce)}var aa=Object.prototype.hasOwnProperty,ps=r.unstable_scheduleCallback,oa=r.unstable_cancelCallback,Yh=r.unstable_shouldYield,Co=r.unstable_requestPaint,on=r.unstable_now,pu=r.unstable_getCurrentPriorityLevel,Et=r.unstable_ImmediatePriority,It=r.unstable_UserBlockingPriority,Ri=r.unstable_NormalPriority,gu=r.unstable_LowPriority,Io=r.unstable_IdlePriority,Xh=r.log,gs=r.unstable_setDisableYieldValue,fr=null,Gt=null;function Do(t){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(fr,t,void 0,(t.current.flags&128)===128)}catch{}}function Jn(t){if(typeof Xh=="function"&&gs(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(fr,t)}catch{}}var en=Math.clz32?Math.clz32:_u,No=Math.log,yu=Math.LN2;function _u(t){return t>>>=0,t===0?32:31-(No(t)/yu|0)|0}var ei=128,dr=4194304;function zn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Sn(t,i){var a=t.pendingLanes;if(a===0)return 0;var l=0,h=t.suspendedLanes,d=t.pingedLanes,v=t.warmLanes;t=t.finishedLanes!==0;var T=a&134217727;return T!==0?(a=T&~h,a!==0?l=zn(a):(d&=T,d!==0?l=zn(d):t||(v=T&~v,v!==0&&(l=zn(v))))):(T=a&~h,T!==0?l=zn(T):d!==0?l=zn(d):t||(v=a&~v,v!==0&&(l=zn(v)))),l===0?0:i!==0&&i!==l&&(i&h)===0&&(h=l&-l,v=i&-i,h>=v||h===32&&(v&4194176)!==0)?i:l}function mr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function la(t,i){switch(t){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oo(){var t=ei;return ei<<=1,(ei&4194176)===0&&(ei=128),t}function pr(){var t=dr;return dr<<=1,(dr&62914560)===0&&(dr=4194304),t}function ua(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function ut(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function vu(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,k=t.hiddenUpdates;for(a=v&~a;0<a;){var $=31-en(a),J=1<<$;T[$]=0,I[$]=-1;var H=k[$];if(H!==null)for(k[$]=null,$=0;$<H.length;$++){var Q=H[$];Q!==null&&(Q.lane&=-536870913)}a&=~J}l!==0&&gr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function gr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-en(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function yr(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-en(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Eu(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Tu(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:G_(t.type))}function _r(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var ti=Math.random().toString(36).slice(2),Dt="__reactFiber$"+ti,Tt="__reactProps$"+ti,Ci="__reactContainer$"+ti,ys="__reactEvents$"+ti,ca="__reactListeners$"+ti,ni="__reactHandles$"+ti,xo="__reactResources$"+ti,vr="__reactMarker$"+ti;function _s(t){delete t[Dt],delete t[Tt],delete t[ys],delete t[ca],delete t[ni]}function Bn(t){var i=t[Dt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ci]||a[Dt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=N_(t);t!==null;){if(a=t[Dt])return a;t=N_(t)}return i}t=a,a=t.parentNode}return null}function Ii(t){if(t=t[Dt]||t[Ci]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Er(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Tr(t){var i=t[xo];return i||(i=t[xo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function et(t){t[vr]=!0}var Mo=new Set,ha={};function fn(t,i){ln(t,i),ln(t+"Capture",i)}function ln(t,i){for(ha[t]=i,t=0;t<i.length;t++)Mo.add(i[t])}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vo={},Po={};function Su(t){return aa.call(Po,t)?!0:aa.call(Vo,t)?!1:Wh.test(t)?Po[t]=!0:(Vo[t]=!0,!1)}function Sr(t,i,a){if(Su(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Ar(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function An(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Au(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Zh(t){var i=Au(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function vs(t){t._valueTracker||(t._valueTracker=Zh(t))}function ko(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Au(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function fa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Di=/[\n"\\]/g;function st(t){return t.replace(Di,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function wr(t,i,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+tn(i)):t.value!==""+tn(i)&&(t.value=""+tn(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?da(t,v,tn(i)):a!=null?da(t,v,tn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+tn(T):t.removeAttribute("name")}function Es(t,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+tn(a):"",i=i!=null?""+tn(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function da(t,i,a){i==="number"&&fa(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ze(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+tn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Ts(t,i,a){if(i!=null&&(i=""+tn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+tn(a):""}function br(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(se(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=tn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function wn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Jh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Jh.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function wu(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Lo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Lo(t,d,i[d])}function Uo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ef=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ii(t){return tf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var bn=null;function ma(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ni=null,Oi=null;function xi(t){var i=Ii(t);if(i&&(t=i.stateNode)){var a=t[Tt]||null;e:switch(t=i.stateNode,i.type){case"input":if(wr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+st(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Tt]||null;if(!h)throw Error(s(90));wr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&ko(l)}break e;case"textarea":Ts(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&ze(t,!!a.multiple,i,!1)}}}var jo=!1;function bu(t,i,a){if(jo)return t(i,a);jo=!0;try{var l=t(i);return l}finally{if(jo=!1,(Ni!==null||Oi!==null)&&(gc(),Ni&&(i=Ni,t=Oi,Oi=Ni=null,xi(i),t)))for(i=0;i<t.length;i++)xi(t[i])}}function Ss(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Tt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Rn=!1;if(dn)try{var As={};Object.defineProperty(As,"passive",{get:function(){Rn=!0}}),window.addEventListener("test",As,As),window.removeEventListener("test",As,As)}catch{Rn=!1}var ri=null,Rr=null,Mi=null;function zo(){if(Mi)return Mi;var t,i=Rr,a=i.length,l,h="value"in ri?ri.value:ri.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Mi=h.slice(t,1<l?1-l:void 0)}function si(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ai(){return!0}function Bo(){return!1}function Nt(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ai:Bo,this.isPropagationStopped=Bo,this}return D(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),i}var Fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pa=Nt(Fe),ws=D({},Fe,{view:0,detail:0}),Ru=Nt(ws),ga,ya,oi,bs=D({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Is,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oi&&(oi&&t.type==="mousemove"?(ga=t.screenX-oi.screenX,ya=t.screenY-oi.screenY):ya=ga=0,oi=t),ga)},movementY:function(t){return"movementY"in t?t.movementY:ya}}),Cn=Nt(bs),Cu=D({},bs,{dataTransfer:0}),nf=Nt(Cu),Rs=D({},ws,{relatedTarget:0}),_a=Nt(Rs),qo=D({},Fe,{animationName:0,elapsedTime:0,pseudoElement:0}),va=Nt(qo),Iu=D({},Fe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ea=Nt(Iu),rf=D({},Fe,{data:0}),Ho=Nt(rf),Cs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Nu[t])?!!i[t]:!1}function Is(){return Fo}var Ou=D({},ws,{key:function(t){if(t.key){var i=Cs[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=si(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Du[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Is,charCode:function(t){return t.type==="keypress"?si(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?si(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ta=Nt(Ou),xu=D({},bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Go=Nt(xu),Vi=D({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Is}),Mu=Nt(Vi),Vu=D({},Fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pu=Nt(Vu),ku=D({},bs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Sa=Nt(ku),nn=D({},Fe,{newState:0,oldState:0}),Lu=Nt(nn),Uu=[9,13,27,32],li=dn&&"CompositionEvent"in window,c=null;dn&&"documentMode"in document&&(c=document.documentMode);var y=dn&&"TextEvent"in window&&!c,_=dn&&(!li||c&&8<c&&11>=c),A=" ",j=!1;function G(t,i){switch(t){case"keyup":return Uu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ie(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pe=!1;function St(t,i){switch(t){case"compositionend":return ie(i);case"keypress":return i.which!==32?null:(j=!0,A);case"textInput":return t=i.data,t===A&&j?null:t;default:return null}}function ke(t,i){if(Pe)return t==="compositionend"||!li&&G(t,i)?(t=zo(),Mi=Rr=ri=null,Pe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Ot={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function At(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Ot[t.type]:i==="textarea"}function Pi(t,i,a,l){Ni?Oi?Oi.push(l):Oi=[l]:Ni=l,i=Tc(i,"onChange"),0<i.length&&(a=new pa("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Lt=null,ui=null;function Ko(t){T_(t,0)}function ju(t){var i=Er(t);if(ko(i))return t}function Xp(t,i){if(t==="change")return i}var Wp=!1;if(dn){var sf;if(dn){var af="oninput"in document;if(!af){var Zp=document.createElement("div");Zp.setAttribute("oninput","return;"),af=typeof Zp.oninput=="function"}sf=af}else sf=!1;Wp=sf&&(!document.documentMode||9<document.documentMode)}function Jp(){Lt&&(Lt.detachEvent("onpropertychange",eg),ui=Lt=null)}function eg(t){if(t.propertyName==="value"&&ju(ui)){var i=[];Pi(i,ui,t,ma(t)),bu(Ko,i)}}function kS(t,i,a){t==="focusin"?(Jp(),Lt=i,ui=a,Lt.attachEvent("onpropertychange",eg)):t==="focusout"&&Jp()}function LS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ju(ui)}function US(t,i){if(t==="click")return ju(i)}function jS(t,i){if(t==="input"||t==="change")return ju(i)}function zS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var mn=typeof Object.is=="function"?Object.is:zS;function Qo(t,i){if(mn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!aa.call(i,h)||!mn(t[h],i[h]))return!1}return!0}function tg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ng(t,i){var a=tg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=tg(a)}}function ig(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?ig(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function rg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=fa(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=fa(t.document)}return i}function of(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function BS(t,i){var a=rg(i);i=t.focusedElem;var l=t.selectionRange;if(a!==i&&i&&i.ownerDocument&&ig(i.ownerDocument.documentElement,i)){if(l!==null&&of(i)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(a,i.value.length);else if(a=(t=i.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=ng(i,d);var v=ng(i,l);h&&v&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(t),a.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),a.addRange(t)))}}for(t=[],a=i;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)a=t[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var qS=dn&&"documentMode"in document&&11>=document.documentMode,Aa=null,lf=null,$o=null,uf=!1;function sg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;uf||Aa==null||Aa!==fa(l)||(l=Aa,"selectionStart"in l&&of(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),$o&&Qo($o,l)||($o=l,l=Tc(lf,"onSelect"),0<l.length&&(i=new pa("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Aa)))}function Ds(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var wa={animationend:Ds("Animation","AnimationEnd"),animationiteration:Ds("Animation","AnimationIteration"),animationstart:Ds("Animation","AnimationStart"),transitionrun:Ds("Transition","TransitionRun"),transitionstart:Ds("Transition","TransitionStart"),transitioncancel:Ds("Transition","TransitionCancel"),transitionend:Ds("Transition","TransitionEnd")},cf={},ag={};dn&&(ag=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function Ns(t){if(cf[t])return cf[t];if(!wa[t])return t;var i=wa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in ag)return cf[t]=i[a];return t}var og=Ns("animationend"),lg=Ns("animationiteration"),ug=Ns("animationstart"),HS=Ns("transitionrun"),FS=Ns("transitionstart"),GS=Ns("transitioncancel"),cg=Ns("transitionend"),hg=new Map,fg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function qn(t,i){hg.set(t,i),fn(i,[t])}var In=[],ba=0,hf=0;function zu(){for(var t=ba,i=hf=ba=0;i<t;){var a=In[i];In[i++]=null;var l=In[i];In[i++]=null;var h=In[i];In[i++]=null;var d=In[i];if(In[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&dg(a,h,d)}}function Bu(t,i,a,l){In[ba++]=t,In[ba++]=i,In[ba++]=a,In[ba++]=l,hf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function ff(t,i,a,l){return Bu(t,i,a,l),qu(t)}function Cr(t,i){return Bu(t,null,null,i),qu(t)}function dg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;h&&i!==null&&t.tag===3&&(d=t.stateNode,h=31-en(a),d=d.hiddenUpdates,t=d[h],t===null?d[h]=[i]:t.push(i),i.lane=a|536870912)}function qu(t){if(50<vl)throw vl=0,_d=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ra={},mg=new WeakMap;function Dn(t,i){if(typeof t=="object"&&t!==null){var a=mg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ve(i)},mg.set(t,i),i)}return{value:t,source:i,stack:ve(i)}}var Ca=[],Ia=0,Hu=null,Fu=0,Nn=[],On=0,Os=null,ki=1,Li="";function xs(t,i){Ca[Ia++]=Fu,Ca[Ia++]=Hu,Hu=t,Fu=i}function pg(t,i,a){Nn[On++]=ki,Nn[On++]=Li,Nn[On++]=Os,Os=t;var l=ki;t=Li;var h=32-en(l)-1;l&=~(1<<h),a+=1;var d=32-en(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,ki=1<<32-en(i)+h|a<<h|l,Li=d+t}else ki=1<<d|a<<h|l,Li=t}function df(t){t.return!==null&&(xs(t,1),pg(t,1,0))}function mf(t){for(;t===Hu;)Hu=Ca[--Ia],Ca[Ia]=null,Fu=Ca[--Ia],Ca[Ia]=null;for(;t===Os;)Os=Nn[--On],Nn[On]=null,Li=Nn[--On],Nn[On]=null,ki=Nn[--On],Nn[On]=null}var rn=null,Ut=null,Be=!1,Hn=null,ci=!1,pf=Error(s(519));function Ms(t){var i=Error(s(418,""));throw Wo(Dn(i,t)),pf}function gg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Dt]=t,i[Tt]=l,a){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(a=0;a<Tl.length;a++)Me(Tl[a],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),Es(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),vs(i);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),br(i,l.value,l.defaultValue,l.children),vs(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||b_(i.textContent,a)?(l.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),l.onScroll!=null&&Me("scroll",i),l.onScrollEnd!=null&&Me("scrollend",i),l.onClick!=null&&(i.onclick=Sc),i=!0):i=!1,i||Ms(t)}function yg(t){for(rn=t.return;rn;)switch(rn.tag){case 3:case 27:ci=!0;return;case 5:case 13:ci=!1;return;default:rn=rn.return}}function Yo(t){if(t!==rn)return!1;if(!Be)return yg(t),Be=!0,!1;var i=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Pd(t.type,t.memoizedProps)),a=!a),a&&(i=!0),i&&Ut&&Ms(t),yg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){Ut=Gn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}Ut=null}}else Ut=rn?Gn(t.stateNode.nextSibling):null;return!0}function Xo(){Ut=rn=null,Be=!1}function Wo(t){Hn===null?Hn=[t]:Hn.push(t)}var Zo=Error(s(460)),_g=Error(s(474)),gf={then:function(){}};function vg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Gu(){}function Eg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Gu,Gu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===Zo?Error(s(483)):t;default:if(typeof i.status=="string")i.then(Gu,Gu);else{if(t=Xe,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===Zo?Error(s(483)):t}throw Jo=i,Zo}}var Jo=null;function Tg(){if(Jo===null)throw Error(s(459));var t=Jo;return Jo=null,t}var Da=null,el=0;function Ku(t){var i=el;return el+=1,Da===null&&(Da=[]),Eg(Da,t,i)}function tl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Qu(t,i){throw i.$$typeof===u?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Sg(t){var i=t._init;return i(t._payload)}function Ag(t){function i(U,M){if(t){var B=U.deletions;B===null?(U.deletions=[M],U.flags|=16):B.push(M)}}function a(U,M){if(!t)return null;for(;M!==null;)i(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=jr(U,M),U.index=0,U.sibling=null,U}function d(U,M,B){return U.index=B,t?(B=U.alternate,B!==null?(B=B.index,B<M?(U.flags|=33554434,M):B):(U.flags|=33554434,M)):(U.flags|=1048576,M)}function v(U){return t&&U.alternate===null&&(U.flags|=33554434),U}function T(U,M,B,X){return M===null||M.tag!==6?(M=cd(B,U.mode,X),M.return=U,M):(M=h(M,B),M.return=U,M)}function I(U,M,B,X){var ue=B.type;return ue===p?$(U,M,B.props.children,X,B.key):M!==null&&(M.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===ne&&Sg(ue)===M.type)?(M=h(M,B.props),tl(M,B),M.return=U,M):(M=hc(B.type,B.key,B.props,null,U.mode,X),tl(M,B),M.return=U,M)}function k(U,M,B,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=hd(B,U.mode,X),M.return=U,M):(M=h(M,B.children||[]),M.return=U,M)}function $(U,M,B,X,ue){return M===null||M.tag!==7?(M=Hs(B,U.mode,X,ue),M.return=U,M):(M=h(M,B),M.return=U,M)}function J(U,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=cd(""+M,U.mode,B),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case f:return B=hc(M.type,M.key,M.props,null,U.mode,B),tl(B,M),B.return=U,B;case m:return M=hd(M,U.mode,B),M.return=U,M;case ne:var X=M._init;return M=X(M._payload),J(U,M,B)}if(se(M)||we(M))return M=Hs(M,U.mode,B,null),M.return=U,M;if(typeof M.then=="function")return J(U,Ku(M),B);if(M.$$typeof===O)return J(U,lc(U,M),B);Qu(U,M)}return null}function H(U,M,B,X){var ue=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ue!==null?null:T(U,M,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case f:return B.key===ue?I(U,M,B,X):null;case m:return B.key===ue?k(U,M,B,X):null;case ne:return ue=B._init,B=ue(B._payload),H(U,M,B,X)}if(se(B)||we(B))return ue!==null?null:$(U,M,B,X,null);if(typeof B.then=="function")return H(U,M,Ku(B),X);if(B.$$typeof===O)return H(U,M,lc(U,B),X);Qu(U,B)}return null}function Q(U,M,B,X,ue){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return U=U.get(B)||null,T(M,U,""+X,ue);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case f:return U=U.get(X.key===null?B:X.key)||null,I(M,U,X,ue);case m:return U=U.get(X.key===null?B:X.key)||null,k(M,U,X,ue);case ne:var De=X._init;return X=De(X._payload),Q(U,M,B,X,ue)}if(se(X)||we(X))return U=U.get(B)||null,$(M,U,X,ue,null);if(typeof X.then=="function")return Q(U,M,B,Ku(X),ue);if(X.$$typeof===O)return Q(U,M,B,lc(M,X),ue);Qu(M,X)}return null}function he(U,M,B,X){for(var ue=null,De=null,de=M,ye=M=0,Vt=null;de!==null&&ye<B.length;ye++){de.index>ye?(Vt=de,de=null):Vt=de.sibling;var qe=H(U,de,B[ye],X);if(qe===null){de===null&&(de=Vt);break}t&&de&&qe.alternate===null&&i(U,de),M=d(qe,M,ye),De===null?ue=qe:De.sibling=qe,De=qe,de=Vt}if(ye===B.length)return a(U,de),Be&&xs(U,ye),ue;if(de===null){for(;ye<B.length;ye++)de=J(U,B[ye],X),de!==null&&(M=d(de,M,ye),De===null?ue=de:De.sibling=de,De=de);return Be&&xs(U,ye),ue}for(de=l(de);ye<B.length;ye++)Vt=Q(de,U,ye,B[ye],X),Vt!==null&&(t&&Vt.alternate!==null&&de.delete(Vt.key===null?ye:Vt.key),M=d(Vt,M,ye),De===null?ue=Vt:De.sibling=Vt,De=Vt);return t&&de.forEach(function(Kr){return i(U,Kr)}),Be&&xs(U,ye),ue}function Se(U,M,B,X){if(B==null)throw Error(s(151));for(var ue=null,De=null,de=M,ye=M=0,Vt=null,qe=B.next();de!==null&&!qe.done;ye++,qe=B.next()){de.index>ye?(Vt=de,de=null):Vt=de.sibling;var Kr=H(U,de,qe.value,X);if(Kr===null){de===null&&(de=Vt);break}t&&de&&Kr.alternate===null&&i(U,de),M=d(Kr,M,ye),De===null?ue=Kr:De.sibling=Kr,De=Kr,de=Vt}if(qe.done)return a(U,de),Be&&xs(U,ye),ue;if(de===null){for(;!qe.done;ye++,qe=B.next())qe=J(U,qe.value,X),qe!==null&&(M=d(qe,M,ye),De===null?ue=qe:De.sibling=qe,De=qe);return Be&&xs(U,ye),ue}for(de=l(de);!qe.done;ye++,qe=B.next())qe=Q(de,U,ye,qe.value,X),qe!==null&&(t&&qe.alternate!==null&&de.delete(qe.key===null?ye:qe.key),M=d(qe,M,ye),De===null?ue=qe:De.sibling=qe,De=qe);return t&&de.forEach(function(sw){return i(U,sw)}),Be&&xs(U,ye),ue}function lt(U,M,B,X){if(typeof B=="object"&&B!==null&&B.type===p&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case f:e:{for(var ue=B.key;M!==null;){if(M.key===ue){if(ue=B.type,ue===p){if(M.tag===7){a(U,M.sibling),X=h(M,B.props.children),X.return=U,U=X;break e}}else if(M.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===ne&&Sg(ue)===M.type){a(U,M.sibling),X=h(M,B.props),tl(X,B),X.return=U,U=X;break e}a(U,M);break}else i(U,M);M=M.sibling}B.type===p?(X=Hs(B.props.children,U.mode,X,B.key),X.return=U,U=X):(X=hc(B.type,B.key,B.props,null,U.mode,X),tl(X,B),X.return=U,U=X)}return v(U);case m:e:{for(ue=B.key;M!==null;){if(M.key===ue)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){a(U,M.sibling),X=h(M,B.children||[]),X.return=U,U=X;break e}else{a(U,M);break}else i(U,M);M=M.sibling}X=hd(B,U.mode,X),X.return=U,U=X}return v(U);case ne:return ue=B._init,B=ue(B._payload),lt(U,M,B,X)}if(se(B))return he(U,M,B,X);if(we(B)){if(ue=we(B),typeof ue!="function")throw Error(s(150));return B=ue.call(B),Se(U,M,B,X)}if(typeof B.then=="function")return lt(U,M,Ku(B),X);if(B.$$typeof===O)return lt(U,M,lc(U,B),X);Qu(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(a(U,M.sibling),X=h(M,B),X.return=U,U=X):(a(U,M),X=cd(B,U.mode,X),X.return=U,U=X),v(U)):a(U,M)}return function(U,M,B,X){try{el=0;var ue=lt(U,M,B,X);return Da=null,ue}catch(de){if(de===Zo)throw de;var De=Pn(29,de,null,U.mode);return De.lanes=X,De.return=U,De}finally{}}}var Vs=Ag(!0),wg=Ag(!1),Na=je(null),$u=je(0);function bg(t,i){t=$i,Ke($u,t),Ke(Na,i),$i=t|i.baseLanes}function yf(){Ke($u,$i),Ke(Na,Na.current)}function _f(){$i=$u.current,rt(Na),rt($u)}var xn=je(null),hi=null;function Ir(t){var i=t.alternate;Ke(wt,wt.current&1),Ke(xn,t),hi===null&&(i===null||Na.current!==null||i.memoizedState!==null)&&(hi=t)}function Rg(t){if(t.tag===22){if(Ke(wt,wt.current),Ke(xn,t),hi===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(hi=t)}}else Dr()}function Dr(){Ke(wt,wt.current),Ke(xn,xn.current)}function Ui(t){rt(xn),hi===t&&(hi=null),rt(wt)}var wt=je(0);function Yu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var KS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},QS=r.unstable_scheduleCallback,$S=r.unstable_NormalPriority,bt={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vf(){return{controller:new KS,data:new Map,refCount:0}}function nl(t){t.refCount--,t.refCount===0&&QS($S,function(){t.controller.abort()})}var il=null,Ef=0,Oa=0,xa=null;function YS(t,i){if(il===null){var a=il=[];Ef=0,Oa=Rd(),xa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ef++,i.then(Cg,Cg),i}function Cg(){if(--Ef===0&&il!==null){xa!==null&&(xa.status="fulfilled");var t=il;il=null,Oa=0,xa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function XS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Ig=b.S;b.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&YS(t,i),Ig!==null&&Ig(t,i)};var Ps=je(null);function Tf(){var t=Ps.current;return t!==null?t:Xe.pooledCache}function Xu(t,i){i===null?Ke(Ps,Ps.current):Ke(Ps,i.pool)}function Dg(){var t=Tf();return t===null?null:{parent:bt._currentValue,pool:t}}var Nr=0,Ie=null,Qe=null,mt=null,Wu=!1,Ma=!1,ks=!1,Zu=0,rl=0,Va=null,WS=0;function ct(){throw Error(s(321))}function Sf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!mn(t[a],i[a]))return!1;return!0}function Af(t,i,a,l,h,d){return Nr=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,b.H=t===null||t.memoizedState===null?Ls:Or,ks=!1,d=a(l,h),ks=!1,Ma&&(d=Og(i,a,l,h)),Ng(t),d}function Ng(t){b.H=fi;var i=Qe!==null&&Qe.next!==null;if(Nr=0,mt=Qe=Ie=null,Wu=!1,rl=0,Va=null,i)throw Error(s(300));t===null||xt||(t=t.dependencies,t!==null&&oc(t)&&(xt=!0))}function Og(t,i,a,l){Ie=t;var h=0;do{if(Ma&&(Va=null),rl=0,Ma=!1,25<=h)throw Error(s(301));if(h+=1,mt=Qe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}b.H=Us,d=i(a,l)}while(Ma);return d}function ZS(){var t=b.H,i=t.useState()[0];return i=typeof i.then=="function"?sl(i):i,t=t.useState()[0],(Qe!==null?Qe.memoizedState:null)!==t&&(Ie.flags|=1024),i}function wf(){var t=Zu!==0;return Zu=0,t}function bf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Rf(t){if(Wu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Wu=!1}Nr=0,mt=Qe=Ie=null,Ma=!1,rl=Zu=0,Va=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Ie.memoizedState=mt=t:mt=mt.next=t,mt}function pt(){if(Qe===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Qe.next;var i=mt===null?Ie.memoizedState:mt.next;if(i!==null)mt=i,Qe=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Qe=t,t={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},mt===null?Ie.memoizedState=mt=t:mt=mt.next=t}return mt}var Ju;Ju=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function sl(t){var i=rl;return rl+=1,Va===null&&(Va=[]),t=Eg(Va,t,i),i=Ie,(mt===null?i.memoizedState:mt.next)===null&&(i=i.alternate,b.H=i===null||i.memoizedState===null?Ls:Or),t}function ec(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return sl(t);if(t.$$typeof===O)return Kt(t)}throw Error(s(438,String(t)))}function Cf(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ju(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=ge;return i.index++,a}function ji(t,i){return typeof i=="function"?i(t):i}function tc(t){var i=pt();return If(i,Qe,t)}function If(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=v=null,I=null,k=i,$=!1;do{var J=k.lane&-536870913;if(J!==k.lane?(Le&J)===J:(Nr&J)===J){var H=k.revertLane;if(H===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),J===Oa&&($=!0);else if((Nr&H)===H){k=k.next,H===Oa&&($=!0);continue}else J={lane:0,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},I===null?(T=I=J,v=d):I=I.next=J,Ie.lanes|=H,zr|=H;J=k.action,ks&&a(d,J),d=k.hasEagerState?k.eagerState:a(d,J)}else H={lane:J,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},I===null?(T=I=H,v=d):I=I.next=H,Ie.lanes|=J,zr|=J;k=k.next}while(k!==null&&k!==i);if(I===null?v=d:I.next=T,!mn(d,t.memoizedState)&&(xt=!0,$&&(a=xa,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Df(t){var i=pt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);mn(d,i.memoizedState)||(xt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function xg(t,i,a){var l=Ie,h=pt(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!mn((Qe||h).memoizedState,a);if(v&&(h.memoizedState=a,xt=!0),h=h.queue,xf(Pg.bind(null,l,h,t),[t]),h.getSnapshot!==i||v||mt!==null&&mt.memoizedState.tag&1){if(l.flags|=2048,Pa(9,Vg.bind(null,l,h,a,i),{destroy:void 0},null),Xe===null)throw Error(s(349));d||(Nr&60)!==0||Mg(l,i,a)}return a}function Mg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=Ju(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Vg(t,i,a,l){i.value=a,i.getSnapshot=l,kg(i)&&Lg(t)}function Pg(t,i,a){return a(function(){kg(i)&&Lg(t)})}function kg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!mn(t,a)}catch{return!0}}function Lg(t){var i=Cr(t,2);i!==null&&sn(i,t,2)}function Nf(t){var i=un();if(typeof t=="function"){var a=t;if(t=a(),ks){Jn(!0);try{a()}finally{Jn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:t},i}function Ug(t,i,a,l){return t.baseState=a,If(t,Qe,typeof l=="function"?l:ji)}function JS(t,i,a,l,h){if(rc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};b.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,jg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function jg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=b.T,v={};b.T=v;try{var T=a(h,l),I=b.S;I!==null&&I(v,T),zg(t,i,T)}catch(k){Of(t,i,k)}finally{b.T=d}}else try{d=a(h,l),zg(t,i,d)}catch(k){Of(t,i,k)}}function zg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Bg(t,i,l)},function(l){return Of(t,i,l)}):Bg(t,i,a)}function Bg(t,i,a){i.status="fulfilled",i.value=a,qg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,jg(t,a)))}function Of(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,qg(i),i=i.next;while(i!==l)}t.action=null}function qg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Hg(t,i){return i}function Fg(t,i){if(Be){var a=Xe.formState;if(a!==null){e:{var l=Ie;if(Be){if(Ut){t:{for(var h=Ut,d=ci;h.nodeType!==8;){if(!d){h=null;break t}if(h=Gn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Ut=Gn(h.nextSibling),l=h.data==="F!";break e}}Ms(l)}l=!1}l&&(i=a[0])}}return a=un(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hg,lastRenderedState:i},a.queue=l,a=ly.bind(null,Ie,l),l.dispatch=a,l=Nf(!1),d=Lf.bind(null,Ie,!1,l.queue),l=un(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=JS.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Gg(t){var i=pt();return Kg(i,Qe,t)}function Kg(t,i,a){i=If(t,i,Hg)[0],t=tc(ji)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?sl(i):i;var l=pt(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(Ie.flags|=2048,Pa(9,eA.bind(null,h,a),{destroy:void 0},null)),[i,d,t]}function eA(t,i){t.action=i}function Qg(t){var i=pt(),a=Qe;if(a!==null)return Kg(i,a,t);pt(),i=i.memoizedState,a=pt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Pa(t,i,a,l){return t={tag:t,create:i,inst:a,deps:l,next:null},i=Ie.updateQueue,i===null&&(i=Ju(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function $g(){return pt().memoizedState}function nc(t,i,a,l){var h=un();Ie.flags|=t,h.memoizedState=Pa(1|i,a,{destroy:void 0},l===void 0?null:l)}function ic(t,i,a,l){var h=pt();l=l===void 0?null:l;var d=h.memoizedState.inst;Qe!==null&&l!==null&&Sf(l,Qe.memoizedState.deps)?h.memoizedState=Pa(i,a,d,l):(Ie.flags|=t,h.memoizedState=Pa(1|i,a,d,l))}function Yg(t,i){nc(8390656,8,t,i)}function xf(t,i){ic(2048,8,t,i)}function Xg(t,i){return ic(4,2,t,i)}function Wg(t,i){return ic(4,4,t,i)}function Zg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Jg(t,i,a){a=a!=null?a.concat([t]):null,ic(4,4,Zg.bind(null,i,t),a)}function Mf(){}function ey(t,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Sf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function ty(t,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Sf(i,l[1]))return l[0];if(l=t(),ks){Jn(!0);try{t()}finally{Jn(!1)}}return a.memoizedState=[l,i],l}function Vf(t,i,a){return a===void 0||(Nr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=i_(),Ie.lanes|=t,zr|=t,a)}function ny(t,i,a,l){return mn(a,i)?a:Na.current!==null?(t=Vf(t,a,l),mn(t,i)||(xt=!0),t):(Nr&42)===0?(xt=!0,t.memoizedState=a):(t=i_(),Ie.lanes|=t,zr|=t,i)}function iy(t,i,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var v=b.T,T={};b.T=T,Lf(t,!1,i,a);try{var I=h(),k=b.S;if(k!==null&&k(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var $=XS(I,l);al(t,i,$,_n(t))}else al(t,i,l,_n(t))}catch(J){al(t,i,{then:function(){},status:"rejected",reason:J},_n())}finally{ae.p=d,b.T=v}}function tA(){}function Pf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=ry(t).queue;iy(t,h,i,Ce,a===null?tA:function(){return sy(t),a(l)})}function ry(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Ce,baseState:Ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:Ce},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function sy(t){var i=ry(t).next.queue;al(t,i,{},_n())}function kf(){return Kt(Rl)}function ay(){return pt().memoizedState}function oy(){return pt().memoizedState}function nA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=_n();t=Vr(a);var l=Pr(i,t,a);l!==null&&(sn(l,i,a),ul(l,i,a)),i={cache:vf()},t.payload=i;return}i=i.return}}function iA(t,i,a){var l=_n();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},rc(t)?uy(i,a):(a=ff(t,i,a,l),a!==null&&(sn(a,t,l),cy(a,i,l)))}function ly(t,i,a){var l=_n();al(t,i,a,l)}function al(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(rc(t))uy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,mn(T,v))return Bu(t,i,h,0),Xe===null&&zu(),!1}catch{}finally{}if(a=ff(t,i,h,l),a!==null)return sn(a,t,l),cy(a,i,l),!0}return!1}function Lf(t,i,a,l){if(l={lane:2,revertLane:Rd(),action:l,hasEagerState:!1,eagerState:null,next:null},rc(t)){if(i)throw Error(s(479))}else i=ff(t,a,l,2),i!==null&&sn(i,t,2)}function rc(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function uy(t,i){Ma=Wu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function cy(t,i,a){if((a&4194176)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,yr(t,a)}}var fi={readContext:Kt,use:ec,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct};fi.useCacheRefresh=ct,fi.useMemoCache=ct,fi.useHostTransitionStatus=ct,fi.useFormState=ct,fi.useActionState=ct,fi.useOptimistic=ct;var Ls={readContext:Kt,use:ec,useCallback:function(t,i){return un().memoizedState=[t,i===void 0?null:i],t},useContext:Kt,useEffect:Yg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,nc(4194308,4,Zg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return nc(4194308,4,t,i)},useInsertionEffect:function(t,i){nc(4,2,t,i)},useMemo:function(t,i){var a=un();i=i===void 0?null:i;var l=t();if(ks){Jn(!0);try{t()}finally{Jn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=un();if(a!==void 0){var h=a(i);if(ks){Jn(!0);try{a(i)}finally{Jn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=iA.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=un();return t={current:t},i.memoizedState=t},useState:function(t){t=Nf(t);var i=t.queue,a=ly.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Mf,useDeferredValue:function(t,i){var a=un();return Vf(a,t,i)},useTransition:function(){var t=Nf(!1);return t=iy.bind(null,Ie,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ie,h=un();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Xe===null)throw Error(s(349));(Le&60)!==0||Mg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Yg(Pg.bind(null,l,d,t),[t]),l.flags|=2048,Pa(9,Vg.bind(null,l,d,a,i),{destroy:void 0},null),a},useId:function(){var t=un(),i=Xe.identifierPrefix;if(Be){var a=Li,l=ki;a=(l&~(1<<32-en(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=Zu++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=WS++,i=":"+i+"r"+a.toString(32)+":";return t.memoizedState=i},useCacheRefresh:function(){return un().memoizedState=nA.bind(null,Ie)}};Ls.useMemoCache=Cf,Ls.useHostTransitionStatus=kf,Ls.useFormState=Fg,Ls.useActionState=Fg,Ls.useOptimistic=function(t){var i=un();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Lf.bind(null,Ie,!0,a),a.dispatch=i,[t,i]};var Or={readContext:Kt,use:ec,useCallback:ey,useContext:Kt,useEffect:xf,useImperativeHandle:Jg,useInsertionEffect:Xg,useLayoutEffect:Wg,useMemo:ty,useReducer:tc,useRef:$g,useState:function(){return tc(ji)},useDebugValue:Mf,useDeferredValue:function(t,i){var a=pt();return ny(a,Qe.memoizedState,t,i)},useTransition:function(){var t=tc(ji)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:sl(t),i]},useSyncExternalStore:xg,useId:ay};Or.useCacheRefresh=oy,Or.useMemoCache=Cf,Or.useHostTransitionStatus=kf,Or.useFormState=Gg,Or.useActionState=Gg,Or.useOptimistic=function(t,i){var a=pt();return Ug(a,Qe,t,i)};var Us={readContext:Kt,use:ec,useCallback:ey,useContext:Kt,useEffect:xf,useImperativeHandle:Jg,useInsertionEffect:Xg,useLayoutEffect:Wg,useMemo:ty,useReducer:Df,useRef:$g,useState:function(){return Df(ji)},useDebugValue:Mf,useDeferredValue:function(t,i){var a=pt();return Qe===null?Vf(a,t,i):ny(a,Qe.memoizedState,t,i)},useTransition:function(){var t=Df(ji)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:sl(t),i]},useSyncExternalStore:xg,useId:ay};Us.useCacheRefresh=oy,Us.useMemoCache=Cf,Us.useHostTransitionStatus=kf,Us.useFormState=Qg,Us.useActionState=Qg,Us.useOptimistic=function(t,i){var a=pt();return Qe!==null?Ug(a,Qe,t,i):(a.baseState=t,[t,a.queue.dispatch])};function Uf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:D({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var jf={isMounted:function(t){return(t=t._reactInternals)?me(t)===t:!1},enqueueSetState:function(t,i,a){t=t._reactInternals;var l=_n(),h=Vr(l);h.payload=i,a!=null&&(h.callback=a),i=Pr(t,h,l),i!==null&&(sn(i,t,l),ul(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=_n(),h=Vr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Pr(t,h,l),i!==null&&(sn(i,t,l),ul(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=_n(),l=Vr(a);l.tag=2,i!=null&&(l.callback=i),i=Pr(t,l,a),i!==null&&(sn(i,t,a),ul(i,t,a))}};function hy(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Qo(a,l)||!Qo(h,d):!0}function fy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&jf.enqueueReplaceState(i,i.state,null)}function js(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=D({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var sc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function dy(t){sc(t)}function my(t){console.error(t)}function py(t){sc(t)}function ac(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function gy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function zf(t,i,a){return a=Vr(a),a.tag=3,a.payload={element:null},a.callback=function(){ac(t,i)},a}function yy(t){return t=Vr(t),t.tag=3,t}function _y(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){gy(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){gy(i,a,l),typeof h!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function rA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&ll(i,a,h,!0),a=xn.current,a!==null){switch(a.tag){case 13:return hi===null?Td():a.alternate===null&&ot===0&&(ot=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===gf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Ad(t,l,h)),!1;case 22:return a.flags|=65536,l===gf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Ad(t,l,h)),!1}throw Error(s(435,a.tag))}return Ad(t,l,h),Td(),!1}if(Be)return i=xn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==pf&&(t=Error(s(422),{cause:l}),Wo(Dn(t,a)))):(l!==pf&&(i=Error(s(423),{cause:l}),Wo(Dn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Dn(l,a),h=zf(t.stateNode,l,h),td(t,h),ot!==4&&(ot=2)),!1;var d=Error(s(520),{cause:l});if(d=Dn(d,a),yl===null?yl=[d]:yl.push(d),ot!==4&&(ot=2),i===null)return!0;l=Dn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=zf(a.stateNode,l,t),td(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Br===null||!Br.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=yy(h),_y(h,t,a,l),td(a,h),!1}a=a.return}while(a!==null);return!1}var vy=Error(s(461)),xt=!1;function jt(t,i,a,l){i.child=t===null?wg(i,null,a,l):Vs(i,t.child,a,l)}function Ey(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Bs(i),l=Af(t,i,a,v,d,h),T=wf(),t!==null&&!xt?(bf(t,i,h),zi(t,i,h)):(Be&&T&&df(i),i.flags|=1,jt(t,i,l,h),i.child)}function Ty(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!ud(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Sy(t,i,d,l,h)):(t=hc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Yf(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Qo,a(v,l)&&t.ref===i.ref)return zi(t,i,h)}return i.flags|=1,t=jr(d,l),t.ref=i.ref,t.return=i,i.child=t}function Sy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Qo(d,l)&&t.ref===i.ref)if(xt=!1,i.pendingProps=l=d,Yf(t,h))(t.flags&131072)!==0&&(xt=!0);else return i.lanes=t.lanes,zi(t,i,h)}return Bf(t,i,a,l,h)}function Ay(t,i,a){var l=i.pendingProps,h=l.children,d=(i.stateNode._pendingVisibility&2)!==0,v=t!==null?t.memoizedState:null;if(ol(t,i),l.mode==="hidden"||d){if((i.flags&128)!==0){if(l=v!==null?v.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return wy(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xu(i,v!==null?v.cachePool:null),v!==null?bg(i,v):yf(),Rg(i);else return i.lanes=i.childLanes=536870912,wy(t,i,v!==null?v.baseLanes|a:a,a)}else v!==null?(Xu(i,v.cachePool),bg(i,v),Dr(),i.memoizedState=null):(t!==null&&Xu(i,null),yf(),Dr());return jt(t,i,h,a),i.child}function wy(t,i,a,l){var h=Tf();return h=h===null?null:{parent:bt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Xu(i,null),yf(),Rg(i),t!==null&&ll(t,i,l,!0),null}function ol(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=2097664)}}function Bf(t,i,a,l,h){return Bs(i),a=Af(t,i,a,l,void 0,h),l=wf(),t!==null&&!xt?(bf(t,i,h),zi(t,i,h)):(Be&&l&&df(i),i.flags|=1,jt(t,i,a,h),i.child)}function by(t,i,a,l,h,d){return Bs(i),i.updateQueue=null,a=Og(i,l,a,h),Ng(t),l=wf(),t!==null&&!xt?(bf(t,i,d),zi(t,i,d)):(Be&&l&&df(i),i.flags|=1,jt(t,i,a,d),i.child)}function Ry(t,i,a,l,h){if(Bs(i),i.stateNode===null){var d=Ra,v=a.contextType;typeof v=="object"&&v!==null&&(d=Kt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=jf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Jf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Kt(v):Ra,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Uf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&jf.enqueueReplaceState(d,d.state,null),hl(i,l,d,h),cl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,I=js(a,T);d.props=I;var k=d.context,$=a.contextType;v=Ra,typeof $=="object"&&$!==null&&(v=Kt($));var J=a.getDerivedStateFromProps;$=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||k!==v)&&fy(i,d,l,v),Mr=!1;var H=i.memoizedState;d.state=H,hl(i,l,d,h),cl(),k=i.memoizedState,T||H!==k||Mr?(typeof J=="function"&&(Uf(i,a,J,l),k=i.memoizedState),(I=Mr||hy(i,a,I,l,H,k,v))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=k),d.props=l,d.state=k,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,ed(t,i),v=i.memoizedProps,$=js(a,v),d.props=$,J=i.pendingProps,H=d.context,k=a.contextType,I=Ra,typeof k=="object"&&k!==null&&(I=Kt(k)),T=a.getDerivedStateFromProps,(k=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==J||H!==I)&&fy(i,d,l,I),Mr=!1,H=i.memoizedState,d.state=H,hl(i,l,d,h),cl();var Q=i.memoizedState;v!==J||H!==Q||Mr||t!==null&&t.dependencies!==null&&oc(t.dependencies)?(typeof T=="function"&&(Uf(i,a,T,l),Q=i.memoizedState),($=Mr||hy(i,a,$,l,H,Q,I)||t!==null&&t.dependencies!==null&&oc(t.dependencies))?(k||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=I,l=$):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,ol(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Vs(i,t.child,null,h),i.child=Vs(i,null,a,h)):jt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=zi(t,i,h),t}function Cy(t,i,a,l){return Xo(),i.flags|=256,jt(t,i,a,l),i.child}var qf={dehydrated:null,treeContext:null,retryLane:0};function Hf(t){return{baseLanes:t,cachePool:Dg()}}function Ff(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=kn),t}function Iy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(wt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Be){if(h?Ir(i):Dr(),Be){var T=Ut,I;if(I=T){e:{for(I=T,T=ci;I.nodeType!==8;){if(!T){T=null;break e}if(I=Gn(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(i.memoizedState={dehydrated:T,treeContext:Os!==null?{id:ki,overflow:Li}:null,retryLane:536870912},I=Pn(18,null,null,0),I.stateNode=T,I.return=i,i.child=I,rn=i,Ut=null,I=!0):I=!1}I||Ms(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?i.lanes=16:i.lanes=536870912,null;Ui(i)}return T=l.children,l=l.fallback,h?(Dr(),h=i.mode,T=Kf({mode:"hidden",children:T},h),l=Hs(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Hf(a),h.childLanes=Ff(t,v,a),i.memoizedState=qf,l):(Ir(i),Gf(i,T))}if(I=t.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(Ir(i),i.flags&=-257,i=Qf(t,i,a)):i.memoizedState!==null?(Dr(),i.child=t.child,i.flags|=128,i=null):(Dr(),h=l.fallback,T=i.mode,l=Kf({mode:"visible",children:l.children},T),h=Hs(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Vs(i,t.child,null,a),l=i.child,l.memoizedState=Hf(a),l.childLanes=Ff(t,v,a),i.memoizedState=qf,i=h);else if(Ir(i),T.data==="$!"){if(v=T.nextSibling&&T.nextSibling.dataset,v)var k=v.dgst;v=k,l=Error(s(419)),l.stack="",l.digest=v,Wo({value:l,source:null,stack:null}),i=Qf(t,i,a)}else if(xt||ll(t,i,a,!1),v=(a&t.childLanes)!==0,xt||v){if(v=Xe,v!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane)throw I.retryLane=l,Cr(t,l),sn(v,t,l),vy}T.data==="$?"||Td(),i=Qf(t,i,a)}else T.data==="$?"?(i.flags|=128,i.child=t.child,i=vA.bind(null,t),T._reactRetry=i,i=null):(t=I.treeContext,Ut=Gn(T.nextSibling),rn=i,Be=!0,Hn=null,ci=!1,t!==null&&(Nn[On++]=ki,Nn[On++]=Li,Nn[On++]=Os,ki=t.id,Li=t.overflow,Os=i),i=Gf(i,l.children),i.flags|=4096);return i}return h?(Dr(),h=l.fallback,T=i.mode,I=t.child,k=I.sibling,l=jr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&31457280,k!==null?h=jr(k,h):(h=Hs(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=Hf(a):(I=T.cachePool,I!==null?(k=bt._currentValue,I=I.parent!==k?{parent:k,pool:k}:I):I=Dg(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=Ff(t,v,a),i.memoizedState=qf,l):(Ir(i),a=t.child,t=a.sibling,a=jr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Gf(t,i){return i=Kf({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Kf(t,i){return e_(t,i,0,null)}function Qf(t,i,a){return Vs(i,t.child,null,a),t=Gf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Dy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Wf(t.return,i,a)}function $f(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Ny(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(jt(t,i,l.children,a),l=wt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Dy(t,a,i);else if(t.tag===19)Dy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Ke(wt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Yu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),$f(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Yu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}$f(i,!0,a,null,d);break;case"together":$f(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function zi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),zr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(ll(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=jr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=jr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Yf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&oc(t)))}function sA(t,i,a){switch(i.tag){case 3:hr(i,i.stateNode.containerInfo),xr(i,bt,t.memoizedState.cache),Xo();break;case 27:case 5:Ro(i);break;case 4:hr(i,i.stateNode.containerInfo);break;case 10:xr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ir(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Iy(t,i,a):(Ir(i),t=zi(t,i,a),t!==null?t.sibling:null);Ir(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(ll(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Ny(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ke(wt,wt.current),l)break;return null;case 22:case 23:return i.lanes=0,Ay(t,i,a);case 24:xr(i,bt,t.memoizedState.cache)}return zi(t,i,a)}function Oy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)xt=!0;else{if(!Yf(t,a)&&(i.flags&128)===0)return xt=!1,sA(t,i,a);xt=(t.flags&131072)!==0}else xt=!1,Be&&(i.flags&1048576)!==0&&pg(i,Fu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")ud(l)?(t=js(l,t),i.tag=1,i=Ry(null,i,l,t,a)):(i.tag=0,i=Bf(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===L){i.tag=11,i=Ey(null,i,l,t,a);break e}else if(h===Y){i.tag=14,i=Ty(null,i,l,t,a);break e}}throw i=C(l)||l,Error(s(306,i,""))}}return i;case 0:return Bf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=js(l,i.pendingProps),Ry(t,i,l,h,a);case 3:e:{if(hr(i,i.stateNode.containerInfo),t===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,l=h.element,ed(t,i),hl(i,d,null,a);var v=i.memoizedState;if(d=v.cache,xr(i,bt,d),d!==h.cache&&Zf(i,[bt],a,!0),cl(),d=v.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=Cy(t,i,d,a);break e}else if(d!==l){l=Dn(Error(s(424)),i),Wo(l),i=Cy(t,i,d,a);break e}else for(Ut=Gn(i.stateNode.containerInfo.firstChild),rn=i,Be=!0,Hn=null,ci=!0,a=wg(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Xo(),d===l){i=zi(t,i,a);break e}jt(t,i,d,a)}i=i.child}return i;case 26:return ol(t,i),t===null?(a=V_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Be||(a=i.type,t=i.pendingProps,l=Ac(Tn.current).createElement(a),l[Dt]=i,l[Tt]=t,zt(l,a,t),et(l),i.stateNode=l):i.memoizedState=V_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ro(i),t===null&&Be&&(l=i.stateNode=O_(i.type,i.pendingProps,Tn.current),rn=i,ci=!0,Ut=Gn(l.firstChild)),l=i.pendingProps.children,t!==null||Be?jt(t,i,l,a):i.child=Vs(i,null,l,a),ol(t,i),i.child;case 5:return t===null&&Be&&((h=l=Ut)&&(l=PA(l,i.type,i.pendingProps,ci),l!==null?(i.stateNode=l,rn=i,Ut=Gn(l.firstChild),ci=!1,h=!0):h=!1),h||Ms(i)),Ro(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Pd(h,d)?l=null:v!==null&&Pd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Af(t,i,ZS,null,null,a),Rl._currentValue=h),ol(t,i),jt(t,i,l,a),i.child;case 6:return t===null&&Be&&((t=a=Ut)&&(a=kA(a,i.pendingProps,ci),a!==null?(i.stateNode=a,rn=i,Ut=null,t=!0):t=!1),t||Ms(i)),null;case 13:return Iy(t,i,a);case 4:return hr(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Vs(i,null,l,a):jt(t,i,l,a),i.child;case 11:return Ey(t,i,i.type,i.pendingProps,a);case 7:return jt(t,i,i.pendingProps,a),i.child;case 8:return jt(t,i,i.pendingProps.children,a),i.child;case 12:return jt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,xr(i,i.type,l.value),jt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Bs(i),h=Kt(h),l=l(h),i.flags|=1,jt(t,i,l,a),i.child;case 14:return Ty(t,i,i.type,i.pendingProps,a);case 15:return Sy(t,i,i.type,i.pendingProps,a);case 19:return Ny(t,i,a);case 22:return Ay(t,i,a);case 24:return Bs(i),l=Kt(bt),t===null?(h=Tf(),h===null&&(h=Xe,d=vf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Jf(i),xr(i,bt,h)):((t.lanes&a)!==0&&(ed(t,i),hl(i,null,null,a),cl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),xr(i,bt,l)):(l=d.cache,xr(i,bt,l),l!==h.cache&&Zf(i,[bt],a,!0))),jt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var Xf=je(null),zs=null,Bi=null;function xr(t,i,a){Ke(Xf,i._currentValue),i._currentValue=a}function qi(t){t._currentValue=Xf.current,rt(Xf)}function Wf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Zf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Wf(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Wf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function ll(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;mn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===cr.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Rl):t=[Rl])}h=h.return}t!==null&&Zf(i,t,a,l),i.flags|=262144}function oc(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Bs(t){zs=t,Bi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return xy(zs,t)}function lc(t,i){return zs===null&&Bs(t),xy(t,i)}function xy(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Bi===null){if(t===null)throw Error(s(308));Bi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Bi=Bi.next=i;return a}var Mr=!1;function Jf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ed(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Vr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Pr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(nt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=qu(t),dg(t,null,a),i}return Bu(t,l,i,a),qu(t)}function ul(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,yr(t,a)}}function td(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var nd=!1;function cl(){if(nd){var t=xa;if(t!==null)throw t}}function hl(t,i,a,l){nd=!1;var h=t.updateQueue;Mr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,k=I.next;I.next=null,v===null?d=k:v.next=k,v=I;var $=t.alternate;$!==null&&($=$.updateQueue,T=$.lastBaseUpdate,T!==v&&(T===null?$.firstBaseUpdate=k:T.next=k,$.lastBaseUpdate=I))}if(d!==null){var J=h.baseState;v=0,$=k=I=null,T=d;do{var H=T.lane&-536870913,Q=H!==T.lane;if(Q?(Le&H)===H:(l&H)===H){H!==0&&H===Oa&&(nd=!0),$!==null&&($=$.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var he=t,Se=T;H=i;var lt=a;switch(Se.tag){case 1:if(he=Se.payload,typeof he=="function"){J=he.call(lt,J,H);break e}J=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=Se.payload,H=typeof he=="function"?he.call(lt,J,H):he,H==null)break e;J=D({},J,H);break e;case 2:Mr=!0}}H=T.callback,H!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[H]:Q.push(H))}else Q={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},$===null?(k=$=Q,I=J):$=$.next=Q,v|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);$===null&&(I=J),h.baseState=I,h.firstBaseUpdate=k,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),zr|=v,t.lanes=v,t.memoizedState=J}}function My(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Vy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)My(a[t],i)}function fl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){Ye(i,i.return,T)}}function kr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var I=a;try{T()}catch(k){Ye(h,I,k)}}}l=l.next}while(l!==d)}}catch(k){Ye(i,i.return,k)}}function Py(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Vy(i,a)}catch(l){Ye(t,t.return,l)}}}function ky(t,i,a){a.props=js(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(t,i,l)}}function qs(t,i){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?t.refCleanup=a(h):a.current=h}}catch(d){Ye(t,i,d)}}function pn(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ye(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ye(t,i,h)}else a.current=null}function Ly(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ye(t,t.return,h)}}function Uy(t,i,a){try{var l=t.stateNode;NA(l,t.type,a,i),l[Tt]=i}catch(h){Ye(t,t.return,h)}}function jy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function id(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(t,i):a.insertBefore(t,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(t,a)):(i=a,i.appendChild(t)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Sc));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(rd(t,i,a),t=t.sibling;t!==null;)rd(t,i,a),t=t.sibling}function uc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(uc(t,i,a),t=t.sibling;t!==null;)uc(t,i,a),t=t.sibling}var Hi=!1,at=!1,sd=!1,zy=typeof WeakSet=="function"?WeakSet:Set,Mt=null,By=!1;function aA(t,i){if(t=t.containerInfo,Md=Dc,t=rg(t),of(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,I=-1,k=0,$=0,J=t,H=null;t:for(;;){for(var Q;J!==a||h!==0&&J.nodeType!==3||(T=v+h),J!==d||l!==0&&J.nodeType!==3||(I=v+l),J.nodeType===3&&(v+=J.nodeValue.length),(Q=J.firstChild)!==null;)H=J,J=Q;for(;;){if(J===t)break t;if(H===a&&++k===h&&(T=v),H===d&&++$===l&&(I=v),(Q=J.nextSibling)!==null)break;J=H,H=J.parentNode}J=Q}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Vd={focusedElem:t,selectionRange:a},Dc=!1,Mt=i;Mt!==null;)if(i=Mt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Mt=t;else for(;Mt!==null;){switch(i=Mt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var he=js(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Se){Ye(a,a.return,Se)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Ud(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ud(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Mt=t;break}Mt=i.return}return he=By,By=!1,he}function qy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Gi(t,a),l&4&&fl(5,a);break;case 1:if(Gi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(T){Ye(a,a.return,T)}else{var h=js(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Ye(a,a.return,T)}}l&64&&Py(a),l&512&&qs(a,a.return);break;case 3:if(Gi(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Vy(l,t)}catch(T){Ye(a,a.return,T)}}break;case 26:Gi(t,a),l&512&&qs(a,a.return);break;case 27:case 5:Gi(t,a),i===null&&l&4&&Ly(a),l&512&&qs(a,a.return);break;case 12:Gi(t,a);break;case 13:Gi(t,a),l&4&&Gy(t,a);break;case 22:if(h=a.memoizedState!==null||Hi,!h){i=i!==null&&i.memoizedState!==null||at;var d=Hi,v=at;Hi=h,(at=i)&&!v?Lr(t,a,(a.subtreeFlags&8772)!==0):Gi(t,a),Hi=d,at=v}l&512&&(a.memoizedProps.mode==="manual"?qs(a,a.return):pn(a,a.return));break;default:Gi(t,a)}}function Hy(t){var i=t.alternate;i!==null&&(t.alternate=null,Hy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&_s(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var gt=null,gn=!1;function Fi(t,i,a){for(a=a.child;a!==null;)Fy(t,i,a),a=a.sibling}function Fy(t,i,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(fr,a)}catch{}switch(a.tag){case 26:at||pn(a,i),Fi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:at||pn(a,i);var l=gt,h=gn;for(gt=a.stateNode,Fi(t,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);_s(a),gt=l,gn=h;break;case 5:at||pn(a,i);case 6:h=gt;var d=gn;if(gt=null,Fi(t,i,a),gt=h,gn=d,gt!==null)if(gn)try{t=gt,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(v){Ye(a,i,v)}else try{gt.removeChild(a.stateNode)}catch(v){Ye(a,i,v)}break;case 18:gt!==null&&(gn?(i=gt,a=a.stateNode,i.nodeType===8?Ld(i.parentNode,a):i.nodeType===1&&Ld(i,a),Nl(i)):Ld(gt,a.stateNode));break;case 4:l=gt,h=gn,gt=a.stateNode.containerInfo,gn=!0,Fi(t,i,a),gt=l,gn=h;break;case 0:case 11:case 14:case 15:at||kr(2,a,i),at||kr(4,a,i),Fi(t,i,a);break;case 1:at||(pn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&ky(a,i,l)),Fi(t,i,a);break;case 21:Fi(t,i,a);break;case 22:at||pn(a,i),at=(l=at)||a.memoizedState!==null,Fi(t,i,a),at=l;break;default:Fi(t,i,a)}}function Gy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Nl(t)}catch(a){Ye(i,i.return,a)}}function oA(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new zy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new zy),i;default:throw Error(s(435,t.tag))}}function ad(t,i){var a=oA(t);i.forEach(function(l){var h=EA.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function Mn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:case 5:gt=T.stateNode,gn=!1;break e;case 3:gt=T.stateNode.containerInfo,gn=!0;break e;case 4:gt=T.stateNode.containerInfo,gn=!0;break e}T=T.return}if(gt===null)throw Error(s(160));Fy(d,v,h),gt=null,gn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Ky(i,t),i=i.sibling}var Fn=null;function Ky(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Mn(i,t),Vn(t),l&4&&(kr(3,t,t.return),fl(3,t),kr(5,t,t.return));break;case 1:Mn(i,t),Vn(t),l&512&&(at||a===null||pn(a,a.return)),l&64&&Hi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Fn;if(Mn(i,t),Vn(t),l&512&&(at||a===null||pn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[vr]||d[Dt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),zt(d,l,a),d[Dt]=t,et(d),l=d;break e;case"link":var v=L_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),zt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=L_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),zt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Dt]=t,et(d),l=d}t.stateNode=l}else U_(h,t.type,t.stateNode);else t.stateNode=k_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?U_(h,t.type,t.stateNode):k_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Uy(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){h=t.stateNode,d=t.memoizedProps;try{for(var I=h.firstChild;I;){var k=I.nextSibling,$=I.nodeName;I[vr]||$==="HEAD"||$==="BODY"||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&I.rel.toLowerCase()==="stylesheet"||h.removeChild(I),I=k}for(var J=t.type,H=h.attributes;H.length;)h.removeAttributeNode(H[0]);zt(h,J,d),h[Dt]=t,h[Tt]=d}catch(he){Ye(t,t.return,he)}}case 5:if(Mn(i,t),Vn(t),l&512&&(at||a===null||pn(a,a.return)),t.flags&32){h=t.stateNode;try{wn(h,"")}catch(he){Ye(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Uy(t,h,a!==null?a.memoizedProps:h)),l&1024&&(sd=!0);break;case 6:if(Mn(i,t),Vn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){Ye(t,t.return,he)}}break;case 3:if(Rc=null,h=Fn,Fn=wc(i.containerInfo),Mn(i,t),Fn=h,Vn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Nl(i.containerInfo)}catch(he){Ye(t,t.return,he)}sd&&(sd=!1,Qy(t));break;case 4:l=Fn,Fn=wc(t.stateNode.containerInfo),Mn(i,t),Vn(t),Fn=l;break;case 12:Mn(i,t),Vn(t);break;case 13:Mn(i,t),Vn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(pd=on()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ad(t,l)));break;case 22:if(l&512&&(at||a===null||pn(a,a.return)),I=t.memoizedState!==null,k=a!==null&&a.memoizedState!==null,$=Hi,J=at,Hi=$||I,at=J||k,Mn(i,t),at=J,Hi=$,Vn(t),i=t.stateNode,i._current=t,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=I?i._visibility&-2:i._visibility|1,I&&(i=Hi||at,a===null||k||i||ka(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,i=t;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){k=a=i;try{if(h=k.stateNode,I)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=k.stateNode,T=k.memoizedProps.style;var Q=T!=null&&T.hasOwnProperty("display")?T.display:null;v.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(he){Ye(k,k.return,he)}}}else if(i.tag===6){if(a===null){k=i;try{k.stateNode.nodeValue=I?"":k.memoizedProps}catch(he){Ye(k,k.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,ad(t,a))));break;case 19:Mn(i,t),Vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ad(t,l)));break;case 21:break;default:Mn(i,t),Vn(t)}}function Vn(t){var i=t.flags;if(i&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(jy(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=id(t);uc(t,d,h);break;case 5:var v=l.stateNode;l.flags&32&&(wn(v,""),l.flags&=-33);var T=id(t);uc(t,T,v);break;case 3:case 4:var I=l.stateNode.containerInfo,k=id(t);rd(t,k,I);break;default:throw Error(s(161))}}}catch($){Ye(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Qy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Qy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Gi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)qy(t,i.alternate,i),i=i.sibling}function ka(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:kr(4,i,i.return),ka(i);break;case 1:pn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&ky(i,i.return,a),ka(i);break;case 26:case 27:case 5:pn(i,i.return),ka(i);break;case 22:pn(i,i.return),i.memoizedState===null&&ka(i);break;default:ka(i)}t=t.sibling}}function Lr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Lr(h,d,a),fl(4,d);break;case 1:if(Lr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(k){Ye(l,l.return,k)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)My(I[h],T)}catch(k){Ye(l,l.return,k)}}a&&v&64&&Py(d),qs(d,d.return);break;case 26:case 27:case 5:Lr(h,d,a),a&&l===null&&v&4&&Ly(d),qs(d,d.return);break;case 12:Lr(h,d,a);break;case 13:Lr(h,d,a),a&&v&4&&Gy(h,d);break;case 22:d.memoizedState===null&&Lr(h,d,a),qs(d,d.return);break;default:Lr(h,d,a)}i=i.sibling}}function od(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&nl(a))}function ld(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&nl(t))}function Ur(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)$y(t,i,a,l),i=i.sibling}function $y(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Ur(t,i,a,l),h&2048&&fl(9,i);break;case 3:Ur(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&nl(t)));break;case 12:if(h&2048){Ur(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Ye(i,i.return,I)}}else Ur(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?Ur(t,i,a,l):dl(t,i):d._visibility&4?Ur(t,i,a,l):(d._visibility|=4,La(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&od(i.alternate,i);break;case 24:Ur(t,i,a,l),h&2048&&ld(i.alternate,i);break;default:Ur(t,i,a,l)}}function La(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,T=a,I=l,k=v.flags;switch(v.tag){case 0:case 11:case 15:La(d,v,T,I,h),fl(8,v);break;case 23:break;case 22:var $=v.stateNode;v.memoizedState!==null?$._visibility&4?La(d,v,T,I,h):dl(d,v):($._visibility|=4,La(d,v,T,I,h)),h&&k&2048&&od(v.alternate,v);break;case 24:La(d,v,T,I,h),h&&k&2048&&ld(v.alternate,v);break;default:La(d,v,T,I,h)}i=i.sibling}}function dl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:dl(a,l),h&2048&&od(l.alternate,l);break;case 24:dl(a,l),h&2048&&ld(l.alternate,l);break;default:dl(a,l)}i=i.sibling}}var ml=8192;function Ua(t){if(t.subtreeFlags&ml)for(t=t.child;t!==null;)Yy(t),t=t.sibling}function Yy(t){switch(t.tag){case 26:Ua(t),t.flags&ml&&t.memoizedState!==null&&YA(Fn,t.memoizedState,t.memoizedProps);break;case 5:Ua(t);break;case 3:case 4:var i=Fn;Fn=wc(t.stateNode.containerInfo),Ua(t),Fn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=ml,ml=16777216,Ua(t),ml=i):Ua(t));break;default:Ua(t)}}function Xy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function pl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Mt=l,Zy(l,t)}Xy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Wy(t),t=t.sibling}function Wy(t){switch(t.tag){case 0:case 11:case 15:pl(t),t.flags&2048&&kr(9,t,t.return);break;case 3:pl(t);break;case 12:pl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&4&&(t.return===null||t.return.tag!==13)?(i._visibility&=-5,cc(t)):pl(t);break;default:pl(t)}}function cc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Mt=l,Zy(l,t)}Xy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:kr(8,i,i.return),cc(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,cc(i));break;default:cc(i)}t=t.sibling}}function Zy(t,i){for(;Mt!==null;){var a=Mt;switch(a.tag){case 0:case 11:case 15:kr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:nl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Mt=l;else e:for(a=t;Mt!==null;){l=Mt;var h=l.sibling,d=l.return;if(Hy(l),l===a){Mt=null;break e}if(h!==null){h.return=d,Mt=h;break e}Mt=d}}}function lA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(t,i,a,l){return new lA(t,i,a,l)}function ud(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jr(t,i){var a=t.alternate;return a===null?(a=Pn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Jy(t,i){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function hc(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")ud(t)&&(v=1);else if(typeof t=="string")v=QA(t,a,Jt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return Hs(a.children,h,d,i);case g:v=8,h|=24;break;case E:return t=Pn(12,a,i,h|2),t.elementType=E,t.lanes=d,t;case K:return t=Pn(13,a,i,h),t.elementType=K,t.lanes=d,t;case F:return t=Pn(19,a,i,h),t.elementType=F,t.lanes=d,t;case ee:return e_(a,h,d,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case S:case O:v=10;break e;case R:v=9;break e;case L:v=11;break e;case Y:v=14;break e;case ne:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Pn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Hs(t,i,a,l){return t=Pn(7,t,l,i),t.lanes=a,t}function e_(t,i,a,l){t=Pn(22,t,l,i),t.elementType=ee,t.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var v=Cr(d,2);v!==null&&(h._pendingVisibility|=2,sn(v,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var v=Cr(d,2);v!==null&&(h._pendingVisibility&=-3,sn(v,d,2))}}};return t.stateNode=h,t}function cd(t,i,a){return t=Pn(6,t,null,i),t.lanes=a,t}function hd(t,i,a){return i=Pn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function Ki(t){t.flags|=4}function t_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!j_(i)){if(i=xn.current,i!==null&&((Le&4194176)===Le?hi!==null:(Le&62914560)!==Le&&(Le&536870912)===0||i!==hi))throw Jo=gf,_g;t.flags|=8192}}function fc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?pr():536870912,t.lanes|=i,za|=i)}function gl(t,i){if(!Be)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function tt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function uA(t,i,a){var l=i.pendingProps;switch(mf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(i),null;case 1:return tt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),qi(bt),bi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Yo(i)?Ki(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Hn!==null&&(vd(Hn),Hn=null))),tt(i),null;case 26:return a=i.memoizedState,t===null?(Ki(i),a!==null?(tt(i),t_(i,a)):(tt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Ki(i),tt(i),t_(i,a)):(tt(i),i.flags&=-16777217):(t.memoizedProps!==l&&Ki(i),tt(i),i.flags&=-16777217),null;case 27:sa(i),a=Tn.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ki(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return tt(i),null}t=Jt.current,Yo(i)?gg(i):(t=O_(h,l,a),i.stateNode=t,Ki(i))}return tt(i),null;case 5:if(sa(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ki(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return tt(i),null}if(t=Jt.current,Yo(i))gg(i);else{switch(h=Ac(Tn.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Dt]=i,t[Tt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(zt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ki(i)}}return tt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Ki(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Tn.current,Yo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Dt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||b_(t.nodeValue,a)),t||Ms(i)}else t=Ac(t).createTextNode(l),t[Dt]=i,i.stateNode=t}return tt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Yo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Dt]=i}else Xo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;tt(i),h=!1}else Hn!==null&&(vd(Hn),Hn=null),h=!0;if(!h)return i.flags&256?(Ui(i),i):(Ui(i),null)}if(Ui(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),fc(i,i.updateQueue),tt(i),null;case 4:return bi(),t===null&&Nd(i.stateNode.containerInfo),tt(i),null;case 10:return qi(i.type),tt(i),null;case 19:if(rt(wt),h=i.memoizedState,h===null)return tt(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)gl(h,!1);else{if(ot!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Yu(t),d!==null){for(i.flags|=128,gl(h,!1),t=d.updateQueue,i.updateQueue=t,fc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Jy(a,t),a=a.sibling;return Ke(wt,wt.current&1|2),i.child}t=t.sibling}h.tail!==null&&on()>dc&&(i.flags|=128,l=!0,gl(h,!1),i.lanes=4194304)}else{if(!l)if(t=Yu(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,fc(i,t),gl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Be)return tt(i),null}else 2*on()-h.renderingStartTime>dc&&a!==536870912&&(i.flags|=128,l=!0,gl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=on(),i.sibling=null,t=wt.current,Ke(wt,l?t&1|2:t&1),i):(tt(i),null);case 22:case 23:return Ui(i),_f(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(tt(i),i.subtreeFlags&6&&(i.flags|=8192)):tt(i),a=i.updateQueue,a!==null&&fc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&rt(Ps),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),qi(bt),tt(i),null;case 25:return null}throw Error(s(156,i.tag))}function cA(t,i){switch(mf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return qi(bt),bi(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return sa(i),null;case 13:if(Ui(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Xo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return rt(wt),null;case 4:return bi(),null;case 10:return qi(i.type),null;case 22:case 23:return Ui(i),_f(),t!==null&&rt(Ps),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return qi(bt),null;case 25:return null;default:return null}}function n_(t,i){switch(mf(i),i.tag){case 3:qi(bt),bi();break;case 26:case 27:case 5:sa(i);break;case 4:bi();break;case 13:Ui(i);break;case 19:rt(wt);break;case 10:qi(i.type);break;case 22:case 23:Ui(i),_f(),t!==null&&rt(Ps);break;case 24:qi(bt)}}var hA={getCacheForType:function(t){var i=Kt(bt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},fA=typeof WeakMap=="function"?WeakMap:Map,nt=0,Xe=null,Ne=null,Le=0,We=0,yn=null,Qi=!1,ja=!1,fd=!1,$i=0,ot=0,zr=0,Fs=0,dd=0,kn=0,za=0,yl=null,di=null,md=!1,pd=0,dc=1/0,mc=null,Br=null,pc=!1,Gs=null,_l=0,gd=0,yd=null,vl=0,_d=null;function _n(){if((nt&2)!==0&&Le!==0)return Le&-Le;if(b.T!==null){var t=Oa;return t!==0?t:Rd()}return Tu()}function i_(){kn===0&&(kn=(Le&536870912)===0||Be?Oo():536870912);var t=xn.current;return t!==null&&(t.flags|=32),kn}function sn(t,i,a){(t===Xe&&We===2||t.cancelPendingCommit!==null)&&(Ba(t,0),Yi(t,Le,kn,!1)),ut(t,a),((nt&2)===0||t!==Xe)&&(t===Xe&&((nt&2)===0&&(Fs|=a),ot===4&&Yi(t,Le,kn,!1)),mi(t))}function r_(t,i,a){if((nt&6)!==0)throw Error(s(327));var l=!a&&(i&60)===0&&(i&t.expiredLanes)===0||mr(t,i),h=l?pA(t,i):Sd(t,i,!0),d=l;do{if(h===0){ja&&!l&&Yi(t,i,0,!1);break}else if(h===6)Yi(t,i,0,!Qi);else{if(a=t.current.alternate,d&&!dA(a)){h=Sd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=yl;var I=T.current.memoizedState.isDehydrated;if(I&&(Ba(T,v).flags|=256),v=Sd(T,v,!1),v!==2){if(fd&&!I){T.errorRecoveryDisabledLanes|=d,Fs|=d,h=4;break e}d=di,di=h,d!==null&&vd(d)}h=v}if(d=!1,h!==2)continue}}if(h===1){Ba(t,0),Yi(t,i,0,!0);break}e:{switch(l=t,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){Yi(l,i,kn,!Qi);break e}break;case 2:di=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(d=pd+300-on(),10<d)){if(Yi(l,i,kn,!Qi),Sn(l,0)!==0)break e;l.timeoutHandle=I_(s_.bind(null,l,a,di,mc,md,i,kn,Fs,za,Qi,2,-0,0),d);break e}s_(l,a,di,mc,md,i,kn,Fs,za,Qi,0,-0,0)}}break}while(!0);mi(t)}function vd(t){di===null?di=t:di.push.apply(di,t)}function s_(t,i,a,l,h,d,v,T,I,k,$,J,H){var Q=i.subtreeFlags;if((Q&8192||(Q&16785408)===16785408)&&(bl={stylesheets:null,count:0,unsuspend:$A},Yy(i),i=XA(),i!==null)){t.cancelPendingCommit=i(f_.bind(null,t,a,l,h,v,T,I,1,J,H)),Yi(t,d,v,!k);return}f_(t,a,l,h,v,T,I,$,J,H)}function dA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!mn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Yi(t,i,a,l){i&=~dd,i&=~Fs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-en(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&gr(t,a,i)}function gc(){return(nt&6)===0?(El(0),!1):!0}function Ed(){if(Ne!==null){if(We===0)var t=Ne.return;else t=Ne,Bi=zs=null,Rf(t),Da=null,el=0,t=Ne;for(;t!==null;)n_(t.alternate,t),t=t.return;Ne=null}}function Ba(t,i){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,xA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ed(),Xe=t,Ne=a=jr(t.current,null),Le=i,We=0,yn=null,Qi=!1,ja=mr(t,i),fd=!1,za=kn=dd=Fs=zr=ot=0,di=yl=null,md=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-en(l),d=1<<h;i|=t[h],l&=~d}return $i=i,zu(),a}function a_(t,i){Ie=null,b.H=fi,i===Zo?(i=Tg(),We=3):i===_g?(i=Tg(),We=4):We=i===vy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,yn=i,Ne===null&&(ot=1,ac(t,Dn(i,t.current)))}function o_(){var t=b.H;return b.H=fi,t===null?fi:t}function l_(){var t=b.A;return b.A=hA,t}function Td(){ot=4,Qi||(Le&4194176)!==Le&&xn.current!==null||(ja=!0),(zr&134217727)===0&&(Fs&134217727)===0||Xe===null||Yi(Xe,Le,kn,!1)}function Sd(t,i,a){var l=nt;nt|=2;var h=o_(),d=l_();(Xe!==t||Le!==i)&&(mc=null,Ba(t,i)),i=!1;var v=ot;e:do try{if(We!==0&&Ne!==null){var T=Ne,I=yn;switch(We){case 8:Ed(),v=6;break e;case 3:case 2:case 6:xn.current===null&&(i=!0);var k=We;if(We=0,yn=null,qa(t,T,I,k),a&&ja){v=0;break e}break;default:k=We,We=0,yn=null,qa(t,T,I,k)}}mA(),v=ot;break}catch($){a_(t,$)}while(!0);return i&&t.shellSuspendCounter++,Bi=zs=null,nt=l,b.H=h,b.A=d,Ne===null&&(Xe=null,Le=0,zu()),v}function mA(){for(;Ne!==null;)u_(Ne)}function pA(t,i){var a=nt;nt|=2;var l=o_(),h=l_();Xe!==t||Le!==i?(mc=null,dc=on()+500,Ba(t,i)):ja=mr(t,i);e:do try{if(We!==0&&Ne!==null){i=Ne;var d=yn;t:switch(We){case 1:We=0,yn=null,qa(t,i,d,1);break;case 2:if(vg(d)){We=0,yn=null,c_(i);break}i=function(){We===2&&Xe===t&&(We=7),mi(t)},d.then(i,i);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:vg(d)?(We=0,yn=null,c_(i)):(We=0,yn=null,qa(t,i,d,7));break;case 5:var v=null;switch(Ne.tag){case 26:v=Ne.memoizedState;case 5:case 27:var T=Ne;if(!v||j_(v)){We=0,yn=null;var I=T.sibling;if(I!==null)Ne=I;else{var k=T.return;k!==null?(Ne=k,yc(k)):Ne=null}break t}}We=0,yn=null,qa(t,i,d,5);break;case 6:We=0,yn=null,qa(t,i,d,6);break;case 8:Ed(),ot=6;break e;default:throw Error(s(462))}}gA();break}catch($){a_(t,$)}while(!0);return Bi=zs=null,b.H=l,b.A=h,nt=a,Ne!==null?0:(Xe=null,Le=0,zu(),ot)}function gA(){for(;Ne!==null&&!Yh();)u_(Ne)}function u_(t){var i=Oy(t.alternate,t,$i);t.memoizedProps=t.pendingProps,i===null?yc(t):Ne=i}function c_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=by(a,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=by(a,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:Rf(i);default:n_(a,i),i=Ne=Jy(i,$i),i=Oy(a,i,$i)}t.memoizedProps=t.pendingProps,i===null?yc(t):Ne=i}function qa(t,i,a,l){Bi=zs=null,Rf(i),Da=null,el=0;var h=i.return;try{if(rA(t,h,i,a,Le)){ot=1,ac(t,Dn(a,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;ot=1,ac(t,Dn(a,t.current)),Ne=null;return}i.flags&32768?(Be||l===1?t=!0:ja||(Le&536870912)!==0?t=!1:(Qi=t=!0,(l===2||l===3||l===6)&&(l=xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),h_(i,t)):yc(i)}function yc(t){var i=t;do{if((i.flags&32768)!==0){h_(i,Qi);return}t=i.return;var a=uA(i.alternate,i,$i);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);ot===0&&(ot=5)}function h_(t,i){do{var a=cA(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ot=6,Ne=null}function f_(t,i,a,l,h,d,v,T,I,k){var $=b.T,J=ae.p;try{ae.p=2,b.T=null,yA(t,i,a,l,J,h,d,v,T,I,k)}finally{b.T=$,ae.p=J}}function yA(t,i,a,l,h,d,v,T){do Ha();while(Gs!==null);if((nt&6)!==0)throw Error(s(327));var I=t.finishedWork;if(l=t.finishedLanes,I===null)return null;if(t.finishedWork=null,t.finishedLanes=0,I===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var k=I.lanes|I.childLanes;if(k|=hf,vu(t,l,k,d,v,T),t===Xe&&(Ne=Xe=null,Le=0),(I.subtreeFlags&10256)===0&&(I.flags&10256)===0||pc||(pc=!0,gd=k,yd=a,TA(Ri,function(){return Ha(),null})),a=(I.flags&15990)!==0,(I.subtreeFlags&15990)!==0||a?(a=b.T,b.T=null,d=ae.p,ae.p=2,v=nt,nt|=4,aA(t,I),Ky(I,t),BS(Vd,t.containerInfo),Dc=!!Md,Vd=Md=null,t.current=I,qy(t,I.alternate,I),Co(),nt=v,ae.p=d,b.T=a):t.current=I,pc?(pc=!1,Gs=t,_l=l):d_(t,k),k=t.pendingLanes,k===0&&(Br=null),Do(I.stateNode),mi(t),i!==null)for(h=t.onRecoverableError,I=0;I<i.length;I++)k=i[I],h(k.value,{componentStack:k.stack});return(_l&3)!==0&&Ha(),k=t.pendingLanes,(l&4194218)!==0&&(k&42)!==0?t===_d?vl++:(vl=0,_d=t):vl=0,El(0),null}function d_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,nl(i)))}function Ha(){if(Gs!==null){var t=Gs,i=gd;gd=0;var a=Eu(_l),l=b.T,h=ae.p;try{if(ae.p=32>a?32:a,b.T=null,Gs===null)var d=!1;else{a=yd,yd=null;var v=Gs,T=_l;if(Gs=null,_l=0,(nt&6)!==0)throw Error(s(331));var I=nt;if(nt|=4,Wy(v.current),$y(v,v.current,T,a),nt=I,El(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(fr,v)}catch{}d=!0}return d}finally{ae.p=h,b.T=l,d_(t,i)}}return!1}function m_(t,i,a){i=Dn(a,i),i=zf(t.stateNode,i,2),t=Pr(t,i,2),t!==null&&(ut(t,2),mi(t))}function Ye(t,i,a){if(t.tag===3)m_(t,t,a);else for(;i!==null;){if(i.tag===3){m_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Br===null||!Br.has(l))){t=Dn(a,t),a=yy(2),l=Pr(i,a,2),l!==null&&(_y(a,l,i,t),ut(l,2),mi(l));break}}i=i.return}}function Ad(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new fA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(fd=!0,h.add(a),t=_A.bind(null,t,i,a),i.then(t,t))}function _A(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Xe===t&&(Le&a)===a&&(ot===4||ot===3&&(Le&62914560)===Le&&300>on()-pd?(nt&2)===0&&Ba(t,0):dd|=a,za===Le&&(za=0)),mi(t)}function p_(t,i){i===0&&(i=pr()),t=Cr(t,i),t!==null&&(ut(t,i),mi(t))}function vA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),p_(t,a)}function EA(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),p_(t,a)}function TA(t,i){return ps(t,i)}var _c=null,Fa=null,wd=!1,vc=!1,bd=!1,Ks=0;function mi(t){t!==Fa&&t.next===null&&(Fa===null?_c=Fa=t:Fa=Fa.next=t),vc=!0,wd||(wd=!0,AA(SA))}function El(t,i){if(!bd&&vc){bd=!0;do for(var a=!1,l=_c;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-en(42|t)+1)-1,d&=h&~(v&~T),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,__(l,d))}else d=Le,d=Sn(l,l===Xe?d:0),(d&3)===0||mr(l,d)||(a=!0,__(l,d));l=l.next}while(a);bd=!1}}function SA(){vc=wd=!1;var t=0;Ks!==0&&(OA()&&(t=Ks),Ks=0);for(var i=on(),a=null,l=_c;l!==null;){var h=l.next,d=g_(l,i);d===0?(l.next=null,a===null?_c=h:a.next=h,h===null&&(Fa=a)):(a=l,(t!==0||(d&3)!==0)&&(vc=!0)),l=h}El(t)}function g_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-en(d),T=1<<v,I=h[v];I===-1?((T&a)===0||(T&l)!==0)&&(h[v]=la(T,i)):I<=i&&(t.expiredLanes|=T),d&=~T}if(i=Xe,a=Le,a=Sn(t,t===i?a:0),l=t.callbackNode,a===0||t===i&&We===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&oa(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||mr(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&oa(l),Eu(a)){case 2:case 8:a=It;break;case 32:a=Ri;break;case 268435456:a=Io;break;default:a=Ri}return l=y_.bind(null,t),a=ps(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&oa(l),t.callbackPriority=2,t.callbackNode=null,2}function y_(t,i){var a=t.callbackNode;if(Ha()&&t.callbackNode!==a)return null;var l=Le;return l=Sn(t,t===Xe?l:0),l===0?null:(r_(t,l,i),g_(t,on()),t.callbackNode!=null&&t.callbackNode===a?y_.bind(null,t):null)}function __(t,i){if(Ha())return null;r_(t,i,!0)}function AA(t){MA(function(){(nt&6)!==0?ps(Et,t):t()})}function Rd(){return Ks===0&&(Ks=Oo()),Ks}function v_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ii(""+t)}function E_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function wA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=v_((h[Tt]||null).action),v=l.submitter;v&&(i=(i=v[Tt]||null)?v_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new pa("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ks!==0){var I=v?E_(h,v):new FormData(h);Pf(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?E_(h,v):new FormData(h),Pf(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Cd=0;Cd<fg.length;Cd++){var Id=fg[Cd],bA=Id.toLowerCase(),RA=Id[0].toUpperCase()+Id.slice(1);qn(bA,"on"+RA)}qn(og,"onAnimationEnd"),qn(lg,"onAnimationIteration"),qn(ug,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(HS,"onTransitionRun"),qn(FS,"onTransitionStart"),qn(GS,"onTransitionCancel"),qn(cg,"onTransitionEnd"),ln("onMouseEnter",["mouseout","mouseover"]),ln("onMouseLeave",["mouseout","mouseover"]),ln("onPointerEnter",["pointerout","pointerover"]),ln("onPointerLeave",["pointerout","pointerover"]),fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function T_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,k=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=k;try{d(h)}catch($){sc($)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,k=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=k;try{d(h)}catch($){sc($)}h.currentTarget=null,d=I}}}}function Me(t,i){var a=i[ys];a===void 0&&(a=i[ys]=new Set);var l=t+"__bubble";a.has(l)||(S_(i,t,2,!1),a.add(l))}function Dd(t,i,a){var l=0;i&&(l|=4),S_(a,t,l,i)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function Nd(t){if(!t[Ec]){t[Ec]=!0,Mo.forEach(function(a){a!=="selectionchange"&&(CA.has(a)||Dd(a,!1,t),Dd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Ec]||(i[Ec]=!0,Dd("selectionchange",!1,i))}}function S_(t,i,a,l){switch(G_(i)){case 2:var h=JA;break;case 8:h=ew;break;default:h=Hd}a=h.bind(null,i,a,t),h=void 0,!Rn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Od(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&(I=v.stateNode.containerInfo,I===h||I.nodeType===8&&I.parentNode===h))return;v=v.return}for(;T!==null;){if(v=Bn(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue e}T=T.parentNode}}l=l.return}bu(function(){var k=d,$=ma(a),J=[];e:{var H=hg.get(t);if(H!==void 0){var Q=pa,he=t;switch(t){case"keypress":if(si(a)===0)break e;case"keydown":case"keyup":Q=Ta;break;case"focusin":he="focus",Q=_a;break;case"focusout":he="blur",Q=_a;break;case"beforeblur":case"afterblur":Q=_a;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=nf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Mu;break;case og:case lg:case ug:Q=va;break;case cg:Q=Pu;break;case"scroll":case"scrollend":Q=Ru;break;case"wheel":Q=Sa;break;case"copy":case"cut":case"paste":Q=Ea;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Go;break;case"toggle":case"beforetoggle":Q=Lu}var Se=(i&4)!==0,lt=!Se&&(t==="scroll"||t==="scrollend"),U=Se?H!==null?H+"Capture":null:H;Se=[];for(var M=k,B;M!==null;){var X=M;if(B=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||B===null||U===null||(X=Ss(M,U),X!=null&&Se.push(Sl(M,X,B))),lt)break;M=M.return}0<Se.length&&(H=new Q(H,he,null,a,$),J.push({event:H,listeners:Se}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",H&&a!==bn&&(he=a.relatedTarget||a.fromElement)&&(Bn(he)||he[Ci]))break e;if((Q||H)&&(H=$.window===$?$:(H=$.ownerDocument)?H.defaultView||H.parentWindow:window,Q?(he=a.relatedTarget||a.toElement,Q=k,he=he?Bn(he):null,he!==null&&(lt=me(he),Se=he.tag,he!==lt||Se!==5&&Se!==27&&Se!==6)&&(he=null)):(Q=null,he=k),Q!==he)){if(Se=Cn,X="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Se=Go,X="onPointerLeave",U="onPointerEnter",M="pointer"),lt=Q==null?H:Er(Q),B=he==null?H:Er(he),H=new Se(X,M+"leave",Q,a,$),H.target=lt,H.relatedTarget=B,X=null,Bn($)===k&&(Se=new Se(U,M+"enter",he,a,$),Se.target=B,Se.relatedTarget=lt,X=Se),lt=X,Q&&he)t:{for(Se=Q,U=he,M=0,B=Se;B;B=Ga(B))M++;for(B=0,X=U;X;X=Ga(X))B++;for(;0<M-B;)Se=Ga(Se),M--;for(;0<B-M;)U=Ga(U),B--;for(;M--;){if(Se===U||U!==null&&Se===U.alternate)break t;Se=Ga(Se),U=Ga(U)}Se=null}else Se=null;Q!==null&&A_(J,H,Q,Se,!1),he!==null&&lt!==null&&A_(J,lt,he,Se,!0)}}e:{if(H=k?Er(k):window,Q=H.nodeName&&H.nodeName.toLowerCase(),Q==="select"||Q==="input"&&H.type==="file")var ue=Xp;else if(At(H))if(Wp)ue=jS;else{ue=LS;var De=kS}else Q=H.nodeName,!Q||Q.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?k&&Uo(k.elementType)&&(ue=Xp):ue=US;if(ue&&(ue=ue(t,k))){Pi(J,ue,a,$);break e}De&&De(t,H,k),t==="focusout"&&k&&H.type==="number"&&k.memoizedProps.value!=null&&da(H,"number",H.value)}switch(De=k?Er(k):window,t){case"focusin":(At(De)||De.contentEditable==="true")&&(Aa=De,lf=k,$o=null);break;case"focusout":$o=lf=Aa=null;break;case"mousedown":uf=!0;break;case"contextmenu":case"mouseup":case"dragend":uf=!1,sg(J,a,$);break;case"selectionchange":if(qS)break;case"keydown":case"keyup":sg(J,a,$)}var de;if(li)e:{switch(t){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Pe?G(t,a)&&(ye="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ye="onCompositionStart");ye&&(_&&a.locale!=="ko"&&(Pe||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Pe&&(de=zo()):(ri=$,Rr="value"in ri?ri.value:ri.textContent,Pe=!0)),De=Tc(k,ye),0<De.length&&(ye=new Ho(ye,t,null,a,$),J.push({event:ye,listeners:De}),de?ye.data=de:(de=ie(a),de!==null&&(ye.data=de)))),(de=y?St(t,a):ke(t,a))&&(ye=Tc(k,"onBeforeInput"),0<ye.length&&(De=new Ho("onBeforeInput","beforeinput",null,a,$),J.push({event:De,listeners:ye}),De.data=de)),wA(J,t,k,a,$)}T_(J,i)})}function Sl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Tc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ss(t,a),h!=null&&l.unshift(Sl(t,h,d)),h=Ss(t,i),h!=null&&l.push(Sl(t,h,d))),t=t.return}return l}function Ga(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function A_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,I=T.alternate,k=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||k===null||(I=k,h?(k=Ss(a,d),k!=null&&v.unshift(Sl(a,k,I))):h||(k=Ss(a,d),k!=null&&v.push(Sl(a,k,I)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var IA=/\r\n?/g,DA=/\u0000|\uFFFD/g;function w_(t){return(typeof t=="string"?t:""+t).replace(IA,`
`).replace(DA,"")}function b_(t,i){return i=w_(i),w_(t)===i}function Sc(){}function $e(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||wn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&wn(t,""+l);break;case"className":Ar(t,"class",l);break;case"tabIndex":Ar(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ar(t,a,l);break;case"style":wu(t,l,d);break;case"data":if(i!=="object"){Ar(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ii(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&$e(t,i,"name",h.name,h,null),$e(t,i,"formEncType",h.formEncType,h,null),$e(t,i,"formMethod",h.formMethod,h,null),$e(t,i,"formTarget",h.formTarget,h,null)):($e(t,i,"encType",h.encType,h,null),$e(t,i,"method",h.method,h,null),$e(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ii(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Sc);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ii(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),Sr(t,"popover",l);break;case"xlinkActuate":An(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":An(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":An(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":An(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":An(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":An(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":An(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":An(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":An(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Sr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ef.get(a)||a,Sr(t,a,l))}}function xd(t,i,a,l,h,d){switch(a){case"style":wu(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?wn(t,l):(typeof l=="number"||typeof l=="bigint")&&wn(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Sc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ha.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Tt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Sr(t,a,l)}}}function zt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:$e(t,i,d,v,a,null)}}h&&$e(t,i,"srcSet",a.srcSet,a,null),l&&$e(t,i,"src",a.src,a,null);return;case"input":Me("invalid",t);var T=d=v=h=null,I=null,k=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":v=$;break;case"checked":I=$;break;case"defaultChecked":k=$;break;case"value":d=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:$e(t,i,l,$,a,null)}}Es(t,d,T,I,k,v,h,!1),vs(t);return;case"select":Me("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:$e(t,i,h,T,a,null)}i=d,a=v,t.multiple=!!l,i!=null?ze(t,!!l,i,!1):a!=null&&ze(t,!!l,a,!0);return;case"textarea":Me("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:$e(t,i,v,T,a,null)}br(t,l,h,d),vs(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$e(t,i,I,l,a,null)}return;case"dialog":Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<Tl.length;l++)Me(Tl[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(l=a[k],l!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:$e(t,i,k,l,a,null)}return;default:if(Uo(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&xd(t,i,$,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&$e(t,i,T,l,a,null))}function NA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,I=null,k=null,$=null;for(Q in a){var J=a[Q];if(a.hasOwnProperty(Q)&&J!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":I=J;default:l.hasOwnProperty(Q)||$e(t,i,Q,null,l,J)}}for(var H in l){var Q=l[H];if(J=a[H],l.hasOwnProperty(H)&&(Q!=null||J!=null))switch(H){case"type":d=Q;break;case"name":h=Q;break;case"checked":k=Q;break;case"defaultChecked":$=Q;break;case"value":v=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==J&&$e(t,i,H,Q,l,J)}}wr(t,v,T,I,k,$,d,h);return;case"select":Q=v=T=H=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":Q=I;default:l.hasOwnProperty(d)||$e(t,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&$e(t,i,h,d,l,I)}i=T,a=v,l=Q,H!=null?ze(t,!!a,H,!1):!!l!=!!a&&(i!=null?ze(t,!!a,i,!0):ze(t,!!a,a?[]:"",!1));return;case"textarea":Q=H=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:$e(t,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":H=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&$e(t,i,v,h,l,d)}Ts(t,H,Q);return;case"option":for(var he in a)if(H=a[he],a.hasOwnProperty(he)&&H!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:$e(t,i,he,null,l,H)}for(I in l)if(H=l[I],Q=a[I],l.hasOwnProperty(I)&&H!==Q&&(H!=null||Q!=null))switch(I){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:$e(t,i,I,H,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in a)H=a[Se],a.hasOwnProperty(Se)&&H!=null&&!l.hasOwnProperty(Se)&&$e(t,i,Se,null,l,H);for(k in l)if(H=l[k],Q=a[k],l.hasOwnProperty(k)&&H!==Q&&(H!=null||Q!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:$e(t,i,k,H,l,Q)}return;default:if(Uo(i)){for(var lt in a)H=a[lt],a.hasOwnProperty(lt)&&H!==void 0&&!l.hasOwnProperty(lt)&&xd(t,i,lt,void 0,l,H);for($ in l)H=l[$],Q=a[$],!l.hasOwnProperty($)||H===Q||H===void 0&&Q===void 0||xd(t,i,$,H,l,Q);return}}for(var U in a)H=a[U],a.hasOwnProperty(U)&&H!=null&&!l.hasOwnProperty(U)&&$e(t,i,U,null,l,H);for(J in l)H=l[J],Q=a[J],!l.hasOwnProperty(J)||H===Q||H==null&&Q==null||$e(t,i,J,H,l,Q)}var Md=null,Vd=null;function Ac(t){return t.nodeType===9?t:t.ownerDocument}function R_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function C_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Pd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var kd=null;function OA(){var t=window.event;return t&&t.type==="popstate"?t===kd?!1:(kd=t,!0):(kd=null,!1)}var I_=typeof setTimeout=="function"?setTimeout:void 0,xA=typeof clearTimeout=="function"?clearTimeout:void 0,D_=typeof Promise=="function"?Promise:void 0,MA=typeof queueMicrotask=="function"?queueMicrotask:typeof D_<"u"?function(t){return D_.resolve(null).then(t).catch(VA)}:I_;function VA(t){setTimeout(function(){throw t})}function Ld(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){t.removeChild(h),Nl(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);Nl(i)}function Ud(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ud(a),_s(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function PA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[vr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Gn(t.nextSibling),t===null)break}return null}function kA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Gn(t.nextSibling),t===null))return null;return t}function Gn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}function N_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function O_(t,i,a){switch(i=Ac(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var Ln=new Map,x_=new Set;function wc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Xi=ae.d;ae.d={f:LA,r:UA,D:jA,C:zA,L:BA,m:qA,X:FA,S:HA,M:GA};function LA(){var t=Xi.f(),i=gc();return t||i}function UA(t){var i=Ii(t);i!==null&&i.tag===5&&i.type==="form"?sy(i):Xi.r(t)}var Ka=typeof document>"u"?null:document;function M_(t,i,a){var l=Ka;if(l&&typeof i=="string"&&i){var h=st(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),x_.has(h)||(x_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),zt(i,"link",t),et(i),l.head.appendChild(i)))}}function jA(t){Xi.D(t),M_("dns-prefetch",t,null)}function zA(t,i){Xi.C(t,i),M_("preconnect",t,i)}function BA(t,i,a){Xi.L(t,i,a);var l=Ka;if(l&&t&&i){var h='link[rel="preload"][as="'+st(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+st(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+st(a.imageSizes)+'"]')):h+='[href="'+st(t)+'"]';var d=h;switch(i){case"style":d=Qa(t);break;case"script":d=$a(t)}Ln.has(d)||(t=D({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Ln.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Al(d))||i==="script"&&l.querySelector(wl(d))||(i=l.createElement("link"),zt(i,"link",t),et(i),l.head.appendChild(i)))}}function qA(t,i){Xi.m(t,i);var a=Ka;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+st(l)+'"][href="'+st(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=$a(t)}if(!Ln.has(d)&&(t=D({rel:"modulepreload",href:t},i),Ln.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(wl(d)))return}l=a.createElement("link"),zt(l,"link",t),et(l),a.head.appendChild(l)}}}function HA(t,i,a){Xi.S(t,i,a);var l=Ka;if(l&&t){var h=Tr(l).hoistableStyles,d=Qa(t);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Al(d)))T.loading=5;else{t=D({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Ln.get(d))&&jd(t,a);var I=v=l.createElement("link");et(I),zt(I,"link",t),I._p=new Promise(function(k,$){I.onload=k,I.onerror=$}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,bc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function FA(t,i){Xi.X(t,i);var a=Ka;if(a&&t){var l=Tr(a).hoistableScripts,h=$a(t),d=l.get(h);d||(d=a.querySelector(wl(h)),d||(t=D({src:t,async:!0},i),(i=Ln.get(h))&&zd(t,i),d=a.createElement("script"),et(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function GA(t,i){Xi.M(t,i);var a=Ka;if(a&&t){var l=Tr(a).hoistableScripts,h=$a(t),d=l.get(h);d||(d=a.querySelector(wl(h)),d||(t=D({src:t,async:!0,type:"module"},i),(i=Ln.get(h))&&zd(t,i),d=a.createElement("script"),et(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function V_(t,i,a,l){var h=(h=Tn.current)?wc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Qa(a.href),a=Tr(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Qa(a.href);var d=Tr(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Al(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),d||KA(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=$a(a),a=Tr(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Qa(t){return'href="'+st(t)+'"'}function Al(t){return'link[rel="stylesheet"]['+t+"]"}function P_(t){return D({},t,{"data-precedence":t.precedence,precedence:null})}function KA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),zt(i,"link",a),et(i),t.head.appendChild(i))}function $a(t){return'[src="'+st(t)+'"]'}function wl(t){return"script[async]"+t}function k_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+st(a.href)+'"]');if(l)return i.instance=l,et(l),l;var h=D({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),et(l),zt(l,"style",h),bc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Qa(a.href);var d=t.querySelector(Al(h));if(d)return i.state.loading|=4,i.instance=d,et(d),d;l=P_(a),(h=Ln.get(h))&&jd(l,h),d=(t.ownerDocument||t).createElement("link"),et(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),zt(d,"link",l),i.state.loading|=4,bc(d,a.precedence,t),i.instance=d;case"script":return d=$a(a.src),(h=t.querySelector(wl(d)))?(i.instance=h,et(h),h):(l=a,(h=Ln.get(d))&&(l=D({},a),zd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),et(h),zt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,bc(l,a.precedence,t));return i.instance}function bc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function jd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function zd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Rc=null;function L_(t,i,a){if(Rc===null){var l=new Map,h=Rc=new Map;h.set(a,l)}else h=Rc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[vr]||d[Dt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function U_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function QA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function j_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var bl=null;function $A(){}function YA(t,i,a){if(bl===null)throw Error(s(475));var l=bl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Qa(a.href),d=t.querySelector(Al(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Cc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,et(d);return}d=t.ownerDocument||t,a=P_(a),(h=Ln.get(h))&&jd(a,h),d=d.createElement("link"),et(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),zt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Cc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function XA(){if(bl===null)throw Error(s(475));var t=bl;return t.stylesheets&&t.count===0&&Bd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Bd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Cc(){if(this.count--,this.count===0){if(this.stylesheets)Bd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ic=null;function Bd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ic=new Map,i.forEach(WA,t),Ic=null,Cc.call(t))}function WA(t,i){if(!(i.state.loading&4)){var a=Ic.get(t);if(a)var l=a.get(null);else{a=new Map,Ic.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Cc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Rl={$$typeof:O,Provider:null,Consumer:null,_currentValue:Ce,_currentValue2:Ce,_threadCount:0};function ZA(t,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ua(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ua(0),this.hiddenUpdates=ua(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function z_(t,i,a,l,h,d,v,T,I,k,$,J){return t=new ZA(t,i,a,v,T,I,k,J),i=1,d===!0&&(i|=24),d=Pn(3,null,null,i),t.current=d,d.stateNode=t,i=vf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Jf(d),t}function B_(t){return t?(t=Ra,t):Ra}function q_(t,i,a,l,h,d){h=B_(h),l.context===null?l.context=h:l.pendingContext=h,l=Vr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Pr(t,l,i),a!==null&&(sn(a,t,i),ul(a,t,i))}function H_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function qd(t,i){H_(t,i),(t=t.alternate)&&H_(t,i)}function F_(t){if(t.tag===13){var i=Cr(t,67108864);i!==null&&sn(i,t,67108864),qd(t,67108864)}}var Dc=!0;function JA(t,i,a,l){var h=b.T;b.T=null;var d=ae.p;try{ae.p=2,Hd(t,i,a,l)}finally{ae.p=d,b.T=h}}function ew(t,i,a,l){var h=b.T;b.T=null;var d=ae.p;try{ae.p=8,Hd(t,i,a,l)}finally{ae.p=d,b.T=h}}function Hd(t,i,a,l){if(Dc){var h=Fd(l);if(h===null)Od(t,i,l,Nc,a),K_(t,l);else if(nw(h,t,i,a,l))l.stopPropagation();else if(K_(t,l),i&4&&-1<tw.indexOf(t)){for(;h!==null;){var d=Ii(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=zn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-en(v);T.entanglements[1]|=I,v&=~I}mi(d),(nt&6)===0&&(dc=on()+500,El(0))}}break;case 13:T=Cr(d,2),T!==null&&sn(T,d,2),gc(),qd(d,2)}if(d=Fd(l),d===null&&Od(t,i,l,Nc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Od(t,i,l,null,a)}}function Fd(t){return t=ma(t),Gd(t)}var Nc=null;function Gd(t){if(Nc=null,t=Bn(t),t!==null){var i=me(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=He(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Nc=t,null}function G_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pu()){case Et:return 2;case It:return 8;case Ri:case gu:return 32;case Io:return 268435456;default:return 32}default:return 32}}var Kd=!1,qr=null,Hr=null,Fr=null,Cl=new Map,Il=new Map,Gr=[],tw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function K_(t,i){switch(t){case"focusin":case"focusout":qr=null;break;case"dragenter":case"dragleave":Hr=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":Cl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(i.pointerId)}}function Dl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Ii(i),i!==null&&F_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function nw(t,i,a,l,h){switch(i){case"focusin":return qr=Dl(qr,t,i,a,l,h),!0;case"dragenter":return Hr=Dl(Hr,t,i,a,l,h),!0;case"mouseover":return Fr=Dl(Fr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Cl.set(d,Dl(Cl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Il.set(d,Dl(Il.get(d)||null,t,i,a,l,h)),!0}return!1}function Q_(t){var i=Bn(t.target);if(i!==null){var a=me(i);if(a!==null){if(i=a.tag,i===13){if(i=He(a),i!==null){t.blockedOn=i,_r(t.priority,function(){if(a.tag===13){var l=_n(),h=Cr(a,l);h!==null&&sn(h,a,l),qd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Fd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);bn=l,a.target.dispatchEvent(l),bn=null}else return i=Ii(a),i!==null&&F_(i),t.blockedOn=a,!1;i.shift()}return!0}function $_(t,i,a){Oc(t)&&a.delete(i)}function iw(){Kd=!1,qr!==null&&Oc(qr)&&(qr=null),Hr!==null&&Oc(Hr)&&(Hr=null),Fr!==null&&Oc(Fr)&&(Fr=null),Cl.forEach($_),Il.forEach($_)}function xc(t,i){t.blockedOn===i&&(t.blockedOn=null,Kd||(Kd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,iw)))}var Mc=null;function Y_(t){Mc!==t&&(Mc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Mc===t&&(Mc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Gd(l||a)===null)continue;break}var d=Ii(a);d!==null&&(t.splice(i,3),i-=3,Pf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Nl(t){function i(I){return xc(I,t)}qr!==null&&xc(qr,t),Hr!==null&&xc(Hr,t),Fr!==null&&xc(Fr,t),Cl.forEach(i),Il.forEach(i);for(var a=0;a<Gr.length;a++){var l=Gr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Gr.length&&(a=Gr[0],a.blockedOn===null);)Q_(a),a.blockedOn===null&&Gr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Tt]||null;if(typeof d=="function")v||Y_(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Tt]||null)T=v.formAction;else if(Gd(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Y_(a)}}}function Qd(t){this._internalRoot=t}Vc.prototype.render=Qd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=_n();q_(a,l,t,i,null,null)},Vc.prototype.unmount=Qd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t.tag===0&&Ha(),q_(t.current,2,null,t,null,null),gc(),i[Ci]=null}};function Vc(t){this._internalRoot=t}Vc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Tu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Gr.length&&i!==0&&i<Gr[a].priority;a++);Gr.splice(a,0,t),a===0&&Q_(t)}};var X_=e.version;if(X_!=="19.0.0")throw Error(s(527,X_,"19.0.0"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=te(i),t=t!==null?fe(t):null,t=t===null?null:t.stateNode,t};var rw={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:b,findFiberByHostInstance:Bn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{fr=Pc.inject(rw),Gt=Pc}catch{}}return xl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=dy,d=my,v=py,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=z_(t,1,!1,null,null,a,l,h,d,v,T,null),t[Ci]=i.current,Nd(t.nodeType===8?t.parentNode:t),new Qd(i)},xl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=dy,v=my,T=py,I=null,k=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(k=a.formState)),i=z_(t,1,!0,i,a??null,l,h,d,v,T,I,k),i.context=B_(null),a=i.current,l=_n(),h=Vr(l),h.callback=null,Pr(a,h,l),i.current.lanes=l,ut(i,l),mi(i),t[Ci]=i.current,Nd(t),new Vc(i)},xl.version="19.0.0",xl}var av;function mw(){if(av)return Xd.exports;av=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Xd.exports=dw(),Xd.exports}var pw=mw(),Ml={},ov;function gw(){if(ov)return Ml;ov=1,Object.defineProperty(Ml,"__esModule",{value:!0}),Ml.parse=f,Ml.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function f(R,O){const L=new u,K=R.length;if(K<2)return L;const F=(O==null?void 0:O.decode)||E;let Y=0;do{const ne=R.indexOf("=",Y);if(ne===-1)break;const ee=R.indexOf(";",Y),ge=ee===-1?K:ee;if(ne>ge){Y=R.lastIndexOf(";",ne-1)+1;continue}const ce=m(R,Y,ne),we=p(R,ne,ce),V=R.slice(ce,we);if(L[V]===void 0){let C=m(R,ne+1,ge),b=p(R,ge,C);const D=F(R.slice(C,b));L[V]=D}Y=ge+1}while(Y<K);return L}function m(R,O,L){do{const K=R.charCodeAt(O);if(K!==32&&K!==9)return O}while(++O<L);return L}function p(R,O,L){for(;O>L;){const K=R.charCodeAt(--O);if(K!==32&&K!==9)return O+1}return L}function g(R,O,L){const K=(L==null?void 0:L.encode)||encodeURIComponent;if(!r.test(R))throw new TypeError(`argument name is invalid: ${R}`);const F=K(O);if(!e.test(F))throw new TypeError(`argument val is invalid: ${O}`);let Y=R+"="+F;if(!L)return Y;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);Y+="; Max-Age="+L.maxAge}if(L.domain){if(!n.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);Y+="; Domain="+L.domain}if(L.path){if(!s.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);Y+="; Path="+L.path}if(L.expires){if(!S(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);Y+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&(Y+="; HttpOnly"),L.secure&&(Y+="; Secure"),L.partitioned&&(Y+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return Y}function E(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function S(R){return o.call(R)==="[object Date]"}return Ml}gw();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var lv="popstate";function yw(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return dm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Kl(o)}return vw(e,n,null,r)}function Je(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function $n(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _w(){return Math.random().toString(36).substring(2,10)}function uv(r,e){return{usr:r.state,key:r.key,idx:e}}function dm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?po(e):e,state:n,key:e&&e.key||s||_w()}}function Kl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function po(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function vw(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let F=E(),Y=F==null?null:F-g;g=F,p&&p({action:m,location:K.location,delta:Y})}function R(F,Y){m="PUSH";let ne=dm(K.location,F,Y);g=E()+1;let ee=uv(ne,g),ge=K.createHref(ne);try{f.pushState(ee,"",ge)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(ge)}u&&p&&p({action:m,location:K.location,delta:1})}function O(F,Y){m="REPLACE";let ne=dm(K.location,F,Y);g=E();let ee=uv(ne,g),ge=K.createHref(ne);f.replaceState(ee,"",ge),u&&p&&p({action:m,location:K.location,delta:0})}function L(F){let Y=o.location.origin!=="null"?o.location.origin:o.location.href,ne=typeof F=="string"?F:Kl(F);return ne=ne.replace(/ $/,"%20"),Je(Y,`No window.location.(origin|href) available to create URL for href: ${ne}`),new URL(ne,Y)}let K={get action(){return m},get location(){return r(o,f)},listen(F){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(lv,S),p=F,()=>{o.removeEventListener(lv,S),p=null}},createHref(F){return e(o,F)},createURL:L,encodeLocation(F){let Y=L(F);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:R,replace:O,go(F){return f.go(F)}};return K}function HE(r,e,n="/"){return Ew(r,e,n,!1)}function Ew(r,e,n,s){let o=typeof e=="string"?po(e):e,u=ir(o.pathname||"/",n);if(u==null)return null;let f=FE(r);Tw(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=xw(u);m=Nw(f[p],g,s)}return m}function FE(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(Je(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=er([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(Je(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),FE(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:Iw(g,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of GE(u.path))o(u,f,p)}),e}function GE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=GE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function Tw(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Dw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Sw=/^:[\w-]+$/,Aw=3,ww=2,bw=1,Rw=10,Cw=-2,cv=r=>r==="*";function Iw(r,e){let n=r.split("/"),s=n.length;return n.some(cv)&&(s+=Cw),e&&(s+=ww),n.filter(o=>!cv(o)).reduce((o,u)=>o+(Sw.test(u)?Aw:u===""?bw:Rw),s)}function Dw(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Nw(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=th({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),R=p.route;if(!S&&g&&n&&!s[s.length-1].route.index&&(S=th({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:er([u,S.pathname]),pathnameBase:kw(er([u,S.pathnameBase])),route:R}),S.pathnameBase!=="/"&&(u=er([u,S.pathnameBase]))}return f}function th(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=Ow(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:S},R)=>{if(E==="*"){let L=m[R]||"";f=u.slice(0,u.length-L.length).replace(/(.)\/+$/,"$1")}const O=m[R];return S&&!O?g[E]=void 0:g[E]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function Ow(r,e=!1,n=!0){$n(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function xw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $n(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ir(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function Mw(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?po(r):r;return{pathname:n?n.startsWith("/")?n:Vw(n,e):e,search:Lw(s),hash:Uw(o)}}function Vw(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function em(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Pw(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function qm(r){let e=Pw(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Hm(r,e,n,s=!1){let o;typeof r=="string"?o=po(r):(o={...r},Je(!o.pathname||!o.pathname.includes("?"),em("?","pathname","search",o)),Je(!o.pathname||!o.pathname.includes("#"),em("#","pathname","hash",o)),Je(!o.search||!o.search.includes("#"),em("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=e.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),S-=1;o.pathname=R.join("/")}m=S>=0?e[S]:"/"}let p=Mw(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var er=r=>r.join("/").replace(/\/\/+/g,"/"),kw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Lw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Uw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function jw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var KE=["POST","PUT","PATCH","DELETE"];new Set(KE);var zw=["GET",...KE];new Set(zw);var go=q.createContext(null);go.displayName="DataRouter";var Ah=q.createContext(null);Ah.displayName="DataRouterState";var QE=q.createContext({isTransitioning:!1});QE.displayName="ViewTransition";var Bw=q.createContext(new Map);Bw.displayName="Fetchers";var qw=q.createContext(null);qw.displayName="Await";var Wn=q.createContext(null);Wn.displayName="Navigation";var eu=q.createContext(null);eu.displayName="Location";var jn=q.createContext({outlet:null,matches:[],isDataRoute:!1});jn.displayName="Route";var Fm=q.createContext(null);Fm.displayName="RouteError";function Hw(r,{relative:e}={}){Je(yo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=q.useContext(Wn),{hash:o,pathname:u,search:f}=nu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:er([n,u])),s.createHref({pathname:m,search:f,hash:o})}function yo(){return q.useContext(eu)!=null}function cs(){return Je(yo(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(eu).location}var $E="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function YE(r){q.useContext(Wn).static||q.useLayoutEffect(r)}function Zn(){let{isDataRoute:r}=q.useContext(jn);return r?rb():Fw()}function Fw(){Je(yo(),"useNavigate() may be used only in the context of a <Router> component.");let r=q.useContext(go),{basename:e,navigator:n}=q.useContext(Wn),{matches:s}=q.useContext(jn),{pathname:o}=cs(),u=JSON.stringify(qm(s)),f=q.useRef(!1);return YE(()=>{f.current=!0}),q.useCallback((p,g={})=>{if($n(f.current,$E),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=Hm(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:er([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}var Gw=q.createContext(null);function Kw(r){let e=q.useContext(jn).outlet;return e&&q.createElement(Gw.Provider,{value:r},e)}function tu(){let{matches:r}=q.useContext(jn),e=r[r.length-1];return e?e.params:{}}function nu(r,{relative:e}={}){let{matches:n}=q.useContext(jn),{pathname:s}=cs(),o=JSON.stringify(qm(n));return q.useMemo(()=>Hm(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Qw(r,e){return XE(r,e)}function XE(r,e,n,s){var ne;Je(yo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=q.useContext(Wn),{matches:f}=q.useContext(jn),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let ee=S&&S.path||"";WE(g,!S||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let R=cs(),O;if(e){let ee=typeof e=="string"?po(e):e;Je(E==="/"||((ne=ee.pathname)==null?void 0:ne.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ee.pathname}" was given in the \`location\` prop.`),O=ee}else O=R;let L=O.pathname||"/",K=L;if(E!=="/"){let ee=E.replace(/^\//,"").split("/");K="/"+L.replace(/^\//,"").split("/").slice(ee.length).join("/")}let F=!u&&n&&n.matches&&n.matches.length>0?n.matches:HE(r,{pathname:K});$n(S||F!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),$n(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=Zw(F&&F.map(ee=>Object.assign({},ee,{params:Object.assign({},p,ee.params),pathname:er([E,o.encodeLocation?o.encodeLocation(ee.pathname).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?E:er([E,o.encodeLocation?o.encodeLocation(ee.pathnameBase).pathname:ee.pathnameBase])})),f,n,s);return e&&Y?q.createElement(eu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},Y):Y}function $w(){let r=ib(),e=jw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:o},n):null,f)}var Yw=q.createElement($w,null),Xw=class extends q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?q.createElement(jn.Provider,{value:this.props.routeContext},q.createElement(Fm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ww({routeContext:r,match:e,children:n}){let s=q.useContext(go);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(jn.Provider,{value:r},n)}function Zw(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);Je(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:S}=n,R=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!S||S[g.route.id]===void 0);if(g.route.lazy||R){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let S,R=!1,O=null,L=null;n&&(S=u&&g.route.id?u[g.route.id]:void 0,O=g.route.errorElement||Yw,f&&(m<0&&E===0?(WE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,L=null):m===E&&(R=!0,L=g.route.hydrateFallbackElement||null)));let K=e.concat(o.slice(0,E+1)),F=()=>{let Y;return S?Y=O:R?Y=L:g.route.Component?Y=q.createElement(g.route.Component,null):g.route.element?Y=g.route.element:Y=p,q.createElement(Ww,{match:g,routeContext:{outlet:p,matches:K,isDataRoute:n!=null},children:Y})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?q.createElement(Xw,{location:n.location,revalidation:n.revalidation,component:O,error:S,children:F(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):F()},null)}function Gm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jw(r){let e=q.useContext(go);return Je(e,Gm(r)),e}function eb(r){let e=q.useContext(Ah);return Je(e,Gm(r)),e}function tb(r){let e=q.useContext(jn);return Je(e,Gm(r)),e}function Km(r){let e=tb(r),n=e.matches[e.matches.length-1];return Je(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function nb(){return Km("useRouteId")}function ib(){var s;let r=q.useContext(Fm),e=eb("useRouteError"),n=Km("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function rb(){let{router:r}=Jw("useNavigate"),e=Km("useNavigate"),n=q.useRef(!1);return YE(()=>{n.current=!0}),q.useCallback(async(o,u={})=>{$n(n.current,$E),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var hv={};function WE(r,e,n){!e&&!hv[r]&&(hv[r]=!0,$n(!1,n))}q.memo(sb);function sb({routes:r,future:e,state:n}){return XE(r,void 0,n,e)}function ZE({to:r,replace:e,state:n,relative:s}){Je(yo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=q.useContext(Wn);$n(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=q.useContext(jn),{pathname:f}=cs(),m=Zn(),p=Hm(r,qm(u),f,s==="path"),g=JSON.stringify(p);return q.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function JE(r){return Kw(r.context)}function Bt(r){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ab({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){Je(!yo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=q.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=po(n));let{pathname:p="/",search:g="",hash:E="",state:S=null,key:R="default"}=n,O=q.useMemo(()=>{let L=ir(p,f);return L==null?null:{location:{pathname:L,search:g,hash:E,state:S,key:R},navigationType:s}},[f,p,g,E,S,R,s]);return $n(O!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:q.createElement(Wn.Provider,{value:m},q.createElement(eu.Provider,{children:e,value:O}))}function ob({children:r,location:e}){return Qw(mm(r),e)}function mm(r,e=[]){let n=[];return q.Children.forEach(r,(s,o)=>{if(!q.isValidElement(s))return;let u=[...e,o];if(s.type===q.Fragment){n.push.apply(n,mm(s.props.children,u));return}Je(s.type===Bt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=mm(s.props.children,u)),n.push(f)}),n}var Hc="get",Fc="application/x-www-form-urlencoded";function wh(r){return r!=null&&typeof r.tagName=="string"}function lb(r){return wh(r)&&r.tagName.toLowerCase()==="button"}function ub(r){return wh(r)&&r.tagName.toLowerCase()==="form"}function cb(r){return wh(r)&&r.tagName.toLowerCase()==="input"}function hb(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function fb(r,e){return r.button===0&&(!e||e==="_self")&&!hb(r)}var kc=null;function db(){if(kc===null)try{new FormData(document.createElement("form"),0),kc=!1}catch{kc=!0}return kc}var mb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tm(r){return r!=null&&!mb.has(r)?($n(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fc}"`),null):r}function pb(r,e){let n,s,o,u,f;if(ub(r)){let m=r.getAttribute("action");s=m?ir(m,e):null,n=r.getAttribute("method")||Hc,o=tm(r.getAttribute("enctype"))||Fc,u=new FormData(r)}else if(lb(r)||cb(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?ir(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Hc,o=tm(r.getAttribute("formenctype"))||tm(m.getAttribute("enctype"))||Fc,u=new FormData(m,r),!db()){let{name:g,type:E,value:S}=r;if(E==="image"){let R=g?`${g}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else g&&u.append(g,S)}}else{if(wh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Hc,s=null,o=Fc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Qm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function gb(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yb(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function _b(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await gb(u,n);return f.links?f.links():[]}return[]}));return Sb(s.flat(1).filter(yb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function fv(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var S;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let R=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=n[0])==null?void 0:S.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function vb(r,e,{includeHydrateFallback:n}={}){return Eb(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Eb(r){return[...new Set(r)]}function Tb(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Sb(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(Tb(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function Ab(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&ir(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function eT(){let r=q.useContext(go);return Qm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function wb(){let r=q.useContext(Ah);return Qm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var $m=q.createContext(void 0);$m.displayName="FrameworkContext";function tT(){let r=q.useContext($m);return Qm(r,"You must render this element inside a <HydratedRouter> element"),r}function bb(r,e){let n=q.useContext($m),[s,o]=q.useState(!1),[u,f]=q.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:S}=e,R=q.useRef(null);q.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let K=Y=>{Y.forEach(ne=>{f(ne.isIntersecting)})},F=new IntersectionObserver(K,{threshold:.5});return R.current&&F.observe(R.current),()=>{F.disconnect()}}},[r]),q.useEffect(()=>{if(s){let K=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(K)}}},[s]);let O=()=>{o(!0)},L=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,R,{}]:[u,R,{onFocus:Vl(m,O),onBlur:Vl(p,L),onMouseEnter:Vl(g,O),onMouseLeave:Vl(E,L),onTouchStart:Vl(S,O)}]:[!1,R,{}]}function Vl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Rb({page:r,...e}){let{router:n}=eT(),s=q.useMemo(()=>HE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?q.createElement(Ib,{page:r,matches:s,...e}):null}function Cb(r){let{manifest:e,routeModules:n}=tT(),[s,o]=q.useState([]);return q.useEffect(()=>{let u=!1;return _b(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function Ib({page:r,matches:e,...n}){let s=cs(),{manifest:o,routeModules:u}=tT(),{basename:f}=eT(),{loaderData:m,matches:p}=wb(),g=q.useMemo(()=>fv(r,e,p,o,s,"data"),[r,e,p,o,s]),E=q.useMemo(()=>fv(r,e,p,o,s,"assets"),[r,e,p,o,s]),S=q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let L=new Set,K=!1;if(e.forEach(Y=>{var ee;let ne=o.routes[Y.route.id];!ne||!ne.hasLoader||(!g.some(ge=>ge.route.id===Y.route.id)&&Y.route.id in m&&((ee=u[Y.route.id])!=null&&ee.shouldRevalidate)||ne.hasClientLoader?K=!0:L.add(Y.route.id))}),L.size===0)return[];let F=Ab(r,f);return K&&L.size>0&&F.searchParams.set("_routes",e.filter(Y=>L.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[F.pathname+F.search]},[f,m,s,o,g,e,r,u]),R=q.useMemo(()=>vb(E,o),[E,o]),O=Cb(E);return q.createElement(q.Fragment,null,S.map(L=>q.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),R.map(L=>q.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),O.map(({key:L,link:K})=>q.createElement("link",{key:L,...K})))}function Db(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var nT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nT&&(window.__reactRouterVersion="7.3.0")}catch{}function Nb({basename:r,children:e,window:n}){let s=q.useRef();s.current==null&&(s.current=yw({window:n,v5Compat:!0}));let o=s.current,[u,f]=q.useState({action:o.action,location:o.location}),m=q.useCallback(p=>{q.startTransition(()=>f(p))},[f]);return q.useLayoutEffect(()=>o.listen(m),[o,m]),q.createElement(ab,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var iT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gi=q.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:S,...R},O){let{basename:L}=q.useContext(Wn),K=typeof g=="string"&&iT.test(g),F,Y=!1;if(typeof g=="string"&&K&&(F=g,nT))try{let b=new URL(window.location.href),D=g.startsWith("//")?new URL(b.protocol+g):new URL(g),P=ir(D.pathname,L);D.origin===b.origin&&P!=null?g=P+D.search+D.hash:Y=!0}catch{$n(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=Hw(g,{relative:o}),[ee,ge,ce]=bb(s,R),we=Mb(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:S});function V(b){e&&e(b),b.defaultPrevented||we(b)}let C=q.createElement("a",{...R,...ce,href:F||ne,onClick:Y||u?e:V,ref:Db(O,ge),target:p,"data-discover":!K&&n==="render"?"true":void 0});return ee&&!K?q.createElement(q.Fragment,null,C,q.createElement(Rb,{page:ne})):C});gi.displayName="Link";var Kn=q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let S=nu(f,{relative:g.relative}),R=cs(),O=q.useContext(Ah),{navigator:L,basename:K}=q.useContext(Wn),F=O!=null&&Ub(S)&&m===!0,Y=L.encodeLocation?L.encodeLocation(S).pathname:S.pathname,ne=R.pathname,ee=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),ee=ee?ee.toLowerCase():null,Y=Y.toLowerCase()),ee&&K&&(ee=ir(ee,K)||ee);const ge=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let ce=ne===Y||!o&&ne.startsWith(Y)&&ne.charAt(ge)==="/",we=ee!=null&&(ee===Y||!o&&ee.startsWith(Y)&&ee.charAt(Y.length)==="/"),V={isActive:ce,isPending:we,isTransitioning:F},C=ce?e:void 0,b;typeof s=="function"?b=s(V):b=[s,ce?"active":null,we?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(V):u;return q.createElement(gi,{...g,"aria-current":C,className:b,ref:E,style:D,to:f,viewTransition:m},typeof p=="function"?p(V):p)});Kn.displayName="NavLink";var Ob=q.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Hc,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:S,...R},O)=>{let L=kb(),K=Lb(m,{relative:g}),F=f.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&iT.test(m),ne=ee=>{if(p&&p(ee),ee.defaultPrevented)return;ee.preventDefault();let ge=ee.nativeEvent.submitter,ce=(ge==null?void 0:ge.getAttribute("formmethod"))||f;L(ge||ee.currentTarget,{fetcherKey:e,method:ce,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:S})};return q.createElement("form",{ref:O,method:F,action:K,onSubmit:s?p:ne,...R,"data-discover":!Y&&r==="render"?"true":void 0})});Ob.displayName="Form";function xb(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rT(r){let e=q.useContext(go);return Je(e,xb(r)),e}function Mb(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Zn(),p=cs(),g=nu(r,{relative:u});return q.useCallback(E=>{if(fb(E,e)){E.preventDefault();let S=n!==void 0?n:Kl(p)===Kl(g);m(r,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,r,o,u,f])}var Vb=0,Pb=()=>`__${String(++Vb)}__`;function kb(){let{router:r}=rT("useSubmit"),{basename:e}=q.useContext(Wn),n=nb();return q.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=pb(s,e);if(o.navigate===!1){let E=o.fetcherKey||Pb();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function Lb(r,{relative:e}={}){let{basename:n}=q.useContext(Wn),s=q.useContext(jn);Je(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...nu(r||".",{relative:e})},f=cs();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:er([n,u.pathname])),Kl(u)}function Ub(r,e={}){let n=q.useContext(QE);Je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=rT("useViewTransitionState"),o=nu(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=ir(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=ir(n.nextLocation.pathname,s)||n.nextLocation.pathname;return th(o.pathname,f)!=null||th(o.pathname,u)!=null}new TextEncoder;function jb(){return w.jsx("footer",{children:w.jsxs("p",{children:["Created by ",w.jsx("strong",{children:"Viktor Stoichev"})," "]})})}const zb=()=>{};var dv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Bb=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},aT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let R=(m&15)<<2|g>>6,O=g&63;p||(O=64,f||(R=64)),s.push(n[E],n[S],n[R],n[O])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(sT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Bb(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||S==null)throw new qb;const R=u<<2|m>>4;if(s.push(R),g!==64){const O=m<<4&240|g>>2;if(s.push(O),S!==64){const L=g<<6&192|S;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class qb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Hb=function(r){const e=sT(r);return aT.encodeByteArray(e,!0)},nh=function(r){return Hb(r).replace(/\./g,"")},oT=function(r){try{return aT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb=()=>Fb().__FIREBASE_DEFAULTS__,Kb=()=>{if(typeof process>"u"||typeof dv>"u")return;const r=dv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Qb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&oT(r[1]);return e&&JSON.parse(e)},bh=()=>{try{return zb()||Gb()||Kb()||Qb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},lT=r=>{var e,n;return(n=(e=bh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},$b=r=>{const e=lT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},uT=()=>{var r;return(r=bh())===null||r===void 0?void 0:r.config},cT=r=>{var e;return(e=bh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[nh(JSON.stringify(n)),nh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Wb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function Zb(){var r;const e=(r=bh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Jb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function tR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nR(){const r=Zt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function iR(){return!Zb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rR(){try{return typeof indexedDB=="object"}catch{return!1}}function sR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR="FirebaseError";class ur extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=aR,Object.setPrototypeOf(this,ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,iu.prototype.create)}}class iu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?oR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ur(o,m,s)}}function oR(r,e){return r.replace(lR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const lR=/\{\$([^}]+)}/g;function uR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function rr(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(mv(u)&&mv(f)){if(!rr(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function mv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Pl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function kl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function cR(r,e){const n=new hR(r,e);return n.subscribe.bind(n)}class hR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");fR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=nm),o.error===void 0&&(o.error=nm),o.complete===void 0&&(o.complete=nm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function nm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(r){return r&&r._delegate?r._delegate:r}class Xs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Yb;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pR(e))try{this.getOrInitializeService({instanceIdentifier:Qs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qs){return this.instances.has(e)}getOptions(e=Qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:mR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Qs){return this.component?this.component.multipleInstances?e:Qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mR(r){return r===Qs?void 0:r}function pR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Oe||(Oe={}));const yR={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},_R=Oe.INFO,vR={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},ER=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=vR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ym{constructor(e){this.name=e,this._logLevel=_R,this._logHandler=ER,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const TR=(r,e)=>e.some(n=>r instanceof n);let pv,gv;function SR(){return pv||(pv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AR(){return gv||(gv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hT=new WeakMap,pm=new WeakMap,fT=new WeakMap,im=new WeakMap,Xm=new WeakMap;function wR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Jr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&hT.set(n,r)}).catch(()=>{}),Xm.set(e,r),e}function bR(r){if(pm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});pm.set(r,e)}let gm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return pm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||fT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function RR(r){gm=r(gm)}function CR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(rm(this),e,...n);return fT.set(s,e.sort?e.sort():[e]),Jr(s)}:AR().includes(r)?function(...e){return r.apply(rm(this),e),Jr(hT.get(this))}:function(...e){return Jr(r.apply(rm(this),e))}}function IR(r){return typeof r=="function"?CR(r):(r instanceof IDBTransaction&&bR(r),TR(r,SR())?new Proxy(r,gm):r)}function Jr(r){if(r instanceof IDBRequest)return wR(r);if(im.has(r))return im.get(r);const e=IR(r);return e!==r&&(im.set(r,e),Xm.set(e,r)),e}const rm=r=>Xm.get(r);function DR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Jr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Jr(f.result),p.oldVersion,p.newVersion,Jr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const NR=["get","getKey","getAll","getAllKeys","count"],OR=["put","add","delete","clear"],sm=new Map;function yv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(sm.get(e))return sm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=OR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||NR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return sm.set(e,u),u}RR(r=>({...r,get:(e,n,s)=>yv(e,n)||r.get(e,n,s),has:(e,n)=>!!yv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(MR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function MR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ym="@firebase/app",_v="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=new Ym("@firebase/app"),VR="@firebase/app-compat",PR="@firebase/analytics-compat",kR="@firebase/analytics",LR="@firebase/app-check-compat",UR="@firebase/app-check",jR="@firebase/auth",zR="@firebase/auth-compat",BR="@firebase/database",qR="@firebase/data-connect",HR="@firebase/database-compat",FR="@firebase/functions",GR="@firebase/functions-compat",KR="@firebase/installations",QR="@firebase/installations-compat",$R="@firebase/messaging",YR="@firebase/messaging-compat",XR="@firebase/performance",WR="@firebase/performance-compat",ZR="@firebase/remote-config",JR="@firebase/remote-config-compat",eC="@firebase/storage",tC="@firebase/storage-compat",nC="@firebase/firestore",iC="@firebase/vertexai",rC="@firebase/firestore-compat",sC="firebase",aC="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="[DEFAULT]",oC={[ym]:"fire-core",[VR]:"fire-core-compat",[kR]:"fire-analytics",[PR]:"fire-analytics-compat",[UR]:"fire-app-check",[LR]:"fire-app-check-compat",[jR]:"fire-auth",[zR]:"fire-auth-compat",[BR]:"fire-rtdb",[qR]:"fire-data-connect",[HR]:"fire-rtdb-compat",[FR]:"fire-fn",[GR]:"fire-fn-compat",[KR]:"fire-iid",[QR]:"fire-iid-compat",[$R]:"fire-fcm",[YR]:"fire-fcm-compat",[XR]:"fire-perf",[WR]:"fire-perf-compat",[ZR]:"fire-rc",[JR]:"fire-rc-compat",[eC]:"fire-gcs",[tC]:"fire-gcs-compat",[nC]:"fire-fst",[rC]:"fire-fst-compat",[iC]:"fire-vertex","fire-js":"fire-js",[sC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new Map,lC=new Map,vm=new Map;function vv(r,e){try{r.container.addComponent(e)}catch(n){sr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ro(r){const e=r.name;if(vm.has(e))return sr.debug(`There were multiple attempts to register component ${e}.`),!1;vm.set(e,r);for(const n of ih.values())vv(n,r);for(const n of lC.values())vv(n,r);return!0}function Wm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Un(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},es=new iu("app","Firebase",uC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o=aC;function dT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:_m,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw es.create("bad-app-name",{appName:String(o)});if(n||(n=uT()),!n)throw es.create("no-options");const u=ih.get(o);if(u){if(rr(n,u.options)&&rr(s,u.config))return u;throw es.create("duplicate-app",{appName:o})}const f=new gR(o);for(const p of vm.values())f.addComponent(p);const m=new cC(n,s,f);return ih.set(o,m),m}function mT(r=_m){const e=ih.get(r);if(!e&&r===_m&&uT())return dT();if(!e)throw es.create("no-app",{appName:r});return e}function ts(r,e,n){var s;let o=(s=oC[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sr.warn(m.join(" "));return}ro(new Xs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC="firebase-heartbeat-database",fC=1,Ql="firebase-heartbeat-store";let am=null;function pT(){return am||(am=DR(hC,fC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ql)}catch(n){console.warn(n)}}}}).catch(r=>{throw es.create("idb-open",{originalErrorMessage:r.message})})),am}async function dC(r){try{const n=(await pT()).transaction(Ql),s=await n.objectStore(Ql).get(gT(r));return await n.done,s}catch(e){if(e instanceof ur)sr.warn(e.message);else{const n=es.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});sr.warn(n.message)}}}async function Ev(r,e){try{const s=(await pT()).transaction(Ql,"readwrite");await s.objectStore(Ql).put(e,gT(r)),await s.done}catch(n){if(n instanceof ur)sr.warn(n.message);else{const s=es.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});sr.warn(s.message)}}}function gT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=1024,pC=30;class gC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _C(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Tv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>pC){const f=vC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){sr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Tv(),{heartbeatsToSend:s,unsentEntries:o}=yC(this._heartbeatsCache.heartbeats),u=nh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return sr.warn(n),""}}}function Tv(){return new Date().toISOString().substring(0,10)}function yC(r,e=mC){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Sv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Sv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class _C{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rR()?sR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ev(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ev(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Sv(r){return nh(JSON.stringify({version:2,heartbeats:r})).length}function vC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(r){ro(new Xs("platform-logger",e=>new xR(e),"PRIVATE")),ro(new Xs("heartbeat",e=>new gC(e),"PRIVATE")),ts(ym,_v,r),ts(ym,_v,"esm2017"),ts("fire-js","")}EC("");var TC="firebase",SC="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ts(TC,SC,"app");function Zm(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function yT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AC=yT,_T=new iu("auth","Firebase",yT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=new Ym("@firebase/auth");function wC(r,...e){rh.logLevel<=Oe.WARN&&rh.warn(`Auth (${_o}): ${r}`,...e)}function Gc(r,...e){rh.logLevel<=Oe.ERROR&&rh.error(`Auth (${_o}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(r,...e){throw Jm(r,...e)}function yi(r,...e){return Jm(r,...e)}function vT(r,e,n){const s=Object.assign(Object.assign({},AC()),{[e]:n});return new iu("auth","Firebase",s).create(e,{appName:r.name})}function tr(r){return vT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jm(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return _T.create(r,...e)}function _e(r,e,...n){if(!r)throw Jm(e,...n)}function Wi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Gc(e),new Error(e)}function ar(r,e){r||Wi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function bC(){return Av()==="http:"||Av()==="https:"}function Av(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bC()||eR()||"connection"in navigator)?navigator.onLine:!0}function CC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n){this.shortDelay=e,this.longDelay=n,ar(n>e,"Short delay should be less than long delay!"),this.isMobile=Wb()||tR()}get(){return RC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(r,e){ar(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=new su(3e4,6e4);function hs(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function fs(r,e,n,s,o={}){return TT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=ru(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return Jb()||(g.referrerPolicy="no-referrer"),ET.fetch()(ST(r,r.config.apiHost,n,m),g)})}async function TT(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},IC),e);try{const o=new OC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Lc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Lc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Lc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw vT(r,E,g);Yn(r,E)}}catch(o){if(o instanceof ur)throw o;Yn(r,"network-request-failed",{message:String(o)})}}async function au(r,e,n,s,o={}){const u=await fs(r,e,n,s,o);return"mfaPendingCredential"in u&&Yn(r,"multi-factor-auth-required",{_serverResponse:u}),u}function ST(r,e,n,s){const o=`${e}${n}?${s}`;return r.config.emulator?ep(r.config,o):`${r.config.apiScheme}://${o}`}function NC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class OC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(yi(this.auth,"network-request-failed")),DC.get())})}}function Lc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=yi(r,e,s);return o.customData._tokenResponse=n,o}function wv(r){return r!==void 0&&r.enterprise!==void 0}class xC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return NC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function MC(r,e){return fs(r,"GET","/v2/recaptchaConfig",hs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VC(r,e){return fs(r,"POST","/v1/accounts:delete",e)}async function AT(r,e){return fs(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function PC(r,e=!1){const n=kt(r),s=await n.getIdToken(e),o=tp(s);_e(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Bl(om(o.auth_time)),issuedAtTime:Bl(om(o.iat)),expirationTime:Bl(om(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function om(r){return Number(r)*1e3}function tp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Gc("JWT malformed, contained fewer than 3 sections"),null;try{const o=oT(n);return o?JSON.parse(o):(Gc("Failed to decode base64 JWT payload"),null)}catch(o){return Gc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function bv(r){const e=tp(r);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $l(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ur&&kC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function kC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await $l(r,AT(n,{idToken:s}));_e(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?wT(u.providerUserInfo):[],m=jC(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,S={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Tm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,S)}async function UC(r){const e=kt(r);await sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function wT(r){return r.map(e=>{var{providerId:n}=e,s=Zm(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zC(r,e){const n=await TT(r,{},async()=>{const s=ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=ST(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",ET.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function BC(r,e){return fs(r,"POST","/v2/accounts:revokeToken",hs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=bv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await zC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new eo;return s&&(_e(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(_e(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(_e(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new eo,this.toJSON())}_performRefresh(){return Wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(r,e){_e(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Zi{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Zm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new LC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Tm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await $l(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return PC(this,e)}reload(){return UC(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await sh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(tr(this.auth));const e=await this.getIdToken();return await $l(this,VC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,E;const S=(s=n.displayName)!==null&&s!==void 0?s:void 0,R=(o=n.email)!==null&&o!==void 0?o:void 0,O=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,L=(f=n.photoURL)!==null&&f!==void 0?f:void 0,K=(m=n.tenantId)!==null&&m!==void 0?m:void 0,F=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,Y=(g=n.createdAt)!==null&&g!==void 0?g:void 0,ne=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ee,emailVerified:ge,isAnonymous:ce,providerData:we,stsTokenManager:V}=n;_e(ee&&V,e,"internal-error");const C=eo.fromJSON(this.name,V);_e(typeof ee=="string",e,"internal-error"),Qr(S,e.name),Qr(R,e.name),_e(typeof ge=="boolean",e,"internal-error"),_e(typeof ce=="boolean",e,"internal-error"),Qr(O,e.name),Qr(L,e.name),Qr(K,e.name),Qr(F,e.name),Qr(Y,e.name),Qr(ne,e.name);const b=new Zi({uid:ee,auth:e,email:R,emailVerified:ge,displayName:S,isAnonymous:ce,photoURL:L,phoneNumber:O,tenantId:K,stsTokenManager:C,createdAt:Y,lastLoginAt:ne});return we&&Array.isArray(we)&&(b.providerData=we.map(D=>Object.assign({},D))),F&&(b._redirectEventId=F),b}static async _fromIdTokenResponse(e,n,s=!1){const o=new eo;o.updateFromServerResponse(n);const u=new Zi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await sh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];_e(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?wT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new eo;m.updateFromIdToken(s);const p=new Zi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Tm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=new Map;function Ji(r){ar(r instanceof Function,"Expected a class definition");let e=Rv.get(r);return e?(ar(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Rv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}bT.type="NONE";const Cv=bT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(r,e,n){return`firebase:${r}:${e}:${n}`}class to{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Kc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Kc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Zi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new to(Ji(Cv),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Ji(Cv);const f=Kc(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){const S=Zi._fromJSON(e,E);g!==u&&(m=S),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new to(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new to(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(RT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OT(e))return"Blackberry";if(xT(e))return"Webos";if(CT(e))return"Safari";if((e.includes("chrome/")||IT(e))&&!e.includes("edge/"))return"Chrome";if(NT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function RT(r=Zt()){return/firefox\//i.test(r)}function CT(r=Zt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IT(r=Zt()){return/crios\//i.test(r)}function DT(r=Zt()){return/iemobile/i.test(r)}function NT(r=Zt()){return/android/i.test(r)}function OT(r=Zt()){return/blackberry/i.test(r)}function xT(r=Zt()){return/webos/i.test(r)}function np(r=Zt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function qC(r=Zt()){var e;return np(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function HC(){return nR()&&document.documentMode===10}function MT(r=Zt()){return np(r)||NT(r)||xT(r)||OT(r)||/windows phone/i.test(r)||DT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(r,e=[]){let n;switch(r){case"Browser":n=Iv(Zt());break;case"Worker":n=`${Iv(Zt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_o}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GC(r,e={}){return fs(r,"GET","/v2/passwordPolicy",hs(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=6;class QC{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:KC,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dv(this),this.idTokenSubscription=new Dv(this),this.beforeStateQueue=new FC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_T,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ji(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await to.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await AT(this,{idToken:e}),s=await Zi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Un(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(tr(this));const n=e?kt(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(tr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(tr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ji(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GC(this),n=new QC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new iu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await BC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ji(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await to.create(this,[Ji(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&wC(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ta(r){return kt(r)}class Dv{constructor(e){this.auth=e,this.observer=null,this.addObserver=cR(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YC(r){Rh=r}function PT(r){return Rh.loadJS(r)}function XC(){return Rh.recaptchaEnterpriseScript}function WC(){return Rh.gapiScript}function ZC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class JC{constructor(){this.enterprise=new eI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class eI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const tI="recaptcha-enterprise",kT="NO_RECAPTCHA";class nI{constructor(e){this.type=tI,this.auth=ta(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{MC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new xC(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;wv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(kT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new JC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&wv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=XC();p.length!==0&&(p+=m),PT(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function Nv(r,e,n,s=!1,o=!1){const u=new nI(r);let f;if(o)f=kT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Sm(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Nv(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await Nv(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(r,e){const n=Wm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(rr(u,e??{}))return o;Yn(o,"already-initialized")}return n.initialize({options:e})}function rI(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ji);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function sI(r,e,n){const s=ta(r);_e(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=LT(e),{host:f,port:m}=aI(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){_e(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_e(rr(g,s.config.emulator)&&rr(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,oI()}function LT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function aI(r){const e=LT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Ov(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Ov(f)}}}function Ov(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function oI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wi("not implemented")}_getIdTokenResponse(e){return Wi("not implemented")}_linkToIdToken(e,n){return Wi("not implemented")}_getReauthenticationResolver(e){return Wi("not implemented")}}async function lI(r,e){return fs(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(r,e){return au(r,"POST","/v1/accounts:signInWithPassword",hs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cI(r,e){return au(r,"POST","/v1/accounts:signInWithEmailLink",hs(r,e))}async function hI(r,e){return au(r,"POST","/v1/accounts:signInWithEmailLink",hs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends ip{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Yl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Yl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sm(e,n,"signInWithPassword",uI);case"emailLink":return cI(e,{email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sm(e,s,"signUpPassword",lI);case"emailLink":return hI(e,{idToken:n,email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function no(r,e){return au(r,"POST","/v1/accounts:signInWithIdp",hs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="http://localhost";class Ws extends ip{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ws(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Yn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Zm(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Ws(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return no(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,no(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,no(e,n)}buildRequest(){const e={requestUri:fI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ru(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mI(r){const e=Pl(kl(r)).link,n=e?Pl(kl(e)).deep_link_id:null,s=Pl(kl(r)).deep_link_id;return(s?Pl(kl(s)).link:null)||s||n||e||r}class rp{constructor(e){var n,s,o,u,f,m;const p=Pl(kl(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,S=dI((o=p.mode)!==null&&o!==void 0?o:null);_e(g&&E&&S,"argument-error"),this.apiKey=g,this.operation=S,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=mI(e);try{return new rp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.providerId=vo.PROVIDER_ID}static credential(e,n){return Yl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=rp.parseLink(n);return _e(s,"argument-error"),Yl._fromEmailAndCode(e,s.code,s.tenantId)}}vo.PROVIDER_ID="password";vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou extends UT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends ou{constructor(){super("facebook.com")}static credential(e){return Ws._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $r.credential(e.oauthAccessToken)}catch{return null}}}$r.FACEBOOK_SIGN_IN_METHOD="facebook.com";$r.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends ou{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ws._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Yr.credential(n,s)}catch{return null}}}Yr.GOOGLE_SIGN_IN_METHOD="google.com";Yr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends ou{constructor(){super("github.com")}static credential(e){return Ws._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xr.credential(e.oauthAccessToken)}catch{return null}}}Xr.GITHUB_SIGN_IN_METHOD="github.com";Xr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends ou{constructor(){super("twitter.com")}static credential(e,n){return Ws._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Wr.credential(n,s)}catch{return null}}}Wr.TWITTER_SIGN_IN_METHOD="twitter.com";Wr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pI(r,e){return au(r,"POST","/v1/accounts:signUp",hs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Zi._fromIdTokenResponse(e,s,o),f=xv(s);return new Zs({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=xv(s);return new Zs({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function xv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah extends ur{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,ah.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new ah(e,n,s,o)}}function jT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ah._fromErrorAndOperation(r,u,e,s):u})}async function gI(r,e,n=!1){const s=await $l(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Zs._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yI(r,e,n=!1){const{auth:s}=r;if(Un(s.app))return Promise.reject(tr(s));const o="reauthenticate";try{const u=await $l(r,jT(s,o,e,r),n);_e(u.idToken,s,"internal-error");const f=tp(u.idToken);_e(f,s,"internal-error");const{sub:m}=f;return _e(r.uid===m,s,"user-mismatch"),Zs._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Yn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zT(r,e,n=!1){if(Un(r.app))return Promise.reject(tr(r));const s="signIn",o=await jT(r,s,e),u=await Zs._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function _I(r,e){return zT(ta(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BT(r){const e=ta(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function vI(r,e,n){if(Un(r.app))return Promise.reject(tr(r));const s=ta(r),f=await Sm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&BT(r),p}),m=await Zs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function EI(r,e,n){return Un(r.app)?Promise.reject(tr(r)):_I(kt(r),vo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&BT(r),s})}function TI(r,e,n,s){return kt(r).onIdTokenChanged(e,n,s)}function SI(r,e,n){return kt(r).beforeAuthStateChanged(e,n)}function AI(r,e,n,s){return kt(r).onAuthStateChanged(e,n,s)}function wI(r){return kt(r).signOut()}const oh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(oh,"1"),this.storage.removeItem(oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=1e3,RI=10;class HT extends qT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=MT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);HC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,RI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},bI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}HT.type="LOCAL";const CI=HT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT extends qT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}FT.type="SESSION";const GT=FT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Ch(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await II(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ch.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=sp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const R=S;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(){return window}function NI(r){_i().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(){return typeof _i().WorkerGlobalScope<"u"&&typeof _i().importScripts=="function"}async function OI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xI(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function MI(){return KT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="firebaseLocalStorageDb",VI=1,lh="firebaseLocalStorage",$T="fbase_key";class lu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ih(r,e){return r.transaction([lh],e?"readwrite":"readonly").objectStore(lh)}function PI(){const r=indexedDB.deleteDatabase(QT);return new lu(r).toPromise()}function Am(){const r=indexedDB.open(QT,VI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(lh,{keyPath:$T})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(lh)?e(s):(s.close(),await PI(),e(await Am()))})})}async function Mv(r,e,n){const s=Ih(r,!0).put({[$T]:e,value:n});return new lu(s).toPromise()}async function kI(r,e){const n=Ih(r,!1).get(e),s=await new lu(n).toPromise();return s===void 0?null:s.value}function Vv(r,e){const n=Ih(r,!0).delete(e);return new lu(n).toPromise()}const LI=800,UI=3;class YT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Am(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>UI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ch._getInstance(MI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await OI(),!this.activeServiceWorker)return;this.sender=new DI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Am();return await Mv(e,oh,"1"),await Vv(e,oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Mv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>kI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Vv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Ih(o,!1).getAll();return new lu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YT.type="LOCAL";const jI=YT;new su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(r,e){return e?Ji(e):(_e(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap extends ip{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return no(e,this._buildIdpRequest())}_linkToIdToken(e,n){return no(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return no(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function BI(r){return zT(r.auth,new ap(r),r.bypassAuthState)}function qI(r){const{auth:e,user:n}=r;return _e(n,e,"internal-error"),yI(n,new ap(r),r.bypassAuthState)}async function HI(r){const{auth:e,user:n}=r;return _e(n,e,"internal-error"),gI(n,new ap(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BI;case"linkViaPopup":case"linkViaRedirect":return HI;case"reauthViaPopup":case"reauthViaRedirect":return qI;default:Yn(this.auth,"internal-error")}}resolve(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=new su(2e3,1e4);class Ja extends XT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ja.currentPopupAction&&Ja.currentPopupAction.cancel(),Ja.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){ar(this.filter.length===1,"Popup operations only handle one event");const e=sp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ja.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,FI.get())};e()}}Ja.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI="pendingRedirect",Qc=new Map;class KI extends XT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Qc.get(this.auth._key());if(!e){try{const s=await QI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Qc.set(this.auth._key(),e)}return this.bypassAuthState||Qc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QI(r,e){const n=XI(e),s=YI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function $I(r,e){Qc.set(r._key(),e)}function YI(r){return Ji(r._redirectPersistence)}function XI(r){return Kc(GI,r.config.apiKey,r.name)}async function WI(r,e,n=!1){if(Un(r.app))return Promise.reject(tr(r));const s=ta(r),o=zI(s,e),f=await new KI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=10*60*1e3;class JI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!e1(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!WT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(yi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ZI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pv(e))}saveEventToCache(e){this.cachedEventUids.add(Pv(e)),this.lastProcessedEventTime=Date.now()}}function Pv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function WT({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function e1(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t1(r,e={}){return fs(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i1=/^https?/;async function r1(r){if(r.config.emulator)return;const{authorizedDomains:e}=await t1(r);for(const n of e)try{if(s1(n))return}catch{}Yn(r,"unauthorized-domain")}function s1(r){const e=Em(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!i1.test(n))return!1;if(n1.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=new su(3e4,6e4);function kv(){const r=_i().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function o1(r){return new Promise((e,n)=>{var s,o,u;function f(){kv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kv(),n(yi(r,"network-request-failed"))},timeout:a1.get()})}if(!((o=(s=_i().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=_i().gapi)===null||u===void 0)&&u.load)f();else{const m=ZC("iframefcb");return _i()[m]=()=>{gapi.load?f():n(yi(r,"network-request-failed"))},PT(`${WC()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw $c=null,e})}let $c=null;function l1(r){return $c=$c||o1(r),$c}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=new su(5e3,15e3),c1="__/auth/iframe",h1="emulator/auth/iframe",f1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},d1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function m1(r){const e=r.config;_e(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?ep(e,h1):`https://${r.config.authDomain}/${c1}`,s={apiKey:e.apiKey,appName:r.name,v:_o},o=d1.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${ru(s).slice(1)}`}async function p1(r){const e=await l1(r),n=_i().gapi;return _e(n,r,"internal-error"),e.open({where:document.body,url:m1(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:f1,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=yi(r,"network-request-failed"),m=_i().setTimeout(()=>{u(f)},u1.get());function p(){_i().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},y1=500,_1=600,v1="_blank",E1="http://localhost";class Lv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function T1(r,e,n,s=y1,o=_1){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},g1),{width:s.toString(),height:o.toString(),top:u,left:f}),g=Zt().toLowerCase();n&&(m=IT(g)?v1:n),RT(g)&&(e=e||E1,p.scrollbars="yes");const E=Object.entries(p).reduce((R,[O,L])=>`${R}${O}=${L},`,"");if(qC(g)&&m!=="_self")return S1(e||"",m),new Lv(null);const S=window.open(e||"",m,E);_e(S,r,"popup-blocked");try{S.focus()}catch{}return new Lv(S)}function S1(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="__/auth/handler",w1="emulator/auth/handler",b1=encodeURIComponent("fac");async function Uv(r,e,n,s,o,u){_e(r.config.authDomain,r,"auth-domain-config-required"),_e(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:_o,eventId:o};if(e instanceof UT){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",uR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(e instanceof ou){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${b1}=${encodeURIComponent(p)}`:"";return`${R1(r)}?${ru(m).slice(1)}${g}`}function R1({config:r}){return r.emulator?ep(r,w1):`https://${r.authDomain}/${A1}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="webStorageSupport";class C1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GT,this._completeRedirectFn=WI,this._overrideRedirectResult=$I}async _openPopup(e,n,s,o){var u;ar((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await Uv(e,n,s,Em(),o);return T1(e,f,sp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await Uv(e,n,s,Em(),o);return NI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ar(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await p1(e),s=new JI(e);return n.register("authEvent",o=>(_e(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(lm,{type:lm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[lm];f!==void 0&&n(!!f),Yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=r1(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return MT()||CT()||np()}}const I1=C1;var jv="@firebase/auth",zv="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function O1(r){ro(new Xs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;_e(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VT(r)},g=new $C(s,o,u,p);return rI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ro(new Xs("auth-internal",e=>{const n=ta(e.getProvider("auth").getImmediate());return(s=>new D1(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ts(jv,zv,N1(r)),ts(jv,zv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1=5*60,M1=cT("authIdTokenMaxAge")||x1;let Bv=null;const V1=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>M1)return;const o=n==null?void 0:n.token;Bv!==o&&(Bv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ZT(r=mT()){const e=Wm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=iI(r,{popupRedirectResolver:I1,persistence:[jI,CI,GT]}),s=cT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=V1(u.toString());SI(n,f,()=>f(n.currentUser)),TI(n,m=>f(m))}}const o=lT("auth");return o&&sI(n,`http://${o}`),n}function P1(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}YC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=yi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",P1().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});O1("Browser");var qv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ns,JT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,C){function b(){}b.prototype=C.prototype,V.D=C.prototype,V.prototype=new b,V.prototype.constructor=V,V.C=function(D,P,z){for(var N=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)N[vt-2]=arguments[vt];return C.prototype[P].apply(D,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,C,b){b||(b=0);var D=Array(16);if(typeof C=="string")for(var P=0;16>P;++P)D[P]=C.charCodeAt(b++)|C.charCodeAt(b++)<<8|C.charCodeAt(b++)<<16|C.charCodeAt(b++)<<24;else for(P=0;16>P;++P)D[P]=C[b++]|C[b++]<<8|C[b++]<<16|C[b++]<<24;C=V.g[0],b=V.g[1],P=V.g[2];var z=V.g[3],N=C+(z^b&(P^z))+D[0]+3614090360&4294967295;C=b+(N<<7&4294967295|N>>>25),N=z+(P^C&(b^P))+D[1]+3905402710&4294967295,z=C+(N<<12&4294967295|N>>>20),N=P+(b^z&(C^b))+D[2]+606105819&4294967295,P=z+(N<<17&4294967295|N>>>15),N=b+(C^P&(z^C))+D[3]+3250441966&4294967295,b=P+(N<<22&4294967295|N>>>10),N=C+(z^b&(P^z))+D[4]+4118548399&4294967295,C=b+(N<<7&4294967295|N>>>25),N=z+(P^C&(b^P))+D[5]+1200080426&4294967295,z=C+(N<<12&4294967295|N>>>20),N=P+(b^z&(C^b))+D[6]+2821735955&4294967295,P=z+(N<<17&4294967295|N>>>15),N=b+(C^P&(z^C))+D[7]+4249261313&4294967295,b=P+(N<<22&4294967295|N>>>10),N=C+(z^b&(P^z))+D[8]+1770035416&4294967295,C=b+(N<<7&4294967295|N>>>25),N=z+(P^C&(b^P))+D[9]+2336552879&4294967295,z=C+(N<<12&4294967295|N>>>20),N=P+(b^z&(C^b))+D[10]+4294925233&4294967295,P=z+(N<<17&4294967295|N>>>15),N=b+(C^P&(z^C))+D[11]+2304563134&4294967295,b=P+(N<<22&4294967295|N>>>10),N=C+(z^b&(P^z))+D[12]+1804603682&4294967295,C=b+(N<<7&4294967295|N>>>25),N=z+(P^C&(b^P))+D[13]+4254626195&4294967295,z=C+(N<<12&4294967295|N>>>20),N=P+(b^z&(C^b))+D[14]+2792965006&4294967295,P=z+(N<<17&4294967295|N>>>15),N=b+(C^P&(z^C))+D[15]+1236535329&4294967295,b=P+(N<<22&4294967295|N>>>10),N=C+(P^z&(b^P))+D[1]+4129170786&4294967295,C=b+(N<<5&4294967295|N>>>27),N=z+(b^P&(C^b))+D[6]+3225465664&4294967295,z=C+(N<<9&4294967295|N>>>23),N=P+(C^b&(z^C))+D[11]+643717713&4294967295,P=z+(N<<14&4294967295|N>>>18),N=b+(z^C&(P^z))+D[0]+3921069994&4294967295,b=P+(N<<20&4294967295|N>>>12),N=C+(P^z&(b^P))+D[5]+3593408605&4294967295,C=b+(N<<5&4294967295|N>>>27),N=z+(b^P&(C^b))+D[10]+38016083&4294967295,z=C+(N<<9&4294967295|N>>>23),N=P+(C^b&(z^C))+D[15]+3634488961&4294967295,P=z+(N<<14&4294967295|N>>>18),N=b+(z^C&(P^z))+D[4]+3889429448&4294967295,b=P+(N<<20&4294967295|N>>>12),N=C+(P^z&(b^P))+D[9]+568446438&4294967295,C=b+(N<<5&4294967295|N>>>27),N=z+(b^P&(C^b))+D[14]+3275163606&4294967295,z=C+(N<<9&4294967295|N>>>23),N=P+(C^b&(z^C))+D[3]+4107603335&4294967295,P=z+(N<<14&4294967295|N>>>18),N=b+(z^C&(P^z))+D[8]+1163531501&4294967295,b=P+(N<<20&4294967295|N>>>12),N=C+(P^z&(b^P))+D[13]+2850285829&4294967295,C=b+(N<<5&4294967295|N>>>27),N=z+(b^P&(C^b))+D[2]+4243563512&4294967295,z=C+(N<<9&4294967295|N>>>23),N=P+(C^b&(z^C))+D[7]+1735328473&4294967295,P=z+(N<<14&4294967295|N>>>18),N=b+(z^C&(P^z))+D[12]+2368359562&4294967295,b=P+(N<<20&4294967295|N>>>12),N=C+(b^P^z)+D[5]+4294588738&4294967295,C=b+(N<<4&4294967295|N>>>28),N=z+(C^b^P)+D[8]+2272392833&4294967295,z=C+(N<<11&4294967295|N>>>21),N=P+(z^C^b)+D[11]+1839030562&4294967295,P=z+(N<<16&4294967295|N>>>16),N=b+(P^z^C)+D[14]+4259657740&4294967295,b=P+(N<<23&4294967295|N>>>9),N=C+(b^P^z)+D[1]+2763975236&4294967295,C=b+(N<<4&4294967295|N>>>28),N=z+(C^b^P)+D[4]+1272893353&4294967295,z=C+(N<<11&4294967295|N>>>21),N=P+(z^C^b)+D[7]+4139469664&4294967295,P=z+(N<<16&4294967295|N>>>16),N=b+(P^z^C)+D[10]+3200236656&4294967295,b=P+(N<<23&4294967295|N>>>9),N=C+(b^P^z)+D[13]+681279174&4294967295,C=b+(N<<4&4294967295|N>>>28),N=z+(C^b^P)+D[0]+3936430074&4294967295,z=C+(N<<11&4294967295|N>>>21),N=P+(z^C^b)+D[3]+3572445317&4294967295,P=z+(N<<16&4294967295|N>>>16),N=b+(P^z^C)+D[6]+76029189&4294967295,b=P+(N<<23&4294967295|N>>>9),N=C+(b^P^z)+D[9]+3654602809&4294967295,C=b+(N<<4&4294967295|N>>>28),N=z+(C^b^P)+D[12]+3873151461&4294967295,z=C+(N<<11&4294967295|N>>>21),N=P+(z^C^b)+D[15]+530742520&4294967295,P=z+(N<<16&4294967295|N>>>16),N=b+(P^z^C)+D[2]+3299628645&4294967295,b=P+(N<<23&4294967295|N>>>9),N=C+(P^(b|~z))+D[0]+4096336452&4294967295,C=b+(N<<6&4294967295|N>>>26),N=z+(b^(C|~P))+D[7]+1126891415&4294967295,z=C+(N<<10&4294967295|N>>>22),N=P+(C^(z|~b))+D[14]+2878612391&4294967295,P=z+(N<<15&4294967295|N>>>17),N=b+(z^(P|~C))+D[5]+4237533241&4294967295,b=P+(N<<21&4294967295|N>>>11),N=C+(P^(b|~z))+D[12]+1700485571&4294967295,C=b+(N<<6&4294967295|N>>>26),N=z+(b^(C|~P))+D[3]+2399980690&4294967295,z=C+(N<<10&4294967295|N>>>22),N=P+(C^(z|~b))+D[10]+4293915773&4294967295,P=z+(N<<15&4294967295|N>>>17),N=b+(z^(P|~C))+D[1]+2240044497&4294967295,b=P+(N<<21&4294967295|N>>>11),N=C+(P^(b|~z))+D[8]+1873313359&4294967295,C=b+(N<<6&4294967295|N>>>26),N=z+(b^(C|~P))+D[15]+4264355552&4294967295,z=C+(N<<10&4294967295|N>>>22),N=P+(C^(z|~b))+D[6]+2734768916&4294967295,P=z+(N<<15&4294967295|N>>>17),N=b+(z^(P|~C))+D[13]+1309151649&4294967295,b=P+(N<<21&4294967295|N>>>11),N=C+(P^(b|~z))+D[4]+4149444226&4294967295,C=b+(N<<6&4294967295|N>>>26),N=z+(b^(C|~P))+D[11]+3174756917&4294967295,z=C+(N<<10&4294967295|N>>>22),N=P+(C^(z|~b))+D[2]+718787259&4294967295,P=z+(N<<15&4294967295|N>>>17),N=b+(z^(P|~C))+D[9]+3951481745&4294967295,V.g[0]=V.g[0]+C&4294967295,V.g[1]=V.g[1]+(P+(N<<21&4294967295|N>>>11))&4294967295,V.g[2]=V.g[2]+P&4294967295,V.g[3]=V.g[3]+z&4294967295}s.prototype.u=function(V,C){C===void 0&&(C=V.length);for(var b=C-this.blockSize,D=this.B,P=this.h,z=0;z<C;){if(P==0)for(;z<=b;)o(this,V,z),z+=this.blockSize;if(typeof V=="string"){for(;z<C;)if(D[P++]=V.charCodeAt(z++),P==this.blockSize){o(this,D),P=0;break}}else for(;z<C;)if(D[P++]=V[z++],P==this.blockSize){o(this,D),P=0;break}}this.h=P,this.o+=C},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var C=1;C<V.length-8;++C)V[C]=0;var b=8*this.o;for(C=V.length-8;C<V.length;++C)V[C]=b&255,b/=256;for(this.u(V),V=Array(16),C=b=0;4>C;++C)for(var D=0;32>D;D+=8)V[b++]=this.g[C]>>>D&255;return V};function u(V,C){var b=m;return Object.prototype.hasOwnProperty.call(b,V)?b[V]:b[V]=C(V)}function f(V,C){this.h=C;for(var b=[],D=!0,P=V.length-1;0<=P;P--){var z=V[P]|0;D&&z==C||(b[P]=z,D=!1)}this.g=b}var m={};function p(V){return-128<=V&&128>V?u(V,function(C){return new f([C|0],0>C?-1:0)}):new f([V|0],0>V?-1:0)}function g(V){if(isNaN(V)||!isFinite(V))return S;if(0>V)return F(g(-V));for(var C=[],b=1,D=0;V>=b;D++)C[D]=V/b|0,b*=4294967296;return new f(C,0)}function E(V,C){if(V.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(V.charAt(0)=="-")return F(E(V.substring(1),C));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=g(Math.pow(C,8)),D=S,P=0;P<V.length;P+=8){var z=Math.min(8,V.length-P),N=parseInt(V.substring(P,P+z),C);8>z?(z=g(Math.pow(C,z)),D=D.j(z).add(g(N))):(D=D.j(b),D=D.add(g(N)))}return D}var S=p(0),R=p(1),O=p(16777216);r=f.prototype,r.m=function(){if(K(this))return-F(this).m();for(var V=0,C=1,b=0;b<this.g.length;b++){var D=this.i(b);V+=(0<=D?D:4294967296+D)*C,C*=4294967296}return V},r.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(L(this))return"0";if(K(this))return"-"+F(this).toString(V);for(var C=g(Math.pow(V,6)),b=this,D="";;){var P=ge(b,C).g;b=Y(b,P.j(C));var z=((0<b.g.length?b.g[0]:b.h)>>>0).toString(V);if(b=P,L(b))return z+D;for(;6>z.length;)z="0"+z;D=z+D}},r.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function L(V){if(V.h!=0)return!1;for(var C=0;C<V.g.length;C++)if(V.g[C]!=0)return!1;return!0}function K(V){return V.h==-1}r.l=function(V){return V=Y(this,V),K(V)?-1:L(V)?0:1};function F(V){for(var C=V.g.length,b=[],D=0;D<C;D++)b[D]=~V.g[D];return new f(b,~V.h).add(R)}r.abs=function(){return K(this)?F(this):this},r.add=function(V){for(var C=Math.max(this.g.length,V.g.length),b=[],D=0,P=0;P<=C;P++){var z=D+(this.i(P)&65535)+(V.i(P)&65535),N=(z>>>16)+(this.i(P)>>>16)+(V.i(P)>>>16);D=N>>>16,z&=65535,N&=65535,b[P]=N<<16|z}return new f(b,b[b.length-1]&-2147483648?-1:0)};function Y(V,C){return V.add(F(C))}r.j=function(V){if(L(this)||L(V))return S;if(K(this))return K(V)?F(this).j(F(V)):F(F(this).j(V));if(K(V))return F(this.j(F(V)));if(0>this.l(O)&&0>V.l(O))return g(this.m()*V.m());for(var C=this.g.length+V.g.length,b=[],D=0;D<2*C;D++)b[D]=0;for(D=0;D<this.g.length;D++)for(var P=0;P<V.g.length;P++){var z=this.i(D)>>>16,N=this.i(D)&65535,vt=V.i(P)>>>16,ft=V.i(P)&65535;b[2*D+2*P]+=N*ft,ne(b,2*D+2*P),b[2*D+2*P+1]+=z*ft,ne(b,2*D+2*P+1),b[2*D+2*P+1]+=N*vt,ne(b,2*D+2*P+1),b[2*D+2*P+2]+=z*vt,ne(b,2*D+2*P+2)}for(D=0;D<C;D++)b[D]=b[2*D+1]<<16|b[2*D];for(D=C;D<2*C;D++)b[D]=0;return new f(b,0)};function ne(V,C){for(;(V[C]&65535)!=V[C];)V[C+1]+=V[C]>>>16,V[C]&=65535,C++}function ee(V,C){this.g=V,this.h=C}function ge(V,C){if(L(C))throw Error("division by zero");if(L(V))return new ee(S,S);if(K(V))return C=ge(F(V),C),new ee(F(C.g),F(C.h));if(K(C))return C=ge(V,F(C)),new ee(F(C.g),C.h);if(30<V.g.length){if(K(V)||K(C))throw Error("slowDivide_ only works with positive integers.");for(var b=R,D=C;0>=D.l(V);)b=ce(b),D=ce(D);var P=we(b,1),z=we(D,1);for(D=we(D,2),b=we(b,2);!L(D);){var N=z.add(D);0>=N.l(V)&&(P=P.add(b),z=N),D=we(D,1),b=we(b,1)}return C=Y(V,P.j(C)),new ee(P,C)}for(P=S;0<=V.l(C);){for(b=Math.max(1,Math.floor(V.m()/C.m())),D=Math.ceil(Math.log(b)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),z=g(b),N=z.j(C);K(N)||0<N.l(V);)b-=D,z=g(b),N=z.j(C);L(z)&&(z=R),P=P.add(z),V=Y(V,N)}return new ee(P,V)}r.A=function(V){return ge(this,V).h},r.and=function(V){for(var C=Math.max(this.g.length,V.g.length),b=[],D=0;D<C;D++)b[D]=this.i(D)&V.i(D);return new f(b,this.h&V.h)},r.or=function(V){for(var C=Math.max(this.g.length,V.g.length),b=[],D=0;D<C;D++)b[D]=this.i(D)|V.i(D);return new f(b,this.h|V.h)},r.xor=function(V){for(var C=Math.max(this.g.length,V.g.length),b=[],D=0;D<C;D++)b[D]=this.i(D)^V.i(D);return new f(b,this.h^V.h)};function ce(V){for(var C=V.g.length+1,b=[],D=0;D<C;D++)b[D]=V.i(D)<<1|V.i(D-1)>>>31;return new f(b,V.h)}function we(V,C){var b=C>>5;C%=32;for(var D=V.g.length-b,P=[],z=0;z<D;z++)P[z]=0<C?V.i(z+b)>>>C|V.i(z+b+1)<<32-C:V.i(z+b);return new f(P,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,JT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,ns=f}).apply(typeof qv<"u"?qv:typeof self<"u"?self:typeof window<"u"?window:{});var Uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var e0,Ll,t0,Yc,wm,n0,i0,r0;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uc=="object"&&Uc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var j=c[A];if(!(j in _))break e;_=_[j]}c=c[c.length-1],A=_[c],y=y(A),y!=A&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,A=!1,j={next:function(){if(!A&&_<c.length){var G=_++;return{value:y(G,c[G]),done:!1}}return A=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function S(c,y,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,A),c.apply(y,j)}}return function(){return c.apply(y,arguments)}}function R(c,y,_){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,R.apply(null,arguments)}function O(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function L(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,j,G){for(var ie=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)ie[Pe-2]=arguments[Pe];return y.prototype[j].apply(A,ie)}}function K(c){const y=c.length;if(0<y){const _=Array(y);for(let A=0;A<y;A++)_[A]=c[A];return _}return[]}function F(c,y){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const j=c.length||0,G=A.length||0;c.length=j+G;for(let ie=0;ie<G;ie++)c[j+ie]=A[ie]}else c.push(A)}}class Y{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ne(c){return/^[\s\xa0]*$/.test(c)}function ee(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ge(c){return ge[" "](c),c}ge[" "]=function(){};var ce=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function we(c,y,_){for(const A in c)y.call(_,c[A],A,c)}function V(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function C(c){const y={};for(const _ in c)y[_]=c[_];return y}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,y){let _,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(_ in A)c[_]=A[_];for(let G=0;G<b.length;G++)_=b[G],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function P(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function z(c){m.setTimeout(()=>{throw c},0)}function N(){var c=He;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class vt{constructor(){this.h=this.g=null}add(y,_){const A=ft.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ft=new Y(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,me=!1,He=new vt,x=()=>{const c=m.Promise.resolve(void 0);ve=()=>{c.then(te)}};var te=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(_){z(_)}var y=ft;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}me=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Ce(c,y){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ce){e:{try{ge(y.nodeName);var j=!0;break e}catch{}j=!1}j||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}L(Ce,se);var be={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var dt="closure_listenable_"+(1e6*Math.random()|0),je=0;function rt(c,y,_,A,j){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=j,this.key=++je,this.da=this.fa=!1}function Ke(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Jt(c){this.src=c,this.g={},this.h=0}Jt.prototype.add=function(c,y,_,A,j){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var ie=Tn(c,y,A,j);return-1<ie?(y=c[ie],_||(y.fa=!1)):(y=new rt(y,this.src,G,!!A,j),y.fa=_,c.push(y)),y};function wi(c,y){var _=y.type;if(_ in c.g){var A=c.g[_],j=Array.prototype.indexOf.call(A,y,void 0),G;(G=0<=j)&&Array.prototype.splice.call(A,j,1),G&&(Ke(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Tn(c,y,_,A){for(var j=0;j<c.length;++j){var G=c[j];if(!G.da&&G.listener==y&&G.capture==!!_&&G.ha==A)return j}return-1}var cr="closure_lm_"+(1e6*Math.random()|0),hr={};function bi(c,y,_,A,j){if(Array.isArray(y)){for(var G=0;G<y.length;G++)bi(c,y[G],_,A,j);return null}return _=pu(_),c&&c[dt]?c.K(y,_,g(A)?!!A.capture:!1,j):Ro(c,y,_,!1,A,j)}function Ro(c,y,_,A,j,G){if(!y)throw Error("Invalid event type");var ie=g(j)?!!j.capture:!!j,Pe=Co(c);if(Pe||(c[cr]=Pe=new Jt(c)),_=Pe.add(y,_,A,ie,G),_.proxy)return _;if(A=sa(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)ae||(j=ie),j===void 0&&(j=!1),c.addEventListener(y.toString(),A,j);else if(c.attachEvent)c.attachEvent(oa(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function sa(){function c(_){return y.call(c.src,c.listener,_)}const y=Yh;return c}function aa(c,y,_,A,j){if(Array.isArray(y))for(var G=0;G<y.length;G++)aa(c,y[G],_,A,j);else A=g(A)?!!A.capture:!!A,_=pu(_),c&&c[dt]?(c=c.i,y=String(y).toString(),y in c.g&&(G=c.g[y],_=Tn(G,_,A,j),-1<_&&(Ke(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete c.g[y],c.h--)))):c&&(c=Co(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Tn(y,_,A,j)),(_=-1<c?y[c]:null)&&ps(_))}function ps(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[dt])wi(y.i,c);else{var _=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(_,A,c.capture):y.detachEvent?y.detachEvent(oa(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=Co(y))?(wi(_,c),_.h==0&&(_.src=null,y[cr]=null)):Ke(c)}}}function oa(c){return c in hr?hr[c]:hr[c]="on"+c}function Yh(c,y){if(c.da)c=!0;else{y=new Ce(y,this);var _=c.listener,A=c.ha||c.src;c.fa&&ps(c),c=_.call(A,y)}return c}function Co(c){return c=c[cr],c instanceof Jt?c:null}var on="__closure_events_fn_"+(1e9*Math.random()>>>0);function pu(c){return typeof c=="function"?c:(c[on]||(c[on]=function(y){return c.handleEvent(y)}),c[on])}function Et(){fe.call(this),this.i=new Jt(this),this.M=this,this.F=null}L(Et,fe),Et.prototype[dt]=!0,Et.prototype.removeEventListener=function(c,y,_,A){aa(this,c,y,_,A)};function It(c,y){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new se(y,c);else if(y instanceof se)y.target=y.target||c;else{var j=y;y=new se(A,c),D(y,j)}if(j=!0,_)for(var G=_.length-1;0<=G;G--){var ie=y.g=_[G];j=Ri(ie,A,!0,y)&&j}if(ie=y.g=c,j=Ri(ie,A,!0,y)&&j,j=Ri(ie,A,!1,y)&&j,_)for(G=0;G<_.length;G++)ie=y.g=_[G],j=Ri(ie,A,!1,y)&&j}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],A=0;A<_.length;A++)Ke(_[A]);delete c.g[y],c.h--}}this.F=null},Et.prototype.K=function(c,y,_,A){return this.i.add(String(c),y,!1,_,A)},Et.prototype.L=function(c,y,_,A){return this.i.add(String(c),y,!0,_,A)};function Ri(c,y,_,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,G=0;G<y.length;++G){var ie=y[G];if(ie&&!ie.da&&ie.capture==_){var Pe=ie.listener,St=ie.ha||ie.src;ie.fa&&wi(c.i,ie),j=Pe.call(St,A)!==!1&&j}}return j&&!A.defaultPrevented}function gu(c,y,_){if(typeof c=="function")_&&(c=R(c,_));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Io(c){c.g=gu(()=>{c.g=null,c.i&&(c.i=!1,Io(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Xh extends fe{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Io(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gs(c){fe.call(this),this.h=c,this.g={}}L(gs,fe);var fr=[];function Gt(c){we(c.g,function(y,_){this.g.hasOwnProperty(_)&&ps(y)},c),c.g={}}gs.prototype.N=function(){gs.aa.N.call(this),Gt(this)},gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Do=m.JSON.stringify,Jn=m.JSON.parse,en=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function No(){}No.prototype.h=null;function yu(c){return c.h||(c.h=c.i())}function _u(){}var ei={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function dr(){se.call(this,"d")}L(dr,se);function zn(){se.call(this,"c")}L(zn,se);var Sn={},mr=null;function la(){return mr=mr||new Et}Sn.La="serverreachability";function Oo(c){se.call(this,Sn.La,c)}L(Oo,se);function pr(c){const y=la();It(y,new Oo(y))}Sn.STAT_EVENT="statevent";function ua(c,y){se.call(this,Sn.STAT_EVENT,c),this.stat=y}L(ua,se);function ut(c){const y=la();It(y,new ua(y,c))}Sn.Ma="timingevent";function vu(c,y){se.call(this,Sn.Ma,c),this.size=y}L(vu,se);function gr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function yr(){this.g=!0}yr.prototype.xa=function(){this.g=!1};function Eu(c,y,_,A,j,G){c.info(function(){if(c.g)if(G)for(var ie="",Pe=G.split("&"),St=0;St<Pe.length;St++){var ke=Pe[St].split("=");if(1<ke.length){var Ot=ke[0];ke=ke[1];var At=Ot.split("_");ie=2<=At.length&&At[1]=="type"?ie+(Ot+"="+ke+"&"):ie+(Ot+"=redacted&")}}else ie=null;else ie=G;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+y+`
`+_+`
`+ie})}function Tu(c,y,_,A,j,G,ie){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+y+`
`+_+`
`+G+" "+ie})}function _r(c,y,_,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Dt(c,_)+(A?" "+A:"")})}function ti(c,y){c.info(function(){return"TIMEOUT: "+y})}yr.prototype.info=function(){};function Dt(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var j=A[1];if(Array.isArray(j)&&!(1>j.length)){var G=j[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ie=1;ie<j.length;ie++)j[ie]=""}}}}return Do(_)}catch{return y}}var Tt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ci={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ys;function ca(){}L(ca,No),ca.prototype.g=function(){return new XMLHttpRequest},ca.prototype.i=function(){return{}},ys=new ca;function ni(c,y,_,A){this.j=c,this.i=y,this.l=_,this.R=A||1,this.U=new gs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xo}function xo(){this.i=null,this.g="",this.h=!1}var vr={},_s={};function Bn(c,y,_){c.L=1,c.v=Ts(st(y)),c.m=_,c.P=!0,Ii(c,null)}function Ii(c,y){c.F=Date.now(),et(c),c.A=st(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Oi(_.i,"t",A),c.C=0,_=c.j.J,c.h=new xo,c.g=Pu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Xh(R(c.Y,c,c.g),c.O)),y=c.U,_=c.g,A=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(fr[0]=j.toString()),j=fr);for(var G=0;G<j.length;G++){var ie=bi(_,j[G],A||y.handleEvent,!1,y.h||y);if(!ie)break;y.g[ie.key]=ie}y=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),pr(),Eu(c.i,c.u,c.A,c.l,c.R,c.m)}ni.prototype.ca=function(c){c=c.target;const y=this.M;y&&Cn(c)==3?y.j():this.Y(c)},ni.prototype.Y=function(c){try{if(c==this.g)e:{const At=Cn(this.g);var y=this.g.Ba();const Pi=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||Cu(this.g)))){this.J||At!=4||y==7||(y==8||0>=Pi?pr(3):pr(2)),ha(this);var _=this.g.Z();this.X=_;t:if(Er(this)){var A=Cu(this.g);c="";var j=A.length,G=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ln(this),fn(this);var ie="";break t}this.h.i=new m.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(G&&y==j-1)});A.length=0,this.h.g+=c,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=_==200,Tu(this.i,this.u,this.A,this.l,this.R,At,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,St=this.g;if((Pe=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(Pe)){var ke=Pe;break t}}ke=null}if(_=ke)_r(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dn(this,_);else{this.o=!1,this.s=3,ut(12),ln(this),fn(this);break e}}if(this.P){_=!0;let Lt;for(;!this.J&&this.C<ie.length;)if(Lt=Tr(this,ie),Lt==_s){At==4&&(this.s=4,ut(14),_=!1),_r(this.i,this.l,null,"[Incomplete Response]");break}else if(Lt==vr){this.s=4,ut(15),_r(this.i,this.l,ie,"[Invalid Chunk]"),_=!1;break}else _r(this.i,this.l,Lt,null),dn(this,Lt);if(Er(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||ie.length!=0||this.h.h||(this.s=1,ut(16),_=!1),this.o=this.o&&_,!_)_r(this.i,this.l,ie,"[Invalid Chunked Response]"),ln(this),fn(this);else if(0<ie.length&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.ba&&!Ot.M&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Is(Ot),Ot.M=!0,ut(11))}}else _r(this.i,this.l,ie,null),dn(this,ie);At==4&&ln(this),this.o&&!this.J&&(At==4?xu(this.j,this):(this.o=!1,et(this)))}else nf(this.g),_==400&&0<ie.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),ln(this),fn(this)}}}catch{}finally{}};function Er(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Tr(c,y){var _=c.C,A=y.indexOf(`
`,_);return A==-1?_s:(_=Number(y.substring(_,A)),isNaN(_)?vr:(A+=1,A+_>y.length?_s:(y=y.slice(A,A+_),c.C=A+_,y)))}ni.prototype.cancel=function(){this.J=!0,ln(this)};function et(c){c.S=Date.now()+c.I,Mo(c,c.I)}function Mo(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=gr(R(c.ba,c),y)}function ha(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ni.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ti(this.i,this.A),this.L!=2&&(pr(),ut(17)),ln(this),this.s=2,fn(this)):Mo(this,this.S-c)};function fn(c){c.j.G==0||c.J||xu(c.j,c)}function ln(c){ha(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Gt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function dn(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Sr(_.h,c))){if(!c.K&&Sr(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ta(_),va(_);else break e;Fo(_),ut(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=gr(R(_.Za,_),6e3));if(1>=Su(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Vi(_,11)}else if((c.K||_.g==c)&&Ta(_),!ne(y))for(j=_.Da.g.parse(y),y=0;y<j.length;y++){let ke=j[y];if(_.T=ke[0],ke=ke[1],_.G==2)if(ke[0]=="c"){_.K=ke[1],_.ia=ke[2];const Ot=ke[3];Ot!=null&&(_.la=Ot,_.j.info("VER="+_.la));const At=ke[4];At!=null&&(_.Aa=At,_.j.info("SVER="+_.Aa));const Pi=ke[5];Pi!=null&&typeof Pi=="number"&&0<Pi&&(A=1.5*Pi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Lt=c.g;if(Lt){const ui=Lt.g?Lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ui){var G=A.h;G.g||ui.indexOf("spdy")==-1&&ui.indexOf("quic")==-1&&ui.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Ar(G,G.h),G.h=null))}if(A.D){const Ko=Lt.g?Lt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ko&&(A.ya=Ko,ze(A.I,A.D,Ko))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var ie=c;if(A.qa=Vu(A,A.J?A.ia:null,A.W),ie.K){An(A.h,ie);var Pe=ie,St=A.L;St&&(Pe.I=St),Pe.B&&(ha(Pe),et(Pe)),A.g=ie}else Nu(A);0<_.i.length&&Ea(_)}else ke[0]!="stop"&&ke[0]!="close"||Vi(_,7);else _.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?Vi(_,7):qo(_):ke[0]!="noop"&&_.l&&_.l.ta(ke),_.v=0)}}pr(4)}catch{}}var Wh=class{constructor(c,y){this.g=c,this.map=y}};function Vo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Po(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Su(c){return c.h?1:c.g?c.g.size:0}function Sr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ar(c,y){c.g?c.g.add(y):c.h=y}function An(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Vo.prototype.cancel=function(){if(this.i=tn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function tn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return K(c.i)}function Au(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,A=0;A<_;A++)y.push(c[A]);return y}y=[],_=0;for(A in c)y[_++]=c[A];return y}function Zh(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const A in c)y[_++]=A;return y}}}function vs(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Zh(c),A=Au(c),j=A.length,G=0;G<j;G++)y.call(void 0,A[G],_&&_[G],c)}var ko=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fa(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),j=null;if(0<=A){var G=c[_].substring(0,A);j=c[_].substring(A+1)}else G=c[_];y(G,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Di(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Di){this.h=c.h,wr(this,c.j),this.o=c.o,this.g=c.g,Es(this,c.s),this.l=c.l;var y=c.i,_=new ii;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),da(this,_),this.m=c.m}else c&&(y=String(c).match(ko))?(this.h=!1,wr(this,y[1]||"",!0),this.o=br(y[2]||""),this.g=br(y[3]||"",!0),Es(this,y[4]),this.l=br(y[5]||"",!0),da(this,y[6]||"",!0),this.m=br(y[7]||"")):(this.h=!1,this.i=new ii(null,this.h))}Di.prototype.toString=function(){var c=[],y=this.j;y&&c.push(wn(y,Lo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(wn(y,Lo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(wn(_,_.charAt(0)=="/"?Uo:wu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",wn(_,tf)),c.join("")};function st(c){return new Di(c)}function wr(c,y,_){c.j=_?br(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Es(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function da(c,y,_){y instanceof ii?(c.i=y,jo(c.i,c.h)):(_||(y=wn(y,ef)),c.i=new ii(y,c.h))}function ze(c,y,_){c.i.set(y,_)}function Ts(c){return ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function br(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function wn(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Jh),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Jh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Lo=/[#\/\?@]/g,wu=/[#\?:]/g,Uo=/[#\?]/g,ef=/[#\?@]/g,tf=/#/g;function ii(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function bn(c){c.g||(c.g=new Map,c.h=0,c.i&&fa(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=ii.prototype,r.add=function(c,y){bn(this),this.i=null,c=xi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function ma(c,y){bn(c),y=xi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ni(c,y){return bn(c),y=xi(c,y),c.g.has(y)}r.forEach=function(c,y){bn(this),this.g.forEach(function(_,A){_.forEach(function(j){c.call(y,j,A,this)},this)},this)},r.na=function(){bn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let A=0;A<y.length;A++){const j=c[A];for(let G=0;G<j.length;G++)_.push(y[A])}return _},r.V=function(c){bn(this);let y=[];if(typeof c=="string")Ni(this,c)&&(y=y.concat(this.g.get(xi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return bn(this),this.i=null,c=xi(this,c),Ni(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Oi(c,y,_){ma(c,y),0<_.length&&(c.i=null,c.g.set(xi(c,y),K(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var A=y[_];const G=encodeURIComponent(String(A)),ie=this.V(A);for(A=0;A<ie.length;A++){var j=G;ie[A]!==""&&(j+="="+encodeURIComponent(String(ie[A]))),c.push(j)}}return this.i=c.join("&")};function xi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function jo(c,y){y&&!c.j&&(bn(c),c.i=null,c.g.forEach(function(_,A){var j=A.toLowerCase();A!=j&&(ma(this,A),Oi(this,j,_))},c)),c.j=y}function bu(c,y){const _=new yr;if(m.Image){const A=new Image;A.onload=O(Rn,_,"TestLoadImage: loaded",!0,y,A),A.onerror=O(Rn,_,"TestLoadImage: error",!1,y,A),A.onabort=O(Rn,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=O(Rn,_,"TestLoadImage: timeout",!1,y,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Ss(c,y){const _=new yr,A=new AbortController,j=setTimeout(()=>{A.abort(),Rn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(G=>{clearTimeout(j),G.ok?Rn(_,"TestPingServer: ok",!0,y):Rn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),Rn(_,"TestPingServer: error",!1,y)})}function Rn(c,y,_,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(_)}catch{}}function As(){this.g=new en}function ri(c,y,_){const A=_||"";try{vs(c,function(j,G){let ie=j;g(j)&&(ie=Do(j)),y.push(A+G+"="+encodeURIComponent(ie))})}catch(j){throw y.push(A+"type="+encodeURIComponent("_badmap")),j}}function Rr(c){this.l=c.Ub||null,this.j=c.eb||!1}L(Rr,No),Rr.prototype.g=function(){return new Mi(this.l,this.j)},Rr.prototype.i=function(c){return function(){return c}}({});function Mi(c,y){Et.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Mi,Et),r=Mi.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ai(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,si(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ai(this)),this.g&&(this.readyState=3,ai(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function zo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?si(this):ai(this),this.readyState==3&&zo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,si(this))},r.Qa=function(c){this.g&&(this.response=c,si(this))},r.ga=function(){this.g&&si(this)};function si(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ai(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ai(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Bo(c){let y="";return we(c,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function Nt(c,y,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=Bo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):ze(c,y,_))}function Fe(c){Et.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(Fe,Et);var pa=/^https?$/i,ws=["POST","PUT"];r=Fe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ys.g(),this.v=this.o?yu(this.o):yu(ys),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){Ru(this,G);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)_.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())_.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ws,y,void 0))||A||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ie]of _)this.g.setRequestHeader(G,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bs(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){Ru(this,G)}};function Ru(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ga(c),oi(c)}function ga(c){c.A||(c.A=!0,It(c,"complete"),It(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,It(this,"complete"),It(this,"abort"),oi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oi(this,!0)),Fe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ya(this):this.bb())},r.bb=function(){ya(this)};function ya(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Cn(c)!=4||c.Z()!=2)){if(c.u&&Cn(c)==4)gu(c.Ea,0,c);else if(It(c,"readystatechange"),Cn(c)==4){c.h=!1;try{const ie=c.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var A;if(A=ie===0){var j=String(c.D).match(ko)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),A=!pa.test(j?j.toLowerCase():"")}_=A}if(_)It(c,"complete"),It(c,"success");else{c.m=6;try{var G=2<Cn(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",ga(c)}}finally{oi(c)}}}}function oi(c,y){if(c.g){bs(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||It(c,"ready");try{_.onreadystatechange=A}catch{}}}function bs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Cn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Jn(y)}};function Cu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function nf(c){const y={};c=(c.g&&2<=Cn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(ne(c[A]))continue;var _=P(c[A]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=y[j]||[];y[j]=G,G.push(_)}V(y,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function _a(c){this.Aa=0,this.i=[],this.j=new yr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Rs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Rs("baseRetryDelayMs",5e3,c),this.cb=Rs("retryDelaySeedMs",1e4,c),this.Wa=Rs("forwardChannelMaxRetries",2,c),this.wa=Rs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Vo(c&&c.concurrentRequestLimit),this.Da=new As,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=_a.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,A){ut(0),this.W=c,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Vu(this,null,this.W),Ea(this)};function qo(c){if(Iu(c),c.G==3){var y=c.U++,_=st(c.I);if(ze(_,"SID",c.K),ze(_,"RID",y),ze(_,"TYPE","terminate"),Cs(c,_),y=new ni(c,c.j,y),y.L=2,y.v=Ts(st(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Pu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),et(y)}Mu(c)}function va(c){c.g&&(Is(c),c.g.cancel(),c.g=null)}function Iu(c){va(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ta(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ea(c){if(!Po(c.h)&&!c.s){c.s=!0;var y=c.Ga;ve||x(),me||(ve(),me=!0),He.add(y,c),c.B=0}}function rf(c,y){return Su(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=gr(R(c.Ga,c,y),Go(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new ni(this,this.j,c);let G=this.o;if(this.S&&(G?(G=C(G),D(G,this.S)):G=this.S),this.m!==null||this.O||(j.H=G,G=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Du(this,j,y),_=st(this.I),ze(_,"RID",c),ze(_,"CVER",22),this.D&&ze(_,"X-HTTP-Session-Id",this.D),Cs(this,_),G&&(this.O?y="headers="+encodeURIComponent(String(Bo(G)))+"&"+y:this.m&&Nt(_,this.m,G)),Ar(this.h,j),this.Ua&&ze(_,"TYPE","init"),this.P?(ze(_,"$req",y),ze(_,"SID","null"),j.T=!0,Bn(j,_,null)):Bn(j,_,y),this.G=2}}else this.G==3&&(c?Ho(this,c):this.i.length==0||Po(this.h)||Ho(this))};function Ho(c,y){var _;y?_=y.l:_=c.U++;const A=st(c.I);ze(A,"SID",c.K),ze(A,"RID",_),ze(A,"AID",c.T),Cs(c,A),c.m&&c.o&&Nt(A,c.m,c.o),_=new ni(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Du(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ar(c.h,_),Bn(_,A,y)}function Cs(c,y){c.H&&we(c.H,function(_,A){ze(y,A,_)}),c.l&&vs({},function(_,A){ze(y,A,_)})}function Du(c,y,_){_=Math.min(c.i.length,_);var A=c.l?R(c.l.Na,c.l,c):null;e:{var j=c.i;let G=-1;for(;;){const ie=["count="+_];G==-1?0<_?(G=j[0].g,ie.push("ofs="+G)):G=0:ie.push("ofs="+G);let Pe=!0;for(let St=0;St<_;St++){let ke=j[St].g;const Ot=j[St].map;if(ke-=G,0>ke)G=Math.max(0,j[St].g-100),Pe=!1;else try{ri(Ot,ie,"req"+ke+"_")}catch{A&&A(Ot)}}if(Pe){A=ie.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,A}function Nu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ve||x(),me||(ve(),me=!0),He.add(y,c),c.v=0}}function Fo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=gr(R(c.Fa,c),Go(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Ou(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=gr(R(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),va(this),Ou(this))};function Is(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Ou(c){c.g=new ni(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=st(c.qa);ze(y,"RID","rpc"),ze(y,"SID",c.K),ze(y,"AID",c.T),ze(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&ze(y,"TO",c.ja),ze(y,"TYPE","xmlhttp"),Cs(c,y),c.m&&c.o&&Nt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Ts(st(y)),_.m=null,_.P=!0,Ii(_,c)}r.Za=function(){this.C!=null&&(this.C=null,va(this),Fo(this),ut(19))};function Ta(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function xu(c,y){var _=null;if(c.g==y){Ta(c),Is(c),c.g=null;var A=2}else if(Sr(c.h,y))_=y.D,An(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var j=c.B;A=la(),It(A,new vu(A,_)),Ea(c)}else Nu(c);else if(j=y.s,j==3||j==0&&0<y.X||!(A==1&&rf(c,y)||A==2&&Fo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),j){case 1:Vi(c,5);break;case 4:Vi(c,10);break;case 3:Vi(c,6);break;default:Vi(c,2)}}}function Go(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Vi(c,y){if(c.j.info("Error code "+y),y==2){var _=R(c.fb,c),A=c.Xa;const j=!A;A=new Di(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||wr(A,"https"),Ts(A),j?bu(A.toString(),_):Ss(A.toString(),_)}else ut(2);c.G=0,c.l&&c.l.sa(y),Mu(c),Iu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function Mu(c){if(c.G=0,c.ka=[],c.l){const y=tn(c.h);(y.length!=0||c.i.length!=0)&&(F(c.ka,y),F(c.ka,c.i),c.h.i.length=0,K(c.i),c.i.length=0),c.l.ra()}}function Vu(c,y,_){var A=_ instanceof Di?st(_):new Di(_);if(A.g!="")y&&(A.g=y+"."+A.g),Es(A,A.s);else{var j=m.location;A=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var G=new Di(null);A&&wr(G,A),y&&(G.g=y),j&&Es(G,j),_&&(G.l=_),A=G}return _=c.D,y=c.ya,_&&y&&ze(A,_,y),ze(A,"VER",c.la),Cs(c,A),A}function Pu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Fe(new Rr({eb:_})):new Fe(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ku(){}r=ku.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Sa(){}Sa.prototype.g=function(c,y){return new nn(c,y)};function nn(c,y){Et.call(this),this.g=new _a(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ne(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ne(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new li(this)}L(nn,Et),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){qo(this.g)},nn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Do(c),c=_);y.i.push(new Wh(y.Ya++,c)),y.G==3&&Ea(y)},nn.prototype.N=function(){this.g.l=null,delete this.j,qo(this.g),delete this.g,nn.aa.N.call(this)};function Lu(c){dr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}L(Lu,dr);function Uu(){zn.call(this),this.status=1}L(Uu,zn);function li(c){this.g=c}L(li,ku),li.prototype.ua=function(){It(this.g,"a")},li.prototype.ta=function(c){It(this.g,new Lu(c))},li.prototype.sa=function(c){It(this.g,new Uu)},li.prototype.ra=function(){It(this.g,"b")},Sa.prototype.createWebChannel=Sa.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,r0=function(){return new Sa},i0=function(){return la()},n0=Sn,wm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Tt.NO_ERROR=0,Tt.TIMEOUT=8,Tt.HTTP_ERROR=6,Yc=Tt,Ci.COMPLETE="complete",t0=Ci,_u.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",Et.prototype.listen=Et.prototype.K,Ll=_u,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,e0=Fe}).apply(typeof Uc<"u"?Uc:typeof self<"u"?self:typeof window<"u"?window:{});const Hv="@firebase/firestore",Fv="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eo="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=new Ym("@firebase/firestore");function Ya(){return Js.logLevel}function oe(r,...e){if(Js.logLevel<=Oe.DEBUG){const n=e.map(op);Js.debug(`Firestore (${Eo}): ${r}`,...n)}}function or(r,...e){if(Js.logLevel<=Oe.ERROR){const n=e.map(op);Js.error(`Firestore (${Eo}): ${r}`,...n)}}function so(r,...e){if(Js.logLevel<=Oe.WARN){const n=e.map(op);Js.warn(`Firestore (${Eo}): ${r}`,...n)}}function op(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(r="Unexpected state"){const e=`FIRESTORE (${Eo}) INTERNAL ASSERTION FAILED: `+r;throw or(e),new Error(e)}function Ge(r,e){r||Ee()}function Ae(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends ur{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class k1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yt.UNAUTHENTICATED))}shutdown(){}}class L1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class U1{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new nr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new nr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new nr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string"),new s0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new Yt(e)}}class j1{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class z1{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new j1(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Gv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class B1{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Un(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0);const s=u=>{u.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,oe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Gv(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string"),this.R=n.token,new Gv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=q1(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function ao(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv=-62135596800,Qv=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Qv);return new Rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Kv)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qv}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Kv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new Rt(0,0))}static max(){return new Te(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="__name__";class pi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(),s===void 0?s=e.length-n:s>e.length-n&&Ee(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return pi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof pi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=pi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Math.sign(e.length-n.length)}static compareSegments(e,n){const s=pi.isNumericId(e),o=pi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?pi.extractNumericId(e).compare(pi.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ns.fromString(e.substring(4,e.length-2))}}class Ze extends pi{construct(e,n,s){return new Ze(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new Ze(n)}static emptyPath(){return new Ze([])}}const H1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends pi{construct(e,n,s){return new Ht(e,n,s)}static isValidIdentifier(e){return H1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$v}static keyField(){return new Ht([$v])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new le(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new le(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(Ze.fromString(e))}static fromName(e){return new pe(Ze.fromString(e).popFirst(5))}static empty(){return new pe(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new Ze(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=-1;function F1(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(s===1e9?new Rt(n+1,0):new Rt(n,s));return new rs(o,pe.empty(),e)}function G1(r){return new rs(r.readTime,r.key,Xl)}class rs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new rs(Te.min(),pe.empty(),Xl)}static max(){return new rs(Te.max(),pe.empty(),Xl)}}function K1(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==Q1)throw r;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,s)=>{n(e)})}static reject(e){return new W((n,s)=>{s(e)})}static waitFor(e){return new W((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=W.resolve(!1);for(const s of e)n=n.next(o=>o?W.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new W((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new W((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function Y1(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function So(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Dh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp=-1;function Nh(r){return r==null}function uh(r){return r===0&&1/r==-1/0}function X1(r){return typeof r=="number"&&Number.isInteger(r)&&!uh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="";function W1(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Yv(e)),e=Z1(r.get(n),e);return Yv(e)}function Z1(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case o0:n+="";break;default:n+=u}}return n}function Yv(r){return r+o0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ds(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function l0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n){this.comparator=e,this.root=n||qt.EMPTY}insert(e,n){return new it(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jc(this.root,e,this.comparator,!0)}}class jc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??qt.RED,this.left=o??qt.EMPTY,this.right=u??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,n,s,o,u){return this}insert(e,n,s){return new qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Wv(this.data.getIterator())}getIteratorFrom(e){return new Wv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ct(this.comparator);return n.data=e,n}}class Wv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new vn([])}unionWith(e){let n=new Ct(Ht.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ao(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new u0("Invalid base64 string: "+u):u}}(e);return new Ft(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const J1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(r){if(Ge(!!r),typeof r=="string"){let e=0;const n=J1.exec(r);if(Ge(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ht(r.seconds),nanos:ht(r.nanos)}}function ht(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function as(r){return typeof r=="string"?Ft.fromBase64String(r):Ft.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="server_timestamp",h0="__type__",f0="__previous_value__",d0="__local_write_time__";function up(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[h0])===null||n===void 0?void 0:n.stringValue)===c0}function Oh(r){const e=r.mapValue.fields[f0];return up(e)?Oh(e):e}function Wl(r){const e=ss(r.mapValue.fields[d0].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n,s,o,u,f,m,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const ch="(default)";class Zl{constructor(e,n){this.projectId=e,this.database=n||ch}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===ch}isEqual(e){return e instanceof Zl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="__type__",tD="__max__",zc={mapValue:{}},p0="__vector__",hh="value";function os(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?up(r)?4:iD(r)?9007199254740991:nD(r)?10:11:Ee()}function Ti(r,e){if(r===e)return!0;const n=os(r);if(n!==os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Wl(r).isEqual(Wl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ss(o.timestampValue),m=ss(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return as(o.bytesValue).isEqual(as(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return ht(o.geoPointValue.latitude)===ht(u.geoPointValue.latitude)&&ht(o.geoPointValue.longitude)===ht(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ht(o.integerValue)===ht(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ht(o.doubleValue),m=ht(u.doubleValue);return f===m?uh(f)===uh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return ao(r.arrayValue.values||[],e.arrayValue.values||[],Ti);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Xv(f)!==Xv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ti(f[p],m[p])))return!1;return!0}(r,e);default:return Ee()}}function Jl(r,e){return(r.values||[]).find(n=>Ti(n,e))!==void 0}function oo(r,e){if(r===e)return 0;const n=os(r),s=os(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=ht(u.integerValue||u.doubleValue),p=ht(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return Zv(r.timestampValue,e.timestampValue);case 4:return Zv(Wl(r),Wl(e));case 5:return Ve(r.stringValue,e.stringValue);case 6:return function(u,f){const m=as(u),p=as(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ve(m[g],p[g]);if(E!==0)return E}return Ve(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ve(ht(u.latitude),ht(f.latitude));return m!==0?m:Ve(ht(u.longitude),ht(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Jv(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,E;const S=u.fields||{},R=f.fields||{},O=(m=S[hh])===null||m===void 0?void 0:m.arrayValue,L=(p=R[hh])===null||p===void 0?void 0:p.arrayValue,K=Ve(((g=O==null?void 0:O.values)===null||g===void 0?void 0:g.length)||0,((E=L==null?void 0:L.values)===null||E===void 0?void 0:E.length)||0);return K!==0?K:Jv(O,L)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===zc.mapValue&&f===zc.mapValue)return 0;if(u===zc.mapValue)return 1;if(f===zc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const R=Ve(p[S],E[S]);if(R!==0)return R;const O=oo(m[p[S]],g[E[S]]);if(O!==0)return O}return Ve(p.length,E.length)}(r.mapValue,e.mapValue);default:throw Ee()}}function Zv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=ss(r),s=ss(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function Jv(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=oo(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function lo(r){return bm(r)}function bm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=ss(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return as(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return pe.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=bm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${bm(n.fields[f])}`;return o+"}"}(r.mapValue):Ee()}function Xc(r){switch(os(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Oh(r);return e?16+Xc(e):16;case 5:return 2*r.stringValue.length;case 6:return as(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Xc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return ds(s.fields,(u,f)=>{o+=u.length+Xc(f)}),o}(r.mapValue);default:throw Ee()}}function eE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Rm(r){return!!r&&"integerValue"in r}function cp(r){return!!r&&"arrayValue"in r}function tE(r){return!!r&&"nullValue"in r}function nE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Wc(r){return!!r&&"mapValue"in r}function nD(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[m0])===null||n===void 0?void 0:n.stringValue)===p0}function ql(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ds(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=ql(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ql(r.arrayValue.values[n]);return e}return Object.assign({},r)}function iD(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===tD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Wc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ql(n)}setAll(e){let n=Ht.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=ql(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Wc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ti(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Wc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ds(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new hn(ql(this.value))}}function g0(r){const e=[];return ds(r.fields,(n,s)=>{const o=new Ht([n]);if(Wc(s)){const u=g0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Xt(e,0,Te.min(),Te.min(),Te.min(),hn.empty(),0)}static newFoundDocument(e,n,s,o){return new Xt(e,1,n,Te.min(),s,o,0)}static newNoDocument(e,n){return new Xt(e,2,n,Te.min(),Te.min(),hn.empty(),0)}static newUnknownDocument(e,n){return new Xt(e,3,n,Te.min(),Te.min(),hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n){this.position=e,this.inclusive=n}}function iE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(f.referenceValue),n.key):s=oo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function rE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ti(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n="asc"){this.field=e,this.dir=n}}function rD(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{}class _t extends y0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new aD(e,n,s):n==="array-contains"?new uD(e,s):n==="in"?new cD(e,s):n==="not-in"?new hD(e,s):n==="array-contains-any"?new fD(e,s):new _t(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new oD(e,s):new lD(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(oo(n,this.value)):n!==null&&os(this.value)===os(n)&&this.matchesComparison(oo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends y0{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Xn(e,n)}matches(e){return _0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function _0(r){return r.op==="and"}function v0(r){return sD(r)&&_0(r)}function sD(r){for(const e of r.filters)if(e instanceof Xn)return!1;return!0}function Cm(r){if(r instanceof _t)return r.field.canonicalString()+r.op.toString()+lo(r.value);if(v0(r))return r.filters.map(e=>Cm(e)).join(",");{const e=r.filters.map(n=>Cm(n)).join(",");return`${r.op}(${e})`}}function E0(r,e){return r instanceof _t?function(s,o){return o instanceof _t&&s.op===o.op&&s.field.isEqual(o.field)&&Ti(s.value,o.value)}(r,e):r instanceof Xn?function(s,o){return o instanceof Xn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&E0(f,o.filters[m]),!0):!1}(r,e):void Ee()}function T0(r){return r instanceof _t?function(n){return`${n.field.canonicalString()} ${n.op} ${lo(n.value)}`}(r):r instanceof Xn?function(n){return n.op.toString()+" {"+n.getFilters().map(T0).join(" ,")+"}"}(r):"Filter"}class aD extends _t{constructor(e,n,s){super(e,n,s),this.key=pe.fromName(s.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class oD extends _t{constructor(e,n){super(e,"in",n),this.keys=S0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class lD extends _t{constructor(e,n){super(e,"not-in",n),this.keys=S0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function S0(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>pe.fromName(s.referenceValue))}class uD extends _t{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cp(n)&&Jl(n.arrayValue,this.value)}}class cD extends _t{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Jl(this.value.arrayValue,n)}}class hD extends _t{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Jl(this.value.arrayValue,n)}}class fD extends _t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Jl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function sE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new dD(r,e,n,s,o,u,f)}function hp(r){const e=Ae(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Cm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Nh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>lo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>lo(s)).join(",")),e.le=n}return e.le}function fp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!rD(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!E0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!rE(r.startAt,e.startAt)&&rE(r.endAt,e.endAt)}function Im(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function mD(r,e,n,s,o,u,f,m){return new uu(r,e,n,s,o,u,f,m)}function dp(r){return new uu(r)}function aE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function A0(r){return r.collectionGroup!==null}function Hl(r){const e=Ae(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ct(Ht.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new dh(u,s))}),n.has(Ht.keyField().canonicalString())||e.he.push(new dh(Ht.keyField(),s))}return e.he}function vi(r){const e=Ae(r);return e.Pe||(e.Pe=pD(e,Hl(r))),e.Pe}function pD(r,e){if(r.limitType==="F")return sE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new dh(o.field,u)});const n=r.endAt?new fh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new fh(r.startAt.position,r.startAt.inclusive):null;return sE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Dm(r,e){const n=r.filters.concat([e]);return new uu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Nm(r,e,n){return new uu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function xh(r,e){return fp(vi(r),vi(e))&&r.limitType===e.limitType}function w0(r){return`${hp(vi(r))}|lt:${r.limitType}`}function Xa(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>T0(o)).join(", ")}]`),Nh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>lo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>lo(o)).join(",")),`Target(${s})`}(vi(r))}; limitType=${r.limitType})`}function Mh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Hl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=iE(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,Hl(s),o)||s.endAt&&!function(f,m,p){const g=iE(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,Hl(s),o))}(r,e)}function gD(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function b0(r){return(e,n)=>{let s=!1;for(const o of Hl(r)){const u=yD(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function yD(r,e,n){const s=r.field.isKeyField()?pe.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?oo(p,g):Ee()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ds(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return l0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=new it(pe.comparator);function lr(){return _D}const R0=new it(pe.comparator);function Ul(...r){let e=R0;for(const n of r)e=e.insert(n.key,n);return e}function C0(r){let e=R0;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function $s(){return Fl()}function I0(){return Fl()}function Fl(){return new na(r=>r.toString(),(r,e)=>r.isEqual(e))}const vD=new it(pe.comparator),ED=new Ct(pe.comparator);function xe(...r){let e=ED;for(const n of r)e=e.add(n);return e}const TD=new Ct(Ve);function SD(){return TD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uh(e)?"-0":e}}function D0(r){return{integerValue:""+r}}function AD(r,e){return X1(e)?D0(e):mp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(){this._=void 0}}function wD(r,e,n){return r instanceof mh?function(o,u){const f={fields:{[h0]:{stringValue:c0},[d0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&up(u)&&(u=Oh(u)),u&&(f.fields[f0]=u),{mapValue:f}}(n,e):r instanceof uo?O0(r,e):r instanceof co?x0(r,e):function(o,u){const f=N0(o,u),m=oE(f)+oE(o.Ie);return Rm(f)&&Rm(o.Ie)?D0(m):mp(o.serializer,m)}(r,e)}function bD(r,e,n){return r instanceof uo?O0(r,e):r instanceof co?x0(r,e):n}function N0(r,e){return r instanceof ph?function(s){return Rm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class mh extends Vh{}class uo extends Vh{constructor(e){super(),this.elements=e}}function O0(r,e){const n=M0(e);for(const s of r.elements)n.some(o=>Ti(o,s))||n.push(s);return{arrayValue:{values:n}}}class co extends Vh{constructor(e){super(),this.elements=e}}function x0(r,e){let n=M0(e);for(const s of r.elements)n=n.filter(o=>!Ti(o,s));return{arrayValue:{values:n}}}class ph extends Vh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function oE(r){return ht(r.integerValue||r.doubleValue)}function M0(r){return cp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,n){this.field=e,this.transform=n}}function RD(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof uo&&o instanceof uo||s instanceof co&&o instanceof co?ao(s.elements,o.elements,Ti):s instanceof ph&&o instanceof ph?Ti(s.Ie,o.Ie):s instanceof mh&&o instanceof mh}(r.transform,e.transform)}class CD{constructor(e,n){this.version=e,this.transformResults=n}}class Qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qn}static exists(e){return new Qn(void 0,e)}static updateTime(e){return new Qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ph{}function P0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new pp(r.key,Qn.none()):new cu(r.key,r.data,Qn.none());{const n=r.data,s=hn.empty();let o=new Ct(Ht.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ms(r.key,s,new vn(o.toArray()),Qn.none())}}function ID(r,e,n){r instanceof cu?function(o,u,f){const m=o.value.clone(),p=uE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof ms?function(o,u,f){if(!Zc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=uE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(k0(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Gl(r,e,n,s){return r instanceof cu?function(u,f,m,p){if(!Zc(u.precondition,f))return m;const g=u.value.clone(),E=cE(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,n,s):r instanceof ms?function(u,f,m,p){if(!Zc(u.precondition,f))return m;const g=cE(u.fieldTransforms,p,f),E=f.data;return E.setAll(k0(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(r,e,n,s):function(u,f,m){return Zc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function DD(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=N0(s.transform,o||null);u!=null&&(n===null&&(n=hn.empty()),n.set(s.field,u))}return n||null}function lE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ao(s,o,(u,f)=>RD(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class cu extends Ph{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ms extends Ph{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function k0(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function uE(r,e,n){const s=new Map;Ge(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,bD(f,m,n[o]))}return s}function cE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,wD(u,f,e))}return s}class pp extends Ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ND extends Ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&ID(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Gl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Gl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=I0();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=P0(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Te.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xe())}isEqual(e){return this.batchId===e.batchId&&ao(this.mutations,e.mutations,(n,s)=>lE(n,s))&&ao(this.baseMutations,e.baseMutations,(n,s)=>lE(n,s))}}class gp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ge(e.mutations.length===s.length);let o=function(){return vD}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new gp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,Ue;function VD(r){switch(r){case Z.OK:return Ee();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ee()}}function L0(r){if(r===void 0)return or("GRPC error has no .code"),Z.UNKNOWN;switch(r){case yt.OK:return Z.OK;case yt.CANCELLED:return Z.CANCELLED;case yt.UNKNOWN:return Z.UNKNOWN;case yt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case yt.INTERNAL:return Z.INTERNAL;case yt.UNAVAILABLE:return Z.UNAVAILABLE;case yt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case yt.NOT_FOUND:return Z.NOT_FOUND;case yt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case yt.ABORTED:return Z.ABORTED;case yt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case yt.DATA_LOSS:return Z.DATA_LOSS;default:return Ee()}}(Ue=yt||(yt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=new ns([4294967295,4294967295],0);function hE(r){const e=PD().encode(r),n=new JT;return n.update(e),new Uint8Array(n.digest())}function fE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ns([n,s],0),new ns([o,u],0)]}class yp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new jl(`Invalid padding: ${n}`);if(s<0)throw new jl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new jl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new jl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=ns.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(ns.fromNumber(s)));return o.compare(kD)===1&&(o=new ns([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=hE(e),[s,o]=fE(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new yp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=hE(e),[s,o]=fE(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,hu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new kh(Te.min(),o,new it(Ve),lr(),xe())}}class hu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new hu(s,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class U0{constructor(e,n){this.targetId=e,this.ge=n}}class j0{constructor(e,n,s=Ft.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class dE{constructor(){this.pe=0,this.ye=mE(),this.we=Ft.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=xe(),n=xe(),s=xe();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee()}}),new hu(this.we,this.be,e,n,s)}Me(){this.Se=!1,this.ye=mE()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ge(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class LD{constructor(e){this.ke=e,this.qe=new Map,this.Qe=lr(),this.$e=Bc(),this.Ke=Bc(),this.Ue=new it(Ve)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:Ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Im(u))if(s===0){const f=new pe(u.path);this.ze(n,f,Xt.newNoDocument(f,Te.min()))}else Ge(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,g)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=as(s).toUint8Array()}catch(p){if(p instanceof u0)return so("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new yp(f,o,u)}catch(p){return so(p instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&Im(m.target)){const p=new pe(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,Xt.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=xe();this.Ke.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new kh(e,n,this.Ue,this.Qe,s);return this.Qe=lr(),this.$e=Bc(),this.Ke=Bc(),this.Ue=new it(Ve),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new dE,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Ct(Ve),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Ct(Ve),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new dE),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Bc(){return new it(pe.comparator)}function mE(){return new it(pe.comparator)}const UD={asc:"ASCENDING",desc:"DESCENDING"},jD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zD={and:"AND",or:"OR"};class BD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Om(r,e){return r.useProto3Json||Nh(e)?e:{value:e}}function gh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function z0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function qD(r,e){return gh(r,e.toTimestamp())}function Ei(r){return Ge(!!r),Te.fromTimestamp(function(n){const s=ss(n);return new Rt(s.seconds,s.nanos)}(r))}function _p(r,e){return xm(r,e).canonicalString()}function xm(r,e){const n=function(o){return new Ze(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function B0(r){const e=Ze.fromString(r);return Ge(K0(e)),e}function Mm(r,e){return _p(r.databaseId,e.path)}function um(r,e){const n=B0(e);if(n.get(1)!==r.databaseId.projectId)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pe(H0(n))}function q0(r,e){return _p(r.databaseId,e)}function HD(r){const e=B0(r);return e.length===4?Ze.emptyPath():H0(e)}function Vm(r){return new Ze(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function H0(r){return Ge(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function pE(r,e,n){return{name:Mm(r,e),fields:n.value.mapValue.fields}}function FD(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Ge(E===void 0||typeof E=="string"),Ft.fromBase64String(E||"")):(Ge(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Ft.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const E=g.code===void 0?Z.UNKNOWN:L0(g.code);return new le(E,g.message||"")}(f);n=new j0(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=um(r,s.document.name),u=Ei(s.document.updateTime),f=s.document.createTime?Ei(s.document.createTime):Te.min(),m=new hn({mapValue:{fields:s.document.fields}}),p=Xt.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new Jc(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=um(r,s.document),u=s.readTime?Ei(s.readTime):Te.min(),f=Xt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Jc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=um(r,s.document),u=s.removedTargetIds||[];n=new Jc([],u,o,null)}else{if(!("filter"in e))return Ee();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new MD(o,u),m=s.targetId;n=new U0(m,f)}}return n}function GD(r,e){let n;if(e instanceof cu)n={update:pE(r,e.key,e.value)};else if(e instanceof pp)n={delete:Mm(r,e.key)};else if(e instanceof ms)n={update:pE(r,e.key,e.data),updateMask:eN(e.fieldMask)};else{if(!(e instanceof ND))return Ee();n={verify:Mm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof mh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof uo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof co)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ph)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Ee()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:qD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee()}(r,e.precondition)),n}function KD(r,e){return r&&r.length>0?(Ge(e!==void 0),r.map(n=>function(o,u){let f=o.updateTime?Ei(o.updateTime):Ei(u);return f.isEqual(Te.min())&&(f=Ei(u)),new CD(f,o.transformResults||[])}(n,e))):[]}function QD(r,e){return{documents:[q0(r,e.path)]}}function $D(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=q0(r,o);const u=function(g){if(g.length!==0)return G0(Xn.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(R){return{field:Wa(R.field),direction:WD(R.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Om(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:n,parent:o}}function YD(r){let e=HD(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ge(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(S){const R=F0(S);return R instanceof Xn&&v0(R)?R.getFilters():[R]}(n.where));let f=[];n.orderBy&&(f=function(S){return S.map(R=>function(L){return new dh(Za(L.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(R))}(n.orderBy));let m=null;n.limit&&(m=function(S){let R;return R=typeof S=="object"?S.value:S,Nh(R)?null:R}(n.limit));let p=null;n.startAt&&(p=function(S){const R=!!S.before,O=S.values||[];return new fh(O,R)}(n.startAt));let g=null;return n.endAt&&(g=function(S){const R=!S.before,O=S.values||[];return new fh(O,R)}(n.endAt)),mD(e,o,f,u,m,"F",p,g)}function XD(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function F0(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Za(n.unaryFilter.field);return _t.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Za(n.unaryFilter.field);return _t.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Za(n.unaryFilter.field);return _t.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Za(n.unaryFilter.field);return _t.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(r):r.fieldFilter!==void 0?function(n){return _t.create(Za(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Xn.create(n.compositeFilter.filters.map(s=>F0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee()}}(n.compositeFilter.op))}(r):Ee()}function WD(r){return UD[r]}function ZD(r){return jD[r]}function JD(r){return zD[r]}function Wa(r){return{fieldPath:r.canonicalString()}}function Za(r){return Ht.fromServerFormat(r.fieldPath)}function G0(r){return r instanceof _t?function(n){if(n.op==="=="){if(nE(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NAN"}};if(tE(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nE(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NAN"}};if(tE(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(n.field),op:ZD(n.op),value:n.value}}}(r):r instanceof Xn?function(n){const s=n.getFilters().map(o=>G0(o));return s.length===1?s[0]:{compositeFilter:{op:JD(n.op),filters:s}}}(r):Ee()}function eN(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function K0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,n,s,o,u=Te.min(),f=Te.min(),m=Ft.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e){this.Tt=e}}function nN(r){const e=YD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Nm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(){this.Tn=new rN}addToCollectionParentIndex(e,n){return this.Tn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(rs.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(rs.min())}updateCollectionGroup(e,n,s){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class rN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ct(Ze.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ct(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Q0=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(Q0,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new ho(0)}static Un(){return new ho(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="LruGarbageCollector",sN=1048576;function _E([r,e],[n,s]){const o=Ve(r,n);return o===0?Ve(e,s):o}class aN{constructor(e){this.Hn=e,this.buffer=new Ct(_E),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();_E(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class oN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){oe(yE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){So(n)?oe(yE,"Ignoring IndexedDB error during garbage collection: ",n):await To(n)}await this.er(3e5)})}}class lN{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Dh.ae);const s=new aN(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(gE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gE):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,m=Date.now(),this.removeTargets(e,s,n))).next(S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(g=Date.now(),Ya()<=Oe.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function uN(r,e){return new lN(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(){this.changes=new na(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Gl(s.mutation,o,vn.empty(),Rt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,xe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=xe()){const o=$s();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Ul();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=$s();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,xe()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=lr();const f=Fl(),m=function(){return Fl()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ms)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Gl(E.mutation,g,E.mutation.getFieldMask(),Rt.now())):f.set(g.key,vn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var S;return m.set(g,new hN(E,(S=f.get(g))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Fl();let o=new it((f,m)=>f-m),u=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||vn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const S=(o.get(m.batchId)||xe()).add(p);o=o.insert(m.batchId,S)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,S=I0();E.forEach(R=>{if(!u.has(R)){const O=P0(n.get(R),s.get(R));O!==null&&S.set(R,O),u=u.add(R)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,S))}return W.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return pe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):A0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):W.resolve($s());let m=Xl,p=u;return f.next(g=>W.forEach(g,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?W.resolve():this.remoteDocumentCache.getEntry(e,E).next(R=>{p=p.insert(E,R)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,xe())).next(E=>({batchId:m,changes:C0(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(s=>{let o=Ul();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Ul();return this.indexManager.getCollectionParents(e,u).next(m=>W.forEach(m,p=>{const g=function(S,R){return new uu(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((S,R)=>{f=f.insert(S,R)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Xt.newInvalidDocument(E)))});let m=Ul();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&Gl(E.mutation,g,vn.empty(),Rt.now()),Mh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return W.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Ei(o.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:nN(o.bundledQuery),readTime:Ei(o.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(){this.overlays=new it(pe.comparator),this.Rr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const s=$s();return W.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),W.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),W.resolve()}getOverlaysForCollection(e,n,s){const o=$s(),u=n.length+1,f=new pe(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return W.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new it((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=$s(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=$s(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return W.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new xD(n,s));let u=this.Rr.get(n);u===void 0&&(u=xe(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(){this.Vr=new Ct(Pt.mr),this.gr=new Ct(Pt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new Pt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new Pt(e,n))}br(e,n){e.forEach(s=>this.removeReference(s,n))}Sr(e){const n=new pe(new Ze([])),s=new Pt(n,e),o=new Pt(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new pe(new Ze([])),s=new Pt(n,e),o=new Pt(n,e+1);let u=xe();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Pt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Pt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return pe.comparator(e.key,n.key)||Ve(e.Cr,n.Cr)}static pr(e,n){return Ve(e.Cr,n.Cr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Ct(Pt.mr)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new OD(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Pt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return W.resolve(f)}lookupMutationBatch(e,n){return W.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?lp:this.Fr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Pt(n,0),o=new Pt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ct(Ve);return n.forEach(o=>{const u=new Pt(o,0),f=new Pt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),W.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const f=new Pt(new pe(u),0);let m=new Ct(Ve);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Cr)),!0)},f),W.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ge(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return W.forEach(n.mutations,o=>{const u=new Pt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new Pt(n,0),o=this.Mr.firstAfterOrEqual(s);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e){this.kr=e,this.docs=function(){return new it(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(e,n){let s=lr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Xt.newInvalidDocument(o))}),W.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=lr();const f=n.path,m=new pe(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||K1(G1(E),s)<=0||(o.has(E.key)||Mh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee()}qr(e,n){return W.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new _N(this)}getSize(e){return W.resolve(this.size)}}class _N extends cN{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),W.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e){this.persistence=e,this.Qr=new na(n=>hp(n),fp),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.$r=0,this.Kr=new vp,this.targetCount=0,this.Ur=ho.Kn()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),W.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new ho(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.zn(n),W.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),W.waitFor(u).next(()=>o)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return W.resolve(s)}addMatchingKeys(e,n,s){return this.Kr.yr(n,s),W.resolve()}removeMatchingKeys(e,n,s){this.Kr.br(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),W.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Kr.vr(n);return W.resolve(s)}containsKey(e,n){return W.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Dh(0),this.zr=!1,this.zr=!0,this.jr=new pN,this.referenceDelegate=e(this),this.Hr=new vN(this),this.indexManager=new iN,this.remoteDocumentCache=function(o){return new yN(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new tN(n),this.Yr=new dN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new gN(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){oe("MemoryPersistence","Starting transaction:",e);const o=new EN(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return W.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class EN extends $1{constructor(e){super(),this.currentSequenceNumber=e}}class Ep{constructor(e){this.persistence=e,this.ti=new vp,this.ni=null}static ri(e){return new Ep(e)}get ii(){if(this.ni)return this.ni;throw Ee()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),W.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),W.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ii,s=>{const o=pe.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,Te.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return W.or([()=>W.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class yh{constructor(e,n){this.persistence=e,this.oi=new na(s=>W1(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=uN(this,n)}static ri(e,n){return new yh(e,n)}Zr(){}Xr(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return W.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?W.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Te.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),W.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Xc(e.data.value)),n}ar(e,n,s){return W.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=xe(),o=xe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Tp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return iR()?8:Y1(Zt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new TN;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(Ya()<=Oe.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Xa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),W.resolve()):(Ya()<=Oe.DEBUG&&oe("QueryEngine","Query:",Xa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Ya()<=Oe.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Xa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vi(n))):W.resolve())}rs(e,n){if(aE(n))return W.resolve(null);let s=vi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Nm(n,null,"F"),s=vi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=xe(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(n,m);return this.ls(n,g,f,p.readTime)?this.rs(e,Nm(n,null,"F")):this.hs(e,g,n,p)}))})))}ss(e,n,s,o){return aE(n)||o.isEqual(Te.min())?W.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?W.resolve(null):(Ya()<=Oe.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Xa(n)),this.hs(e,f,n,F1(o,Xl)).next(m=>m))})}cs(e,n){let s=new Ct(b0(e));return n.forEach((o,u)=>{Mh(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return Ya()<=Oe.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Xa(n)),this.ns.getDocumentsMatchingQuery(e,n,rs.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp="LocalStore",AN=3e8;class wN{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new it(Ve),this.Is=new na(u=>hp(u),fp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fN(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function bN(r,e,n,s){return new wN(r,e,n,s)}async function Y0(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=xe();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:f,addedBatchIds:m}))})})}function RN(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const S=g.batch,R=S.keys();let O=W.resolve();return R.forEach(L=>{O=O.next(()=>E.getEntry(p,L)).next(K=>{const F=g.docVersions.get(L);Ge(F!==null),K.version.compareTo(F)<0&&(S.applyToRemoteDocument(K,g),K.isValidDocument()&&(K.setReadTime(g.commitVersion),E.addEntry(K)))})}),O.next(()=>m.mutationQueue.removeMutationBatch(p,S))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=xe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function X0(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function CN(r,e){const n=Ae(r),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((E,S)=>{const R=o.get(S);if(!R)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,S).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,S)));let O=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?O=O.withResumeToken(Ft.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):E.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(E.resumeToken,s)),o=o.insert(S,O),function(K,F,Y){return K.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=AN?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(R,O,E)&&m.push(n.Hr.updateTargetData(u,O))});let p=lr(),g=xe();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(IN(u,f,e.documentUpdates).next(E=>{p=E.Vs,g=E.fs})),!s.isEqual(Te.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(S=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return W.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ts=o,u))}function IN(r,e,n){let s=xe(),o=xe();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=lr();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Te.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):oe(Sp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function DN(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=lp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function NN(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,W.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new Zr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function Pm(r,e,n){const s=Ae(r),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!So(f))throw f;oe(Sp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function vE(r,e,n){const s=Ae(r);let o=Te.min(),u=xe();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const S=Ae(p),R=S.Is.get(E);return R!==void 0?W.resolve(S.Ts.get(R)):S.Hr.getTargetData(g,E)}(s,f,vi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:Te.min(),n?u:xe())).next(m=>(ON(s,gD(e),m),{documents:m,gs:u})))}function ON(r,e,n){let s=r.Es.get(e)||Te.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class EE{constructor(){this.activeTargetIds=SD()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xN{constructor(){this.ho=new EE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new EE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="ConnectivityMonitor";class SE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){oe(TE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){oe(TE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qc=null;function km(){return qc===null?qc=function(){return 268435456+Math.round(2147483648*Math.random())}():qc++,"0x"+qc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm="RestConnection",VN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PN{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===ch?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(e,n,s,o,u){const f=km(),m=this.So(e,n.toUriEncodedString());oe(cm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(g=>(oe(cm,`Received RPC '${e}' ${f}: `,g),g),g=>{throw so(cm,`RPC '${e}' ${f} failed with error: `,g,"url: ",m,"request:",s),g})}Co(e,n,s,o,u,f){return this.bo(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Eo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}So(e,n){const s=VN[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class LN extends PN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=km();return new Promise((f,m)=>{const p=new e0;p.setWithCredentials(!0),p.listenOnce(t0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Yc.NO_ERROR:const E=p.getResponseJson();oe($t,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case Yc.TIMEOUT:oe($t,`RPC '${e}' ${u} timed out`),m(new le(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Yc.HTTP_ERROR:const S=p.getStatus();if(oe($t,`RPC '${e}' ${u} failed with status:`,S,"response text:",p.getResponseText()),S>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const O=R==null?void 0:R.error;if(O&&O.status&&O.message){const L=function(F){const Y=F.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(Y)>=0?Y:Z.UNKNOWN}(O.status);m(new le(L,O.message))}else m(new le(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new le(Z.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{oe($t,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);oe($t,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",g,s,15)})}Wo(e,n,s){const o=km(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=r0(),m=i0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");oe($t,`Creating RPC '${e}' stream ${o}: ${E}`,p);const S=f.createWebChannel(E,p);let R=!1,O=!1;const L=new kN({Fo:F=>{O?oe($t,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(R||(oe($t,`Opening RPC '${e}' stream ${o} transport.`),S.open(),R=!0),oe($t,`RPC '${e}' stream ${o} sending:`,F),S.send(F))},Mo:()=>S.close()}),K=(F,Y,ne)=>{F.listen(Y,ee=>{try{ne(ee)}catch(ge){setTimeout(()=>{throw ge},0)}})};return K(S,Ll.EventType.OPEN,()=>{O||(oe($t,`RPC '${e}' stream ${o} transport opened.`),L.Qo())}),K(S,Ll.EventType.CLOSE,()=>{O||(O=!0,oe($t,`RPC '${e}' stream ${o} transport closed`),L.Ko())}),K(S,Ll.EventType.ERROR,F=>{O||(O=!0,so($t,`RPC '${e}' stream ${o} transport errored:`,F),L.Ko(new le(Z.UNAVAILABLE,"The operation could not be completed")))}),K(S,Ll.EventType.MESSAGE,F=>{var Y;if(!O){const ne=F.data[0];Ge(!!ne);const ee=ne,ge=(ee==null?void 0:ee.error)||((Y=ee[0])===null||Y===void 0?void 0:Y.error);if(ge){oe($t,`RPC '${e}' stream ${o} received error:`,ge);const ce=ge.status;let we=function(b){const D=yt[b];if(D!==void 0)return L0(D)}(ce),V=ge.message;we===void 0&&(we=Z.INTERNAL,V="Unknown error status: "+ce+" with message "+ge.message),O=!0,L.Ko(new le(we,V)),S.close()}else oe($t,`RPC '${e}' stream ${o} received:`,ne),L.Uo(ne)}}),K(m,n0.STAT_EVENT,F=>{F.stat===wm.PROXY?oe($t,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===wm.NOPROXY&&oe($t,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{L.$o()},0),L}}function hm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(r){return new BD(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="PersistentStream";class Z0{constructor(e,n,s,o,u,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new W0(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(or(n.toString()),or("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new le(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return oe(AE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(oe(AE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class UN extends Z0{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=FD(this.serializer,e),s=function(u){if(!("targetChange"in u))return Te.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Te.min():f.readTime?Ei(f.readTime):Te.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=Vm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Im(p)?{documents:QD(u,p)}:{query:$D(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=z0(u,f.resumeToken);const g=Om(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Te.min())>0){m.readTime=gh(u,f.snapshotVersion.toTimestamp());const g=Om(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=XD(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=Vm(this.serializer),n.removeTarget=e,this.I_(n)}}class jN extends Z0{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=KD(e.writeResults,e.commitTime),s=Ei(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=Vm(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>GD(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{}class BN extends zN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.bo(e,xm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(Z.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,xm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le(Z.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class qN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(or(n),this.N_=!1):oe("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="RemoteStore";class HN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{ia(this)&&(oe(ea,"Restarting streams for network reachability change."),await async function(p){const g=Ae(p);g.W_.add(4),await fu(g),g.j_.set("Unknown"),g.W_.delete(4),await Uh(g)}(this))})}),this.j_=new qN(s,o)}}async function Uh(r){if(ia(r))for(const e of r.G_)await e(!0)}async function fu(r){for(const e of r.G_)await e(!1)}function J0(r,e){const n=Ae(r);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),Rp(n)?bp(n):Ao(n).c_()&&wp(n,e))}function Ap(r,e){const n=Ae(r),s=Ao(n);n.U_.delete(e),s.c_()&&eS(n,e),n.U_.size===0&&(s.c_()?s.P_():ia(n)&&n.j_.set("Unknown"))}function wp(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ao(r).y_(e)}function eS(r,e){r.H_.Ne(e),Ao(r).w_(e)}function bp(r){r.H_=new LD({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Ao(r).start(),r.j_.B_()}function Rp(r){return ia(r)&&!Ao(r).u_()&&r.U_.size>0}function ia(r){return Ae(r).W_.size===0}function tS(r){r.H_=void 0}async function FN(r){r.j_.set("Online")}async function GN(r){r.U_.forEach((e,n)=>{wp(r,e)})}async function KN(r,e){tS(r),Rp(r)?(r.j_.q_(e),bp(r)):r.j_.set("Unknown")}async function QN(r,e,n){if(r.j_.set("Online"),e instanceof j0&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.U_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(s){oe(ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await _h(r,s)}else if(e instanceof Jc?r.H_.We(e):e instanceof U0?r.H_.Ze(e):r.H_.je(e),!n.isEqual(Te.min()))try{const s=await X0(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.U_.get(g);E&&u.U_.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.U_.get(p);if(!E)return;u.U_.set(p,E.withResumeToken(Ft.EMPTY_BYTE_STRING,E.snapshotVersion)),eS(u,p);const S=new Zr(E.target,p,g,E.sequenceNumber);wp(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){oe(ea,"Failed to raise snapshot:",s),await _h(r,s)}}async function _h(r,e,n){if(!So(e))throw e;r.W_.add(1),await fu(r),r.j_.set("Offline"),n||(n=()=>X0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{oe(ea,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await Uh(r)})}function nS(r,e){return e().catch(n=>_h(r,n,e))}async function jh(r){const e=Ae(r),n=ls(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:lp;for(;$N(e);)try{const o=await DN(e.localStore,s);if(o===null){e.K_.length===0&&n.P_();break}s=o.batchId,YN(e,o)}catch(o){await _h(e,o)}iS(e)&&rS(e)}function $N(r){return ia(r)&&r.K_.length<10}function YN(r,e){r.K_.push(e);const n=ls(r);n.c_()&&n.b_&&n.S_(e.mutations)}function iS(r){return ia(r)&&!ls(r).u_()&&r.K_.length>0}function rS(r){ls(r).start()}async function XN(r){ls(r).C_()}async function WN(r){const e=ls(r);for(const n of r.K_)e.S_(n.mutations)}async function ZN(r,e,n){const s=r.K_.shift(),o=gp.from(s,e,n);await nS(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await jh(r)}async function JN(r,e){e&&ls(r).b_&&await async function(s,o){if(function(f){return VD(f)&&f!==Z.ABORTED}(o.code)){const u=s.K_.shift();ls(s).h_(),await nS(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await jh(s)}}(r,e),iS(r)&&rS(r)}async function wE(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),oe(ea,"RemoteStore received new credentials");const s=ia(n);n.W_.add(3),await fu(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Uh(n)}async function eO(r,e){const n=Ae(r);e?(n.W_.delete(2),await Uh(n)):e||(n.W_.add(2),await fu(n),n.j_.set("Unknown"))}function Ao(r){return r.J_||(r.J_=function(n,s,o){const u=Ae(n);return u.M_(),new UN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:FN.bind(null,r),No:GN.bind(null,r),Lo:KN.bind(null,r),p_:QN.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Rp(r)?bp(r):r.j_.set("Unknown")):(await r.J_.stop(),tS(r))})),r.J_}function ls(r){return r.Y_||(r.Y_=function(n,s,o){const u=Ae(n);return u.M_(),new jN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:XN.bind(null,r),Lo:JN.bind(null,r),D_:WN.bind(null,r),v_:ZN.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await jh(r)):(await r.Y_.stop(),r.K_.length>0&&(oe(ea,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Cp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ip(r,e){if(or("AsyncQueue",`${e}: ${r}`),So(r))return new le(Z.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{static emptySet(e){return new io(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=Ul(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof io)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new io;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(){this.Z_=new it(pe.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ee():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class fo{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new fo(e,n,io.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class nO{constructor(){this.queries=RE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=RE(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new le(Z.ABORTED,"Firestore shutting down"))}}function RE(){return new na(r=>w0(r),xh)}async function sS(r,e){const n=Ae(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new tO,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Ip(f,`Initialization of query '${Xa(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Dp(n)}async function aS(r,e){const n=Ae(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function iO(r,e){const n=Ae(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&Dp(n)}function rO(r,e,n){const s=Ae(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function Dp(r){r.ia.forEach(e=>{e.next()})}var Lm,CE;(CE=Lm||(Lm={}))._a="default",CE.Cache="cache";class oS{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new fo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Lm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e){this.key=e}}class uS{constructor(e){this.key=e}}class sO{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=xe(),this.mutatedKeys=xe(),this.ya=b0(e),this.wa=new io(this.ya)}get ba(){return this.fa}Sa(e,n){const s=n?n.Da:new bE,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const R=o.get(E),O=Mh(this.query,S)?S:null,L=!!R&&this.mutatedKeys.has(R.key),K=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let F=!1;R&&O?R.data.isEqual(O.data)?L!==K&&(s.track({type:3,doc:O}),F=!0):this.va(R,O)||(s.track({type:2,doc:O}),F=!0,(p&&this.ya(O,p)>0||g&&this.ya(O,g)<0)&&(m=!0)):!R&&O?(s.track({type:0,doc:O}),F=!0):R&&!O&&(s.track({type:1,doc:R}),F=!0,(p||g)&&(m=!0)),F&&(O?(f=f.add(O),u=K?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,S)=>function(O,L){const K=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return K(O)-K(L)}(E.type,S.type)||this.ya(E.doc,S.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,f.length!==0||g?{snapshot:new fo(this.query,e.wa,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new bE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=xe(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new uS(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new lS(s))}),n}Oa(e){this.fa=e.gs,this.pa=xe();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return fo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Np="SyncEngine";class aO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class oO{constructor(e){this.key=e,this.Ba=!1}}class lO{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new na(m=>w0(m),xh),this.qa=new Map,this.Qa=new Set,this.$a=new it(pe.comparator),this.Ka=new Map,this.Ua=new vp,this.Wa={},this.Ga=new Map,this.za=ho.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function uO(r,e,n=!0){const s=pS(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await cS(s,e,n,!0),o}async function cO(r,e){const n=pS(r);await cS(n,e,!0,!1)}async function cS(r,e,n,s){const o=await NN(r.localStore,vi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await hO(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&J0(r.remoteStore,o),m}async function hO(r,e,n,s,o){r.Ha=(S,R,O)=>async function(K,F,Y,ne){let ee=F.view.Sa(Y);ee.ls&&(ee=await vE(K.localStore,F.query,!1).then(({documents:V})=>F.view.Sa(V,ee)));const ge=ne&&ne.targetChanges.get(F.targetId),ce=ne&&ne.targetMismatches.get(F.targetId)!=null,we=F.view.applyChanges(ee,K.isPrimaryClient,ge,ce);return DE(K,F.targetId,we.Ma),we.snapshot}(r,S,R,O);const u=await vE(r.localStore,e,!0),f=new sO(e,u.gs),m=f.Sa(u.documents),p=hu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);DE(r,n,g.Ma);const E=new aO(e,n,f);return r.ka.set(e,E),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),g.snapshot}async function fO(r,e,n){const s=Ae(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!xh(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Pm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Ap(s.remoteStore,o.targetId),Um(s,o.targetId)}).catch(To)):(Um(s,o.targetId),await Pm(s.localStore,o.targetId,!0))}async function dO(r,e){const n=Ae(r),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Ap(n.remoteStore,s.targetId))}async function mO(r,e,n){const s=TO(r);try{const o=await function(f,m){const p=Ae(f),g=Rt.now(),E=m.reduce((O,L)=>O.add(L.key),xe());let S,R;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let L=lr(),K=xe();return p.ds.getEntries(O,E).next(F=>{L=F,L.forEach((Y,ne)=>{ne.isValidDocument()||(K=K.add(Y))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,L)).next(F=>{S=F;const Y=[];for(const ne of m){const ee=DD(ne,S.get(ne.key).overlayedDocument);ee!=null&&Y.push(new ms(ne.key,ee,g0(ee.value.mapValue),Qn.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,Y,m)}).next(F=>{R=F;const Y=F.applyToLocalDocumentSet(S,K);return p.documentOverlayCache.saveOverlays(O,F.batchId,Y)})}).then(()=>({batchId:R.batchId,changes:C0(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Wa[f.currentUser.toKey()];g||(g=new it(Ve)),g=g.insert(m,p),f.Wa[f.currentUser.toKey()]=g}(s,o.batchId,n),await du(s,o.changes),await jh(s.remoteStore)}catch(o){const u=Ip(o,"Failed to persist write");n.reject(u)}}async function hS(r,e){const n=Ae(r);try{const s=await CN(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ka.get(u);f&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Ge(f.Ba):o.removedDocuments.size>0&&(Ge(f.Ba),f.Ba=!1))}),await du(n,s,e)}catch(s){await To(s)}}function IE(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ae(f);p.onlineState=m;let g=!1;p.queries.forEach((E,S)=>{for(const R of S.ta)R.sa(m)&&(g=!0)}),g&&Dp(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function pO(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ka.get(e),u=o&&o.key;if(u){let f=new it(pe.comparator);f=f.insert(u,Xt.newNoDocument(u,Te.min()));const m=xe().add(u),p=new kh(Te.min(),new Map,new it(Ve),f,m);await hS(s,p),s.$a=s.$a.remove(u),s.Ka.delete(e),Op(s)}else await Pm(s.localStore,e,!1).then(()=>Um(s,e,n)).catch(To)}async function gO(r,e){const n=Ae(r),s=e.batch.batchId;try{const o=await RN(n.localStore,e);dS(n,s,null),fS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await du(n,o)}catch(o){await To(o)}}async function yO(r,e,n){const s=Ae(r);try{const o=await function(f,m){const p=Ae(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(S=>(Ge(S!==null),E=S.keys(),p.mutationQueue.removeMutationBatch(g,S))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);dS(s,e,n),fS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await du(s,o)}catch(o){await To(o)}}function fS(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function dS(r,e,n){const s=Ae(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Um(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(e),r.isPrimaryClient&&r.Ua.Sr(e).forEach(s=>{r.Ua.containsKey(s)||mS(r,s)})}function mS(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(Ap(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ka.delete(n),Op(r))}function DE(r,e,n){for(const s of n)s instanceof lS?(r.Ua.addReference(s.key,e),_O(r,s)):s instanceof uS?(oe(Np,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,e),r.Ua.containsKey(s.key)||mS(r,s.key)):Ee()}function _O(r,e){const n=e.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(oe(Np,"New document in limbo: "+n),r.Qa.add(s),Op(r))}function Op(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new pe(Ze.fromString(e)),s=r.za.next();r.Ka.set(s,new oO(n)),r.$a=r.$a.insert(n,s),J0(r.remoteStore,new Zr(vi(dp(n.path)),s,"TargetPurposeLimboResolution",Dh.ae))}}async function du(r,e,n){const s=Ae(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const S=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(g){o.push(g);const S=Tp.Yi(p.targetId,g);u.push(S)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,g){const E=Ae(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>W.forEach(g,R=>W.forEach(R.Hi,O=>E.persistence.referenceDelegate.addReference(S,R.targetId,O)).next(()=>W.forEach(R.Ji,O=>E.persistence.referenceDelegate.removeReference(S,R.targetId,O)))))}catch(S){if(!So(S))throw S;oe(Sp,"Failed to update sequence numbers: "+S)}for(const S of g){const R=S.targetId;if(!S.fromCache){const O=E.Ts.get(R),L=O.snapshotVersion,K=O.withLastLimboFreeSnapshotVersion(L);E.Ts=E.Ts.insert(R,K)}}}(s.localStore,u))}async function vO(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){oe(Np,"User change. New user:",e.toKey());const s=await Y0(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new le(Z.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await du(n,s.Rs)}}function EO(r,e){const n=Ae(r),s=n.Ka.get(e);if(s&&s.Ba)return xe().add(s.key);{let o=xe();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.ba)}return o}}function pS(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=hS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pO.bind(null,e),e.La.p_=iO.bind(null,e.eventManager),e.La.Ja=rO.bind(null,e.eventManager),e}function TO(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yO.bind(null,e),e}class vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return bN(this.persistence,new SN,e.initialUser,this.serializer)}Xa(e){return new $0(Ep.ri,this.serializer)}Za(e){return new xN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vh.provider={build:()=>new vh};class SO extends vh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ge(this.persistence.referenceDelegate instanceof yh);const s=this.persistence.referenceDelegate.garbageCollector;return new oN(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new $0(s=>yh.ri(s,n),this.serializer)}}class jm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>IE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=vO.bind(null,this.syncEngine),await eO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new nO}()}createDatastore(e){const n=Lh(e.databaseInfo.databaseId),s=function(u){return new LN(u)}(e.databaseInfo);return function(u,f,m,p){return new BN(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new HN(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>IE(this.syncEngine,n,0),function(){return SE.D()?new SE:new MN}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,E){const S=new lO(o,u,f,m,p,g);return E&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ae(o);oe(ea,"RemoteStore shutting down."),u.W_.add(5),await fu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}jm.provider={build:()=>new jm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):or("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="FirestoreClient";class AO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Yt.UNAUTHENTICATED,this.clientId=a0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{oe(us,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(oe(us,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Ip(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function fm(r,e){r.asyncQueue.verifyOperationInProgress(),oe(us,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Y0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function NE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await wO(r);oe(us,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>wE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>wE(e.remoteStore,o)),r._onlineComponents=e}async function wO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){oe(us,"Using user provided OfflineComponentProvider");try{await fm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;so("Error using user provided cache. Falling back to memory cache: "+n),await fm(r,new vh)}}else oe(us,"Using default OfflineComponentProvider"),await fm(r,new SO(void 0));return r._offlineComponents}async function yS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(oe(us,"Using user provided OnlineComponentProvider"),await NE(r,r._uninitializedComponentsProvider._online)):(oe(us,"Using default OnlineComponentProvider"),await NE(r,new jm))),r._onlineComponents}function bO(r){return yS(r).then(e=>e.syncEngine)}async function _S(r){const e=await yS(r),n=e.eventManager;return n.onListen=uO.bind(null,e.syncEngine),n.onUnlisten=fO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=cO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dO.bind(null,e.syncEngine),n}function RO(r,e,n={}){const s=new nr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new gS({next:R=>{E.su(),f.enqueueAndForget(()=>aS(u,S));const O=R.docs.has(m);!O&&R.fromCache?g.reject(new le(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&R.fromCache&&p&&p.source==="server"?g.reject(new le(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(R)},error:R=>g.reject(R)}),S=new oS(dp(m.path),E,{includeMetadataChanges:!0,Ta:!0});return sS(u,S)}(await _S(r),r.asyncQueue,e,n,s)),s.promise}function CO(r,e,n={}){const s=new nr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new gS({next:R=>{E.su(),f.enqueueAndForget(()=>aS(u,S)),R.fromCache&&p.source==="server"?g.reject(new le(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(R)},error:R=>g.reject(R)}),S=new oS(m,E,{includeMetadataChanges:!0,Ta:!0});return sS(u,S)}(await _S(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(r,e,n){if(!n)throw new le(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function IO(r,e,n,s){if(e===!0&&s===!0)throw new le(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function xE(r){if(!pe.isDocumentKey(r))throw new le(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function ME(r){if(pe.isDocumentKey(r))throw new le(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function zh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee()}function Si(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zh(r);throw new le(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="firestore.googleapis.com",VE=!0;class PE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new le(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TS,this.ssl=VE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:VE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Q0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sN)throw new le(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}IO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vS((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new k1;switch(s.type){case"firstParty":return new z1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=OE.get(n);s&&(oe("ComponentProvider","Removing Datastore"),OE.delete(n),s.terminate())}(this),Promise.resolve()}}function DO(r,e,n,s={}){var o;const u=(r=Si(r,Bh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==TS&&u.host!==m&&so("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!rr(p,f)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Yt.MOCK_USER;else{g=Xb(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new le(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Yt(S)}r._authCredentials=new L1(new s0(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new wo(this.firestore,e,this._query)}}class an{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new an(this.firestore,e,this._key)}}class is extends wo{constructor(e,n,s){super(e,n,dp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new an(this.firestore,null,new pe(e))}withConverter(e){return new is(this.firestore,e,this._path)}}function qh(r,e,...n){if(r=kt(r),ES("collection","path",e),r instanceof Bh){const s=Ze.fromString(e,...n);return ME(s),new is(r,null,s)}{if(!(r instanceof an||r instanceof is))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ze.fromString(e,...n));return ME(s),new is(r.firestore,null,s)}}function En(r,e,...n){if(r=kt(r),arguments.length===1&&(e=a0.newId()),ES("doc","path",e),r instanceof Bh){const s=Ze.fromString(e,...n);return xE(s),new an(r,null,new pe(s))}{if(!(r instanceof an||r instanceof is))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ze.fromString(e,...n));return xE(s),new an(r.firestore,r instanceof is?r.converter:null,new pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="AsyncQueue";class LE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new W0(this,"async_queue_retry"),this.bu=()=>{const s=hm();s&&oe(kE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=e;const n=hm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=hm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new nr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!So(e))throw e;oe(kE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw or("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=Cp.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Ee()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class bo extends Bh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new LE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new LE(e),this._firestoreClient=void 0,await e}}}function NO(r,e){const n=typeof r=="object"?r:mT(),s=typeof r=="string"?r:ch,o=Wm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=$b("firestore");u&&DO(o,...u)}return o}function xp(r){if(r._terminated)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||OO(r),r._firestoreClient}function OO(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,g,E){return new eD(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,vS(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new AO(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mo(Ft.fromBase64String(e))}catch(n){throw new le(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new mo(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=/^__.*__$/;class MO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ms(e,this.data,this.fieldMask,n,this.fieldTransforms):new cu(e,this.data,n,this.fieldTransforms)}}class SS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ms(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function AS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class Fh{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Fh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Eh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(AS(this.Lu)&&xO.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class VO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Lh(e)}ju(e,n,s,o=!1){return new Fh({Lu:e,methodName:n,zu:s,path:Ht.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pp(r){const e=r._freezeSettings(),n=Lh(r._databaseId);return new VO(r._databaseId,!!e.ignoreUndefinedProperties,n)}function PO(r,e,n,s,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,e,n,o);Up("Data must be an object, but it was:",f,s);const m=bS(s,f);let p,g;if(u.merge)p=new vn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const R=zm(e,S,n);if(!f.contains(R))throw new le(Z.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);CS(E,R)||E.push(R)}p=new vn(E),g=f.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,g=f.fieldTransforms;return new MO(new hn(m),p,g)}class Gh extends mu{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gh}}function wS(r,e,n){return new Fh({Lu:3,zu:e.settings.zu,methodName:r._methodName,Qu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class kp extends mu{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=wS(this,e,!0),s=this.Hu.map(u=>ra(u,n)),o=new uo(s);return new V0(e.path,o)}isEqual(e){return e instanceof kp&&rr(this.Hu,e.Hu)}}class Lp extends mu{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=wS(this,e,!0),s=this.Hu.map(u=>ra(u,n)),o=new co(s);return new V0(e.path,o)}isEqual(e){return e instanceof Lp&&rr(this.Hu,e.Hu)}}function kO(r,e,n,s){const o=r.ju(1,e,n);Up("Data must be an object, but it was:",o,s);const u=[],f=hn.empty();ds(s,(p,g)=>{const E=jp(e,p,n);g=kt(g);const S=o.Ku(E);if(g instanceof Gh)u.push(E);else{const R=ra(g,S);R!=null&&(u.push(E),f.set(E,R))}});const m=new vn(u);return new SS(f,m,o.fieldTransforms)}function LO(r,e,n,s,o,u){const f=r.ju(1,e,n),m=[zm(e,s,n)],p=[o];if(u.length%2!=0)throw new le(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(zm(e,u[R])),p.push(u[R+1]);const g=[],E=hn.empty();for(let R=m.length-1;R>=0;--R)if(!CS(g,m[R])){const O=m[R];let L=p[R];L=kt(L);const K=f.Ku(O);if(L instanceof Gh)g.push(O);else{const F=ra(L,K);F!=null&&(g.push(O),E.set(O,F))}}const S=new vn(g);return new SS(E,S,f.fieldTransforms)}function UO(r,e,n,s=!1){return ra(n,r.ju(s?4:3,e))}function ra(r,e){if(RS(r=kt(r)))return Up("Unsupported field value:",e,r),bS(r,e);if(r instanceof mu)return function(s,o){if(!AS(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=ra(m,o.Uu(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=kt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return AD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Rt.fromDate(s);return{timestampValue:gh(o.serializer,u)}}if(s instanceof Rt){const u=new Rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:gh(o.serializer,u)}}if(s instanceof Mp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof mo)return{bytesValue:z0(o.serializer,s._byteString)};if(s instanceof an){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:_p(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Vp)return function(f,m){return{mapValue:{fields:{[m0]:{stringValue:p0},[hh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Wu("VectorValues must only contain numeric values.");return mp(m.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${zh(s)}`)}(r,e)}function bS(r,e){const n={};return l0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ds(r,(s,o)=>{const u=ra(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function RS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Rt||r instanceof Mp||r instanceof mo||r instanceof an||r instanceof mu||r instanceof Vp)}function Up(r,e,n){if(!RS(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=zh(n);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function zm(r,e,n){if((e=kt(e))instanceof Hh)return e._internalPath;if(typeof e=="string")return jp(r,e);throw Eh("Field path arguments must be of type string or ",r,!1,void 0,n)}const jO=new RegExp("[~\\*/\\[\\]]");function jp(r,e,n){if(e.search(jO)>=0)throw Eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Hh(...e.split("."))._internalPath}catch{throw Eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Eh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new le(Z.INVALID_ARGUMENT,m+r+p)}function CS(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new an(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(zp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class zO extends IS{data(){return super.data()}}function zp(r,e){return typeof e=="string"?jp(r,e):e instanceof Hh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bp{}class qO extends Bp{}function DS(r,e,...n){let s=[];e instanceof Bp&&s.push(e),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof qp).length,m=u.filter(p=>p instanceof Kh).length;if(f>1||f>0&&m>0)throw new le(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Kh extends qO{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Kh(e,n,s)}_apply(e){const n=this._parse(e);return OS(e._query,n),new wo(e.firestore,e.converter,Dm(e._query,n))}_parse(e){const n=Pp(e.firestore);return function(u,f,m,p,g,E,S){let R;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new le(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){jE(S,E);const L=[];for(const K of S)L.push(UE(p,u,K));R={arrayValue:{values:L}}}else R=UE(p,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||jE(S,E),R=UO(m,f,S,E==="in"||E==="not-in");return _t.create(g,E,R)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function NS(r,e,n){const s=e,o=zp("where",r);return Kh._create(o,s,n)}class qp extends Bp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new qp(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Xn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)OS(f,p),f=Dm(f,p)}(e._query,n),new wo(e.firestore,e.converter,Dm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function UE(r,e,n){if(typeof(n=kt(n))=="string"){if(n==="")throw new le(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!A0(e)&&n.indexOf("/")!==-1)throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Ze.fromString(n));if(!pe.isDocumentKey(s))throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return eE(r,new pe(s))}if(n instanceof an)return eE(r,n._key);throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zh(n)}.`)}function jE(r,e){if(!Array.isArray(r)||r.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function OS(r,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class HO{convertValue(e,n="none"){switch(os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(as(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ds(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[hh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>ht(f.doubleValue));return new Vp(u)}convertGeoPoint(e){return new Mp(ht(e.latitude),ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Oh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Wl(e));default:return null}}convertTimestamp(e){const n=ss(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ze.fromString(e);Ge(K0(s));const o=new Zl(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(n)||or(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(r,e,n){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xS extends IS{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(zp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class eh extends xS{data(e={}){return super.data(e)}}class GO{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new zl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new eh(this._firestore,this._userDataWriter,s.key,s,new zl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new zl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new zl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:KO(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function KO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(r){r=Si(r,an);const e=Si(r.firestore,bo);return RO(xp(e),r._key).then(n=>$O(e,r,n))}class MS extends HO{constructor(e){super(),this.firestore=e}convertBytes(e){return new mo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new an(this.firestore,null,n)}}function Hp(r){r=Si(r,wo);const e=Si(r.firestore,bo),n=xp(e),s=new MS(e);return BO(r._query),CO(n,r._query).then(o=>new GO(e,s,r,o))}function Fp(r,e,n){r=Si(r,an);const s=Si(r.firestore,bo),o=FO(r.converter,e);return Gp(s,[PO(Pp(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Qn.none())])}function Th(r,e,n,...s){r=Si(r,an);const o=Si(r.firestore,bo),u=Pp(o);let f;return f=typeof(e=kt(e))=="string"||e instanceof Hh?LO(u,"updateDoc",r._key,e,n,s):kO(u,"updateDoc",r._key,e),Gp(o,[f.toMutation(r._key,Qn.exists(!0))])}function QO(r){return Gp(Si(r.firestore,bo),[new pp(r._key,Qn.none())])}function Gp(r,e){return function(s,o){const u=new nr;return s.asyncQueue.enqueueAndForget(async()=>mO(await bO(s),o,u)),u.promise}(xp(r),e)}function $O(r,e,n){const s=n.docs.get(e._key),o=new MS(r);return new xS(r,o,e._key,s,new zl(n.hasPendingWrites,n.fromCache),e.converter)}function zE(...r){return new kp("arrayUnion",r)}function YO(...r){return new Lp("arrayRemove",r)}(function(e,n=!0){(function(o){Eo=o})(_o),ro(new Xs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new bo(new U1(s.getProvider("auth-internal")),new B1(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new le(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),ts(Hv,Fv,e),ts(Hv,Fv,"esm2017")})();const XO={apiKey:"AIzaSyC4sqerWz_1Zw1KO0FKVAJscTqWUZsepLs",authDomain:"thrift-shop-686da.firebaseapp.com",projectId:"thrift-shop-686da"},VS=dT(XO),Qh=ZT(VS),Wt=NO(VS),PS=q.createContext(),WO=async r=>{if(!r)return null;const e=En(Wt,"users",r),n=await Ys(e);return n.exists()?n.data():null},ZO=({children:r})=>{const[e,n]=q.useState(null),[s,o]=q.useState(!0);return q.useEffect(()=>{const u=AI(Qh,async f=>{if(f){const m=await WO(f.uid);n({...f,...m})}else n(null);o(!1)});return()=>u()},[]),w.jsx(PS.Provider,{value:{user:e,isLoading:s},children:r})},Ai=()=>q.useContext(PS),JO=()=>({logout:async()=>{if(ZT().currentUser)try{await wI(Qh),console.log("Successful logout!")}catch(s){console.error("Logging out error: ",s.message)}else console.log("There is no current user for logging out!")}});function e2(){const{user:r}=Ai(),{logout:e}=JO(),n=Zn(),s=async()=>{await e(),n("/")};return w.jsxs("header",{children:[w.jsx("h1",{children:"SmartSwap"}),w.jsx("nav",{className:"main-links",children:w.jsxs("ul",{children:[w.jsx("li",{children:w.jsx(Kn,{to:"/",className:({isActive:o})=>o?"active-link":"",children:w.jsx("i",{className:"fa-solid fa-house"})})}),w.jsx("li",{children:w.jsx(Kn,{to:"/phones",end:!0,className:({isActive:o})=>o?"active-link":"",children:"Phones"})}),w.jsx("li",{children:w.jsxs(Kn,{to:"/phones/sell",className:({isActive:o})=>o?"active-link":"",children:["Sell Phone ",w.jsx("i",{className:"fa-solid fa-plus"})]})}),w.jsx("li",{children:w.jsx(Kn,{to:"/about",className:({isActive:o})=>o?"active-link":"",children:"About"})})]})}),w.jsx("nav",{className:"user-links",children:w.jsx("ul",{children:r?w.jsxs(w.Fragment,{children:[w.jsx("li",{children:w.jsx(Kn,{to:"/chat-list",className:({isActive:o})=>o?"active-link":"",children:w.jsx("i",{className:"fa-solid fa-comments"})})}),w.jsx("li",{children:w.jsx(Kn,{to:"/phones/liked",className:({isActive:o})=>o?"active-link":"",children:w.jsx("i",{className:"fa-solid fa-heart"})})}),w.jsx("li",{children:w.jsx(Kn,{to:`/profile/${r.uid}`,className:({isActive:o})=>o?"active-link":"",children:w.jsx("i",{className:"fa-solid fa-user"})})}),w.jsx("li",{children:w.jsx(Kn,{to:"#",onClick:s,children:w.jsx("i",{className:"fa-solid fa-right-from-bracket"})})})]}):w.jsxs(w.Fragment,{children:[w.jsx("li",{children:w.jsx(Kn,{to:"/login",className:({isActive:o})=>o?"active-link":"",children:"Login"})}),w.jsx("li",{children:w.jsx(Kn,{to:"/register",className:({isActive:o})=>o?"active-link":"",children:"Register"})})]})})})]})}const t2=async r=>{if(!r)return null;try{const e=En(Wt,"users",r),n=await Ys(e);return n.exists()?n.data():null}catch(e){return console.error("Error fetching user data:",e),null}};function $h(){return w.jsx("span",{className:"loader"})}const n2=()=>{const{id:r}=tu(),[e,n]=q.useState(null),[s,o]=q.useState([]);return q.useEffect(()=>{let u=!0;const f=async()=>{const p=await t2(r);u&&n(p)},m=async()=>{const p=qh(Wt,"items"),g=DS(p,NS("ownerId","==",r)),S=(await Hp(g)).docs.map(R=>({id:R.id,...R.data()}));u&&o(S)};return r&&(f(),m()),()=>{u=!1}},[r]),e?w.jsxs("section",{className:"profile",children:[w.jsx("h2",{children:"Profile"}),w.jsxs("article",{children:[w.jsxs("div",{className:"user-data",children:[w.jsxs("p",{children:[w.jsx("strong",{children:"Email:"})," ",e.email]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Username:"})," ",e.username]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Location:"})," ",e.address]})]}),w.jsx("div",{className:"user-image",children:w.jsx("img",{src:e.avatarUrl,alt:"Avatar"})})]}),w.jsxs("div",{className:"user-posts",children:[w.jsxs("h3",{children:[e.username,"'s Posts"]}),s.length>0?w.jsx("ul",{className:"post-list",children:s.map(u=>w.jsxs(gi,{to:`/phones/${u.id}`,className:"post-item",children:[w.jsx("img",{src:u.imageUrl,alt:u.title,className:"post-image"}),w.jsxs("div",{className:"post-content",children:[w.jsx("h4",{children:u.title}),w.jsx("p",{children:u.description})]})]},u.id))}):w.jsx("p",{className:"no-posts",children:"No posts found."})]})]}):w.jsx($h,{})},i2=()=>({register:async(e,n)=>{try{return(await vI(Qh,e,n)).user}catch(s){throw console.error("Registration error: ",s.message),s}}}),BE={register:(r,e,n)=>{switch(r){case"email":return/\S+@\S+\.\S+/.test(e)?"":"Invalid email format";case"password":return e.length>=6?"":"Password must be at least 6 characters";case"repeatPassword":return e===n?"":"Passwords do not match";case"username":return e.trim().length>=3?"":"Username must be at least 3 characters";case"address":return e.trim().length>=3?"":"Address must be at least 3 characters";case"avatarUrl":return/^(https?:\/\/)/.test(e)?"":"Avatar URL must start with http:// or https://";default:return""}},phone:(r,e)=>{switch(r){case"title":return e.trim().length>=6?"":"Title must be at least 6 characters";case"imageUrl":return/^(https?:\/\/)/.test(e)?"":"Image URL must start with http:// or https://";case"price":return e>0?"":"Price must be a positive number";case"description":return e.trim().length>=10?"":"Description must be at least 10 characters";default:return""}}},Kp=()=>{const[r,e]=q.useState({}),[n,s]=q.useState({});return{errors:r,visibleErrors:n,handleRegisterError:f=>{var R;const{name:m,value:p,form:g}=f.target,E=(R=g.password)==null?void 0:R.value,S=BE.register(m,p,E);e(O=>({...O,[m]:S})),S?setTimeout(()=>{s(O=>({...O,[m]:!0}))},100):s(O=>({...O,[m]:!1}))},handlePhoneDataError:f=>{const{name:m,value:p}=f.target,g=BE.phone(m,p);e(E=>({...E,[m]:g})),g?setTimeout(()=>{s(E=>({...E,[m]:!0}))},100):s(E=>({...E,[m]:!1}))}}},r2=async(r,e)=>{const{email:n,password:s,repeatPassword:o,username:u,address:f,avatarUrl:m}=Object.fromEntries(e);try{const{register:p}=i2(),g=await p(n,s),E=En(Wt,"users",g.uid);return await Fp(E,{uid:g.uid,email:n,username:u,address:f,avatarUrl:m}),{success:!0}}catch(p){return{error:p.message}}},s2=()=>{const r=Zn(),[e,n]=q.useActionState(r2,{error:null,success:!1}),{errors:s,visibleErrors:o,handleRegisterError:u}=Kp();return q.useEffect(()=>{e.success&&r("/")},[e.success,r]),w.jsxs("div",{className:"register-container",children:[w.jsx("h2",{className:"register-title",children:"Registration"}),w.jsxs("form",{action:n,className:"register-form",children:[w.jsxs("div",{className:"input-group",children:[w.jsx("input",{type:"email",name:"email",className:"input-field",placeholder:"Email",required:!0,onBlur:u}),s.email&&w.jsx("span",{className:`error-text ${o.email?"show":""}`,children:s.email})]}),w.jsxs("div",{className:"input-group",children:[w.jsx("input",{type:"text",name:"username",className:"input-field",placeholder:"Username",required:!0,onBlur:u}),s.username&&w.jsx("span",{className:`error-text ${o.username?"show":""}`,children:s.username})]}),w.jsxs("div",{className:"input-group",children:[w.jsx("input",{type:"text",name:"address",className:"input-field",placeholder:"Personal address",required:!0,onBlur:u}),s.address&&w.jsx("span",{className:`error-text ${o.address?"show":""}`,children:s.address})]}),w.jsxs("div",{className:"input-group",children:[w.jsx("input",{type:"url",name:"avatarUrl",className:"input-field",placeholder:"Avatar URL",required:!0,onBlur:u}),s.avatarUrl&&w.jsx("span",{className:`error-text ${o.avatarUrl?"show":""}`,children:s.avatarUrl})]}),w.jsxs("div",{className:"input-group",children:[w.jsx("input",{type:"password",name:"password",className:"input-field",placeholder:"Password",required:!0,onBlur:u}),s.password&&w.jsx("span",{className:`error-text ${o.password?"show":""}`,children:s.password})]}),w.jsxs("div",{className:"input-group",children:[w.jsx("input",{type:"password",name:"repeatPassword",className:"input-field",placeholder:"Repeat Password",required:!0,onBlur:u}),s.repeatPassword&&w.jsx("span",{className:`error-text ${o.repeatPassword?"show":""}`,children:s.repeatPassword})]}),w.jsx("button",{type:"submit",className:"submit-button",style:{backgroundColor:Object.values(s).some(Boolean)?"grey":""},disabled:Object.values(s).some(Boolean),children:"Register"})]})]})},a2=()=>({login:async(e,n)=>{try{return(await EI(Qh,e,n)).user}catch(s){throw console.error("Entry error: ",s.message),s}}}),o2=()=>{const[r,e]=q.useState(""),[n,s]=q.useState(""),[o,u]=q.useState(""),f=Zn(),{login:m}=a2(),p=async g=>{g.preventDefault();try{await m(r,n),u(""),f("/")}catch{u("Wrong email or password!")}};return w.jsxs("div",{className:"login-container",children:[w.jsx("h2",{className:"login-title",children:"Login"}),o&&w.jsx("p",{className:"error-message",children:o}),w.jsxs("form",{className:"login-form",onSubmit:p,children:[w.jsx("input",{type:"email",className:"input-field",placeholder:"Email",value:r,onChange:g=>e(g.target.value),required:!0}),w.jsx("input",{type:"password",className:"input-field",placeholder:"Password",value:n,onChange:g=>s(g.target.value),required:!0}),w.jsx("button",{className:"submit-button",type:"submit",children:"Submit"})]})]})};function l2(){const r=Zn();return w.jsxs("div",{className:"about-container",children:[w.jsx("h2",{className:"about-title",children:"About This Application"}),w.jsx("p",{className:"about-text",children:"Welcome to our marketplace for second-hand phones! Here, you can easily buy and sell used smartphones, connect with other users, and find great deals on pre-owned devices."}),w.jsx("p",{className:"about-text",children:"Our goal is to provide a secure and user-friendly platform where you can trade smartphones effortlessly, making it easier for you to find the phone you need at an affordable price."}),w.jsx("button",{className:"back-button",onClick:()=>r("/"),children:"Back to Home"})]})}function qE(){const r=Zn();return w.jsxs("div",{className:"notfound-container",children:[w.jsx("h2",{className:"notfound-title",children:"404 - Page Not Found"}),w.jsx("p",{className:"notfound-text",children:"Oops! The page you're looking for doesn't exist or has been moved."}),w.jsx("button",{className:"back-button",onClick:()=>r("/"),children:"Go to Home"})]})}function Sh(r){return r.toLocaleDateString("en-us",{day:"numeric",year:"numeric",month:"long"})}const u2=()=>{const{user:r}=Ai(),e=Zn();return{createAction:async s=>{const o=Object.fromEntries(s);o.comments=[],o.likes=[],o.createdAt=Sh(new Date),o.updatedAt=Sh(new Date),o.ownerId=r.uid,o.username=r.username,o.avatarUrl=r.avatarUrl;try{const u=En(qh(Wt,"items"));o._id=u.id,await Fp(u,o),e("/phones")}catch(u){console.log(u)}}}};function Qp({isOpen:r,onClose:e,onConfirm:n,title:s,message:o}){return r?w.jsx("div",{className:"modal-backdrop",children:w.jsxs("div",{className:"modal-container",children:[w.jsx("h3",{className:"modal-title",children:s}),w.jsx("p",{className:"modal-message",children:o}),w.jsxs("div",{className:"modal-actions",children:[w.jsx("button",{className:"confirm-button",onClick:n,children:"Confirm"}),w.jsx("button",{className:"cancel-button",onClick:e,children:"Cancel"})]})]})}):null}function c2(){const{errors:r,visibleErrors:e,handlePhoneDataError:n}=Kp(),{createAction:s}=u2(),[o,u]=q.useState(!1),[f,m]=q.useState(null),p=g=>{g.preventDefault(),m(new FormData(g.target)),u(!0)};return w.jsxs(w.Fragment,{children:[w.jsx(Qp,{isOpen:o,onClose:()=>u(!1),onConfirm:()=>{f&&s(f),u(!1)},title:"Confirm Selling this Phone",message:"Are you sure you want to sell this phone?"}),w.jsxs("div",{className:"sell-phone-container",children:[w.jsx("h2",{className:"sell-phone-title",children:"Sell Phone"}),w.jsxs("form",{className:"sell-phone-form",onSubmit:p,children:[w.jsx("label",{children:"Title:"}),w.jsx("input",{type:"text",name:"title",required:!0,onBlur:n}),r.title&&w.jsx("span",{className:`error-text ${e.title?"show":""}`,children:r.title}),w.jsx("label",{children:"Image URL:"}),w.jsx("input",{type:"text",name:"imageUrl",required:!0,onBlur:n}),r.imageUrl&&w.jsx("span",{className:`error-text ${e.imageUrl?"show":""}`,children:r.imageUrl}),w.jsx("label",{children:"Price:"}),w.jsx("input",{type:"number",name:"price",required:!0,onBlur:n}),r.price&&w.jsx("span",{className:`error-text ${e.price?"show":""}`,children:r.price}),w.jsx("label",{children:"Description:"}),w.jsx("textarea",{name:"description",required:!0,onBlur:n}),r.description&&w.jsx("span",{className:`error-text ${e.description?"show":""}`,children:r.description}),w.jsx("div",{className:"actions",children:w.jsx("button",{type:"submit",className:"submit-button",style:{backgroundColor:Object.values(r).some(Boolean)?"grey":""},disabled:Object.values(r).some(Boolean),children:"Submit"})})]})]})]})}function h2({onSearch:r,onPriceFilter:e}){const[n,s]=q.useState(""),[o,u]=q.useState(""),f=p=>{s(p.target.value),r(p.target.value)},m=p=>{u(p.target.value),e(p.target.value)};return w.jsxs("div",{className:"search-container",children:[w.jsx("input",{type:"text",placeholder:"Search by product name...",value:n,onChange:f,className:"search-input"}),w.jsx("input",{type:"number",placeholder:"Max price",value:o,onChange:m,className:"price-input"})]})}const $p=(r={})=>{const[e,n]=q.useState([]),[s,o]=q.useState([]),[u,f]=q.useState([]);return q.useEffect(()=>{let g=!0;return(async()=>{try{const R=(await Hp(qh(Wt,"items"))).docs.map(O=>({id:O.id,...O.data()}));if(g){n(R),o(R);const O=R.filter(L=>L.likes.includes(r.uid));f(O)}}catch(S){console.error("Error fetching products:",S)}})(),()=>{g=!1}},[]),{filteredProducts:s,likedPhones:u,handleSearch:g=>{const E=e.filter(S=>S.title.toLowerCase().includes(g.toLowerCase()));o(E)},handlePriceFilter:g=>{const E=e.filter(S=>Number(S.price)<=g);if(g===""||g===null){o(e);return}o(E)}}};function Yp({phone:r}){return w.jsxs(gi,{className:"product-card",to:`/phones/${r.id}`,children:[w.jsx("div",{className:"image-wrapper",children:w.jsx("img",{src:r.imageUrl,alt:r.title,className:"product-image"})}),w.jsx("h2",{className:"product-name",children:r.title}),w.jsxs("p",{className:"product-price",children:["$",r.price]})]})}function f2(){const{filteredProducts:r,handleSearch:e,handlePriceFilter:n}=$p();return w.jsxs("div",{className:"products-container",children:[w.jsx("h2",{className:"products-title",children:"BROWSE FROM ALL OF THE PHONES ON OUR SITE"}),w.jsx(h2,{onSearch:e,onPriceFilter:n}),w.jsx("div",{className:"products-grid",children:r.length>0?r.map(s=>w.jsx(Yp,{phone:s},s._id)):w.jsx($h,{})})]})}const d2=()=>{const{id:r}=tu(),[e,n]=q.useState(null),[s,o]=q.useState(""),{user:u}=Ai(),f=Zn();return q.useEffect(()=>{let E=!0;return(async()=>{const R=En(Wt,"items",r),O=await Ys(R);E&&O.exists()&&n({id:O.id,...O.data()})})(),()=>{E=!1}},[r]),{product:e,comment:s,setComment:o,handleCommentSubmit:async()=>{if(!u||!s.trim())return;const E={userId:u.uid,username:u.username,avatarUrl:u.avatarUrl,text:s,date:Sh(new Date)},S=En(Wt,"items",r);await Th(S,{comments:zE(E)}),n(R=>({...R,comments:[...R.comments,E]})),o("")},handleDelete:async()=>{await QO(En(Wt,"items",r)),f("/phones")},handleLike:async()=>{if(!u)return;const E=En(Wt,"items",r),S=e.likes.includes(u.uid);await Th(E,{likes:S?YO(u.uid):zE(u.uid)}),n(R=>({...R,likes:S?R.likes.filter(O=>O!==u.uid):[...R.likes,u.uid]}))}}};function m2(){var E;const{user:r}=Ai(),{product:e,comment:n,setComment:s,handleLike:o,handleCommentSubmit:u,handleDelete:f}=d2(),[m,p]=q.useState(!1);if(!e)return w.jsx($h,{});const g=r&&e.ownerId===r.uid;return w.jsxs(w.Fragment,{children:[w.jsx(Qp,{isOpen:m,onClose:()=>p(!1),onConfirm:f,title:"Confirm Deletion",message:"Are you sure you want to delete this phone?"}),w.jsxs("div",{className:"product-details-container",children:[w.jsxs("div",{className:"product-main",children:[w.jsx("div",{className:"product-image-container",children:w.jsx("img",{src:e.imageUrl,alt:e.title,className:"product-image"})}),w.jsxs("div",{className:"product-info",children:[w.jsx("h2",{children:e.title}),w.jsxs("strong",{children:[e.price," USD"]}),w.jsx("p",{children:e.description}),w.jsxs("div",{children:[w.jsxs("p",{children:["Posted at: ",e.createdAt]}),w.jsxs("p",{children:["Updated at: ",e.updatedAt]})]})]})]}),g&&w.jsxs("div",{className:"owner-actions",children:[w.jsx(gi,{to:`/phones/${e._id}/edit`,className:"edit-btn",children:"Edit"}),w.jsx("button",{onClick:()=>p(!0),className:"delete-btn",children:"Delete"})]}),w.jsx("div",{className:"product-interactions",children:w.jsxs("div",{className:"comments-section",children:[w.jsxs(gi,{to:`/profile/${e.ownerId}`,className:"profile-user",children:[w.jsx("img",{src:e.avatarUrl,alt:e.username,className:"profile-avatar"}),w.jsx("span",{children:e.username})]}),r&&w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:o,className:`like-button ${e.likes.includes(r==null?void 0:r.uid)?"liked":""}`,children:e.likes.includes(r==null?void 0:r.uid)?w.jsx("i",{className:"fa-solid fa-heart-crack"}):w.jsx("i",{className:"fa-solid fa-heart"})}),w.jsxs("span",{className:"likes-count",children:[e.likes.length," Likes"]}),!g&&w.jsxs("div",{className:"contact",children:[w.jsx("h3",{children:"Contact the seller:"}),w.jsx("button",{children:w.jsx(gi,{className:"chat",to:`/chat/${e.ownerId}`,children:w.jsx("i",{className:"fa-solid fa-message"})})}),w.jsx("button",{className:"chat",children:w.jsx("i",{className:"fa-solid fa-phone"})})]}),w.jsx("h3",{children:"Ask a question about this product:"}),w.jsxs("div",{className:"comment-form",children:[w.jsx("textarea",{value:n,onChange:S=>s(S.target.value),placeholder:"Write a comment..."}),w.jsx("button",{onClick:u,children:"Post"})]})]}),w.jsx("div",{className:"comments-list",children:((E=e.comments)==null?void 0:E.length)>0?e.comments.map((S,R)=>w.jsxs("div",{className:"comment",children:[w.jsxs("div",{className:"comment-header",children:[w.jsxs(gi,{to:`/profile/${S.userId}`,className:"comment-user",children:[w.jsx("img",{src:S.avatarUrl,alt:S.username,className:"comment-avatar"}),w.jsx("span",{children:S.username})]}),w.jsx("span",{className:"comment-date",children:new Date(S.date).toLocaleDateString()})]}),w.jsx("p",{children:S.text})]},R)):w.jsx("p",{children:"No comments yet."})})]})})]})]})}const p2=()=>{const{id:r}=tu(),e=Zn(),{user:n}=Ai(),[s,o]=q.useState({title:"",description:"",price:"",imageUrl:""});return q.useEffect(()=>{let m=!0;return(async()=>{if(!n)return;const g=En(Wt,"items",r),E=await Ys(g);if(E.exists()){const S=E.data();if(S.ownerId!==n.uid){e(`/phones/${r}`);return}m&&o({title:S.title,description:S.description,price:S.price,imageUrl:S.imageUrl})}else e("/")})(),()=>{m=!1}},[r,e,n]),{editedProduct:s,handleEditChange:m=>{const{name:p,value:g}=m.target;o(E=>({...E,[p]:g}))},handleEditSubmit:async()=>{const m=En(Wt,"items",r);await Th(m,{title:s.title,description:s.description,price:s.price,imageUrl:s.imageUrl,updatedAt:Sh(new Date)}),e(`/phones/${r}`)}}};function g2(){const{id:r}=tu(),{editedProduct:e,handleEditChange:n,handleEditSubmit:s}=p2(),{errors:o,visibleErrors:u,handlePhoneDataError:f}=Kp(),[m,p]=q.useState(!1),g=Zn(),E=S=>{S.preventDefault(),p(!0)};return w.jsxs(w.Fragment,{children:[w.jsx(Qp,{isOpen:m,onClose:()=>p(!1),onConfirm:s,title:"Confirm Edit",message:"Are you sure you want to edit this phone?"}),w.jsxs("div",{className:"edit-product-container",children:[w.jsx("h2",{children:"Edit Phone"}),w.jsxs("form",{onSubmit:E,className:"edit-product-form",children:[w.jsx("label",{children:"Title:"}),w.jsx("input",{type:"text",name:"title",value:e.title,onChange:n,required:!0,onBlur:f}),o.title&&w.jsx("span",{className:`error-text ${u.title?"show":""}`,children:o.title}),w.jsx("label",{children:"Image URL:"}),w.jsx("input",{type:"text",name:"imageUrl",value:e.imageUrl,onChange:n,required:!0,onBlur:f}),o.imageUrl&&w.jsx("span",{className:`error-text ${u.imageUrl?"show":""}`,children:o.imageUrl}),w.jsx("label",{children:"Price:"}),w.jsx("input",{type:"number",name:"price",value:e.price,onChange:n,required:!0,onBlur:f}),o.price&&w.jsx("span",{className:`error-text ${u.price?"show":""}`,children:o.price}),w.jsx("label",{children:"Description:"}),w.jsx("textarea",{name:"description",value:e.description,onChange:n,required:!0,onBlur:f}),o.description&&w.jsx("span",{className:`error-text ${u.description?"show":""}`,children:o.description}),w.jsxs("div",{className:"edit-actions",children:[w.jsx("button",{type:"submit",className:"save-btn",style:{backgroundColor:Object.values(o).some(Boolean)?"grey":""},disabled:Object.values(o).some(Boolean),children:"Save Changes"}),w.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>g(`/phones/${r}`),children:"Cancel"})]})]})]})]})}function y2(){const{user:r}=Ai(),{likedPhones:e}=$p(r);return w.jsxs("div",{className:"products-container",children:[w.jsx("h2",{className:"products-title",children:"LIKED PHONES"}),e.length<1&&w.jsx("p",{children:"There are no liked phones!"}),w.jsx("div",{className:"products-grid",children:e.map(n=>w.jsx(Yp,{phone:n},n._id))})]})}function _2(){const{filteredProducts:r}=$p(),n=((s,o)=>[...s].sort(()=>.5-Math.random()).slice(0,o))(r,3);return w.jsxs("section",{className:"welcome-section",children:[w.jsxs("h1",{children:["Welcome to ",w.jsx("span",{className:"brand-name",children:"SmartSwap"}),"  Your Destination for Quality Pre-Owned Phones! "]}),w.jsx("p",{children:"Looking for a reliable second-hand smartphone at an unbeatable price? You've come to the right place!"}),w.jsxs("p",{children:["At ",w.jsx("strong",{children:"Thrift Shop"}),", we offer a carefully curated selection of ",w.jsx("strong",{children:"affordable, high-quality"})," pre-owned phones to suit every budget."]}),w.jsxs("ul",{className:"features-list",children:[w.jsxs("li",{children:[" ",w.jsx("strong",{children:"Tested for Performance"})]}),w.jsxs("li",{children:[" ",w.jsx("strong",{children:"Great Deals on Top Brands"})]}),w.jsxs("li",{children:[" ",w.jsx("strong",{children:"Eco-Friendly & Budget-Friendly"})]})]}),w.jsx("h2",{children:"Some of the selling phones:"}),w.jsx("div",{className:"products-grid",children:n.length>0?n.map(s=>w.jsx(Yp,{phone:s},s._id)):w.jsx($h,{})}),w.jsx(gi,{to:"/phones",className:"browse-btn",children:"Start Browsing "})]})}function v2(){const{user:r,isLoading:e}=Ai();return e?null:r?w.jsx(JE,{}):w.jsx(ZE,{to:"/404"})}function E2(){const{user:r}=Ai();return r?w.jsx(ZE,{to:"/404"}):w.jsx(JE,{})}const T2=()=>{const{user:r}=Ai(),[e,n]=q.useState([]),s=q.useCallback(async()=>{const u=DS(qh(Wt,"chats"),NS("participants","array-contains",r.uid)),f=await Hp(u),m=[];f.forEach(p=>{const g=p.data();m.push({id:p.id,...g})}),n(m)},[r.uid]);q.useEffect(()=>{s()},[s]);const o=q.useMemo(()=>e.map(u=>{const f=u.participants.find(p=>p!==r.uid),m=u.participantsInfo[f];return w.jsx(gi,{to:`/chat/${m.id}`,children:w.jsx("div",{className:"chat-item",children:w.jsxs("span",{children:["Chat with ",m.username]})})},m.id)}),[e,r.uid]);return w.jsxs("div",{className:"chat-list",children:[w.jsx("h2",{children:"Your Chats"}),e.length===0?w.jsx("p",{children:"No chats available."}):o]})},S2=q.memo(T2),A2={messages:[],newMessage:"",partner:null},w2=(r,e)=>{switch(e.type){case"SET_MESSAGES":return{...r,messages:e.payload};case"ADD_MESSAGE":return{...r,messages:[...r.messages,e.payload]};case"SET_NEW_MESSAGE":return{...r,newMessage:e.payload};case"SET_PARTNER":return{...r,partner:e.payload};default:return r}},b2=()=>{const{user:r}=Ai(),{partnerId:e}=tu(),[n,s]=q.useReducer(w2,A2),o=q.useRef(null),[u,f]=q.useState([]),m=q.useCallback(async()=>{const S=r.uid<e?r.uid+"_"+e:e+"_"+r.uid,R=En(Wt,"chats",S),O=await Ys(R);O.exists()&&s({type:"SET_MESSAGES",payload:O.data().messages})},[r.uid,e]),p=q.useCallback(async()=>{const S=En(Wt,"users",e),R=await Ys(S);R.exists()&&s({type:"SET_PARTNER",payload:R.data()})},[e]);q.useEffect(()=>{m(),p()},[m,p]),q.useLayoutEffect(()=>{o.current&&o.current.scrollIntoView({behavior:"smooth"})},[n.messages,u]);const g=async()=>{var L;if(!n.newMessage.trim())return;const S={senderId:r.uid,receiverId:e,message:n.newMessage,timestamp:new Date,optimistic:!0};f(K=>[...K,S]),s({type:"SET_NEW_MESSAGE",payload:""});const R=r.uid<e?r.uid+"_"+e:e+"_"+r.uid,O=En(Wt,"chats",R);try{const K=await Ys(O);K.exists()?await Th(O,{messages:[...K.data().messages,{...S,optimistic:!1}]}):await Fp(O,{participants:[r.uid,e],participantsInfo:{[r.uid]:{id:r.uid,username:r.username},[e]:{id:e,username:(L=n.partner)==null?void 0:L.username}},messages:[{...S,optimistic:!1}]}),f(F=>F.filter(Y=>Y!==S)),s({type:"ADD_MESSAGE",payload:{...S,optimistic:!1}})}catch(K){console.error("Error sending message:",K),f(F=>F.filter(Y=>Y!==S))}},E=q.useMemo(()=>[...n.messages,...u].map((S,R)=>w.jsx("div",{className:`message ${S.senderId===r.uid?"sent":"received"} ${S.optimistic?"pending":""}`,children:w.jsx("span",{children:S.message})},R)),[n.messages,u,r.uid]);return w.jsxs("div",{className:"chat-container",children:[n.partner&&w.jsxs("div",{className:"chat-header",children:[w.jsx("img",{src:n.partner.avatarUrl||"default-avatar.png",alt:"Avatar",className:"avatar"}),w.jsxs("h2",{children:["Chat with ",n.partner.username]})]}),w.jsxs("div",{className:"messages",children:[E,w.jsx("div",{ref:o})]}),w.jsxs("div",{className:"send-message",children:[w.jsx("textarea",{value:n.newMessage,onChange:S=>s({type:"SET_NEW_MESSAGE",payload:S.target.value}),placeholder:"Type a message"}),w.jsx("button",{onClick:g,children:"Send"})]})]})},R2=q.memo(b2);function C2(){return w.jsx(ZO,{children:w.jsxs(Nb,{children:[w.jsx(e2,{}),w.jsx("main",{children:w.jsxs(ob,{children:[w.jsx(Bt,{path:"/",element:w.jsx(_2,{})}),w.jsxs(Bt,{element:w.jsx(v2,{}),children:[w.jsx(Bt,{path:"/profile/:id",element:w.jsx(n2,{})}),w.jsx(Bt,{path:"/phones/sell",element:w.jsx(c2,{})}),w.jsx(Bt,{path:"/phones/liked",element:w.jsx(y2,{})}),w.jsx(Bt,{path:"/phones/:id/edit",element:w.jsx(g2,{})}),w.jsx(Bt,{path:"/chat-list",element:w.jsx(S2,{})}),w.jsx(Bt,{path:"/chat/:partnerId",element:w.jsx(R2,{})})]}),w.jsxs(Bt,{element:w.jsx(E2,{}),children:[w.jsx(Bt,{path:"/login",element:w.jsx(o2,{})}),w.jsx(Bt,{path:"/register",element:w.jsx(s2,{})})]}),w.jsx(Bt,{path:"/phones",element:w.jsx(f2,{})}),w.jsx(Bt,{path:"/phones/:id",element:w.jsx(m2,{})}),w.jsx(Bt,{path:"/about",element:w.jsx(l2,{})}),w.jsx(Bt,{path:"/404",element:w.jsx(qE,{})}),w.jsx(Bt,{path:"*",element:w.jsx(qE,{})})]})}),w.jsx(jb,{})]})})}pw.createRoot(document.getElementById("root")).render(w.jsx(q.StrictMode,{children:w.jsx(C2,{})}));
